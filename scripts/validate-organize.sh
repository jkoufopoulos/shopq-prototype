#!/bin/bash
# Validation script for email organization
# Checks that all emails are labeled and archived properly

echo "üìã ShopQ Organization Validation"
echo "================================"
echo ""

# Instructions
echo "‚úÖ INSTRUCTIONS:"
echo "1. Reload the Chrome extension (chrome://extensions, click reload)"
echo "2. Open Gmail inbox"
echo "3. Open DevTools Console (F12)"
echo "4. Run: triggerAutoOrganizeNow()"
echo "5. Wait for completion message"
echo "6. Check the results below:"
echo ""
echo "Expected Results:"
echo "  ‚úì Console shows '‚úÖ Labels applied successfully' for each email"
echo "  ‚úì Console shows 'üîß [DEBUG] Modifying thread XXX' with addLabelIds"
echo "  ‚úì Inbox becomes empty (all emails archived)"
echo "  ‚úì All emails show ShopQ-* labels when you check 'All Mail'"
echo ""
echo "To verify manually:"
echo "  1. Check inbox count (should be 0)"
echo "  2. Go to 'All Mail'"
echo "  3. Filter by: label:ShopQ-*"
echo "  4. Verify all recently organized emails have labels"
echo ""
echo "Common Issues:"
echo "  ‚ùå 'No labels for email' ‚Üí Classification failed"
echo "  ‚ùå 'Failed to fetch thread' ‚Üí Gmail API error"
echo "  ‚ùå Emails still in inbox ‚Üí Archive not working"
echo "  ‚ùå No ShopQ labels visible ‚Üí Label application failed"
echo ""
