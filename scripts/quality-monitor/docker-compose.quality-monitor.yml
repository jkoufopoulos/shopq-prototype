# Docker Compose for Quality Monitor
#
# Usage:
#   docker-compose -f docker-compose.quality-monitor.yml up -d
#   docker-compose -f docker-compose.quality-monitor.yml logs -f
#   docker-compose -f docker-compose.quality-monitor.yml down

version: '3.8'

services:
  quality-monitor:
    build:
      context: .
      dockerfile: Dockerfile.quality-monitor
    container_name: mailq-quality-monitor
    restart: unless-stopped
    env_file:
      - .env
    volumes:
      - ./quality_monitor.db:/app/quality_monitor.db
      - ./quality_monitor.log:/app/quality_monitor.log
    environment:
      - SHOPQ_API_URL=${SHOPQ_API_URL}
      - ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}
      - GITHUB_TOKEN=${GITHUB_TOKEN}
      - GITHUB_REPO=${GITHUB_REPO:-justinkoufopoulos/mailq-prototype}
      - CHECK_INTERVAL_MINUTES=${CHECK_INTERVAL_MINUTES:-30}
