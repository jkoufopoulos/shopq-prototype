/*! For license information please see content.bundle.js.LICENSE.txt */
(()=>{var e={135:e=>{var t;globalThis,t=()=>(()=>{var e={8587:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(6448),i=n(8498);const o=/([?&])_=[^&]*/;let s=Date.now()+Math.floor(Math.random()*Math.pow(2,32));const a=64e3,l=5,u={};function c(e){if(!e||"string"!=typeof e.url)throw new Error("URL must be given");return new Promise(function(t,n){const d=e.method?e.method:"GET";let h=e.url,p=null;e.data&&(p="string"==typeof e.data?e.data:r.stringify(e.data),"GET"!==d&&"HEAD"!==d||(h+=(/\?/.test(h)?"&":"?")+p,p=null));const f=null!=e.canRetry?e.canRetry:"GET"===d||"HEAD"===d,m=h.match(/(?:(?:[a-z]+:)?\/\/)?([^/]*)\//);if(!m)throw new Error("Failed to match url");const _=m[1];if(Object.prototype.hasOwnProperty.call(u,_))return void n(new Error(`Server at ${h} has told us to stop connecting`));e.cachebust&&(h=function(e){return o.test(e)?e.replace(o,"$1_="+s++):e+(/\?/.test(e)?"&":"?")+"_="+s++}(h));const g=new(e.XMLHttpRequest||window.XMLHttpRequest);if(Object.assign(g,e.xhrFields),g.onerror=function(r){if((e.retryNum||0)<l&&(502===g.status||(0===g.status||g.status>=500)&&f))return void t(function(e){const t=(e.retryNum||0)+1,n=Math.min(1e3*Math.pow(2,t),a);return(0,i.A)(n).then(()=>c(Object.assign({},e,{retryNum:t})))}(e));const o=Object.assign(new Error(`Failed to load ${h}`),{event:r,xhr:g,status:g.status});490==g.status&&(u[_]=!0),n(o)},g.onload=function(e){200===g.status?t({xhr:g,text:g.responseText}):g.onerror(e)},g.open(d,h,!0),e.headers){const{headers:t}=e;Object.keys(t).forEach(e=>{const n=t[e];g.setRequestHeader(e,n)})}g.send(p)})}},1602:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});class r extends Error{name="AssertionError";constructor(e){super(e??"assertion failed")}}function i(e,t){if(!e)throw new r(t)}},4158:(e,t,n)=>{"use strict";n.d(t,{A:()=>i,Z:()=>r});const r=new Set(["class","rel","target","type","tabindex","id","style","role","contenteditable","aria-expanded","aria-hidden","aria-disabled","aria-haspopup","aria-labelledby","aria-busy","aria-multiselectable","name","data-action-data","data-item-id","data-msg-id","data-map-id","g_editable","jsnamespace","jsaction"]);function i(e){return e.replace(/\s([^\s=]+)\s*=\s*"[^"]+"/g,(e,t)=>r.has(t)?e:` ${t}="..."`).replace(/(^|>)([^<]+)/g,(e,t,n)=>t+(n.trim().length?"...":""))}},1443:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1812),i=n.n(r),o=n(4158);function s(e){const t=[],n=[];let r=e,s=0;for(;r;){const a=Array.from(r.attributes).map(e=>{let{name:t,value:n}=e;return i()` ${t}="${o.Z.has(t)?n:"..."}"`}).join(""),l=s,u=r.children.length-1-s,c=e!==r&&l?`[${l}]`:"",d=e!==r&&u?`[${u}]`:"";t.push(i()`<${r.nodeName.toLowerCase()}${{__html:a}}>${c}`),n.push(i()`${d}</${r.nodeName.toLowerCase()}>`),r.parentElement&&(s=Array.from(r.parentElement.children).indexOf(r)),r=r.parentElement}return t.reverse().join("")+(0,o.A)(e.innerHTML)+n.join("")}},4531:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e,t){const n=e.get(t);if(void 0===n)throw new Error("Key not found in map");return n}},6305:(e,t,n)=>{"use strict";function r(e){return e.replace(/<[^>]*>?/g,"")}n.d(t,{A:()=>o});const i=globalThis.trustedTypes?.createPolicy("inboxSdk__removeHtmlTagsPolicy",{createHTML:e=>r(e)})??{createHTML:e=>r(e)};function o(e){const t=document.createElement("div");return t.innerHTML=i.createHTML(e),t.textContent}},8130:(e,t,n)=>{"use strict";function r(e){return e.offsetWidth>0||e.offsetHeight>0}n.d(t,{A:()=>r})},960:(e,t,n)=>{"use strict";function r(e){return null!=e}n.d(t,{A:()=>r})},4782:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r});const r="2.2.11-1764118012397-e51ed7952926d731"},6280:(e,t,n)=>{"use strict";n.d(t,{Cs:()=>o,Kc:()=>i,Vi:()=>r});const r=Object.freeze({INBOX:"inbox/:page",ALL_MAIL:"all/:page",SENT:"sent/:page",STARRED:"starred/:page",DRAFTS:"drafts/:page",SNOOZED:"snoozed/:page",DONE:"done",REMINDERS:"reminders",LABEL:"label/:labelName/:page",TRASH:"trash/:page",SPAM:"spam/:page",IMPORTANT:"imp/:page",SEARCH:"search/:query/:page",THREAD:"inbox/:threadID",CHATS:"chats/:page",CHAT:"chats/:chatID",CONTACTS:"contacts/:page",CONTACT:"contacts/:contactID",SETTINGS:"settings/:section",SCHEDULED:"scheduled",CHAT_WELCOME:"chat/welcome",CHAT_DM:"chat/dm/:chatID",SPACES_WELCOME:"rooms/welcome",SPACE:"chat/space/:spaceID",MEET:"calls",ANY_LIST:"*"}),i=Object.freeze({INBOX:r.INBOX,ALL_MAIL:r.ALL_MAIL,SENT:r.SENT,STARRED:r.STARRED,DRAFTS:r.DRAFTS,SNOOZED:r.SNOOZED,DONE:r.DONE,REMINDERS:r.REMINDERS,LABEL:r.LABEL,TRASH:r.TRASH,SPAM:r.SPAM,IMPORTANT:r.IMPORTANT,SEARCH:r.SEARCH,ANY_LIST:r.ANY_LIST}),o=Object.freeze({LIST:"LIST",THREAD:"THREAD",SETTINGS:"SETTINGS",CHAT:"CHAT",SPACE:"SPACE",MEET:"MEET",CUSTOM:"CUSTOM",UNKNOWN:"UNKNOWN"})},876:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(9513),i=n.n(r),o=n(7332),s=n(5609),a=n(1433),l=n(8579);async function u(e,t){const n=await(0,s.A)({method:"GET",url:document.location.origin+document.location.pathname,data:{ui:"2",ik:e.getPageCommunicator().getIkValue(),view:"cv",th:t,prf:"1",nsc:"1",mb:"0",rt:"j",search:"drafts"}});try{return{draftID:(0,a.Vo)(n.text,t),debugData:{responseText:n.text}}}catch(r){throw(0,l.A)(e.getAppId())&&e.getLogger().error(r,{message:"failed to read draft ID",messageID:t,text:n.text}),r}}e=n.hmd(e);const c=i()(u,(e,t)=>t),d=(0,o.defn)(e,function(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?u(e,t):c(e,t)})},7101:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(5193),i=n.n(r),o=n(7332),s=n(6280),a=n(4603);e=n.hmd(e);const l=o.defn(e,async function(e,t,n){if("#"===t[0]){if(n)throw new Error("params parameter can't be passed with resolved URL");t=t.slice(1)}if(i()(s.Vi,t)){if(n&&"string"!=typeof n){const t=n.threadID;if(t&&"string"==typeof t){const r=parseInt(t,16);if(!isNaN(r)){const r=await e.getSyncThreadIdForOldGmailThreadId(t);n={...n,threadID:"#"+r}}}}const r=e.createLink(t,n),i=document.createElement("a");i.style.display="none",i.href=r,document.body.appendChild(i),(0,a.jp)(i),i.remove()}else{const r=e.createLink(t,n);window.location.hash=r}})},6908:(e,t,n)=>{"use strict";function r(){return null!=document.querySelector("div[role=navigation] > :nth-child(1).Xa")}function i(){return r()?null!=document.querySelector("div[role=navigation].aBA"):null}function o(){return null!=document.querySelector("div[role=navigation] > .ao4")}n.d(t,{Ay:()=>r,HW:()=>i,Zu:()=>o})},2268:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7332),i=n(4003),o=n(8734);function s(e,t){i.A.waitForGmailModeToSettle().then(function(){i.A.isStandalone()||function(e,t){e.getRouteViewDriverStream().scan((e,t)=>{let n,r;return e&&e.gmailRouteView&&e.gmailRouteView.isCustomRouteBelongingToApp()&&(n=e.gmailRouteView.getRouteID(),r=e.gmailRouteView.getParams()),{gmailRouteView:t,lastCustomRouteID:n,lastCustomRouteParams:r}},void 0).changes().onValue(n=>{let{gmailRouteView:r,lastCustomRouteID:i,lastCustomRouteParams:o}=n;a(r,i,o,e,t)})}(e,t)})}e=n.hmd(e);const a=(0,r.defn)(e,function(e,t,n,r,s){t&&e.getRouteType()===s.RouteTypes.THREAD&&function(e,t){const n=i.A.getThreadBackButton();n&&(0,o.A)(n).takeUntilBy(t.getStopper()).filter(e=>!e.defaultPrevented).onValue(e=>{window.history.back(),e.preventDefault(),e.stopImmediatePropagation()})}(0,e)})},7032:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var r=n(7249),i=n(616),o=n.n(i),s=n(3197),a=n(2843);function l(e){return t=>{const n=e(t.el);return t.removalStream.take(1).onValue(()=>{n.destroy()}),n}}class u{_streamCount=0;_ended=!1;_pool=r.pool();constructor(e){this.stream=this._pool.filter(()=>(this._streamCount--,0===this._streamCount&&(this._ended=!0,!0))).take(1).toProperty(),this.stream.onValue(()=>{}),this.add(e)}add(e){if(this._ended)throw new Error("Tried to add a stream to a stopped StopperPool");const t=Array.isArray(e)?e:[e];this._streamCount+=t.length,this._pool.plug(r.merge(t.map(e=>e.take(1))))}getSize(){return this._streamCount}}var c=n(1136),d=n(4003),h=n(3737),p=n(960);e=n.hmd(e);var f=o()(e,function(e,t,n){return r.fromPromise(d.A.waitForGmailModeToSettle()).flatMap(()=>{let t,i=!1;return d.A.isStandaloneComposeWindow()?(t=_(()=>d.A.StandaloneCompose.getComposeWindowContainer()),i=!0):t=d.A.isStandaloneThreadWindow()?r.never():_(()=>d.A.getComposeWindowContainer()).flatMap(e=>{const t=e.el.querySelector("div.AD");return t?(0,a.A)(t).takeUntilBy(e.removalStream).map(g("composeFullscreenStateChanged")):r.never()}).merge(d.A.getFullscreenComposeWindowContainerStream().flatMap(e=>{let{el:t,removalStream:n}=e;return(0,a.A)(t).takeUntilBy(n)}).map(g("composeFullscreenStateChanged")).map(e=>{let{el:t,removalStream:n}=e;const r=t.querySelector("[role=dialog] div.aaZ");if(!r)return null;var i=(0,s.A)(r,{childList:!0}).filter(()=>0===r.childElementCount).map(()=>null);return{el:t,removalStream:n.merge(i).take(1)}}).filter(p.A)).flatMap(e=>{if(!e)throw new Error("Should not happen");const t=e.el.querySelector("[role=dialog]");return t&&t.querySelector("form")?r.constant({el:t,removalStream:e.removalStream}):r.never()}).flatMap(function(){const e=new Map;return t=>{let n=e.get(t.el);return n?(n.getSize()>1&&console.warn("element is part of multiple element streams",n.getSize(),t.el),n.add(t.removalStream.flatMap(c.A)),r.never()):(n=new u(t.removalStream.flatMap(c.A)),n.stream.onValue(function(){e.delete(t.el)}),e.set(t.el,n),r.constant({el:t.el,removalStream:n.stream}))}}()),t.map(l(t=>new h.A(t,n,e,{isStandalone:i,isInlineReplyForm:!1})))}).merge(t.flatMap(t=>t.getReplyElementStream().map(l(t=>new h.A(t,n,e,{isStandalone:!1,isInlineReplyForm:!0}))))).flatMap(e=>e.ready())});function m(e,t,n){return f.flatMapLatest(r=>r(e,t,n))}function _(e){return r.interval(2e3,void 0).map(e).filter().take(1).flatMap(e=>(0,a.A)(e))}function g(e){return function(t){const n=t&&t.el&&t.el.querySelector&&t.el.querySelector("[role=dialog]");return n&&n.dispatchEvent(new CustomEvent(e,{bubbles:!1,cancelable:!1,detail:null})),t}}},3759:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7332),i=n(4003),o=n(4603);e=n.hmd(e);const s=(0,r.defn)(e,function(e,t){const n=i.A.getContentSectionElement();if(!n)return;const r=document.getSelection();for(let e=0;e<r.rangeCount;e++){const t=r.getRangeAt(e);if("function"==typeof t.intersectsNode&&t.intersectsNode(n)){r.removeAllRanges();break}}const s=function(e){let t=e.querySelector(".inboxsdk__custom_view");return t||(t=document.createElement("div"),t.classList.add("inboxsdk__custom_view"),e.appendChild(t),t)}(n);s.appendChild(t);const a=n.children;Array.prototype.forEach.call(a,e=>{e.classList.contains("inboxsdk__custom_view")||(e.style.display="none")});const l=i.A.getCompanionSidebarIconContainerElement();if(l){const e=l.querySelector(".J-KU-KO");e&&(0,o.jp)(e)}document.body.classList.add("inboxsdk__custom_view_active")})},4003:(e,t,n)=>{"use strict";n.d(t,{A:()=>v});var r=n(8921),i=n.n(r),o=n(7249),s=n(2843),a=n(9860),l=n(3197);const u=i()(()=>(0,l.A)(document.body,{attributes:!0,attributeFilter:["class"]}).toProperty(()=>{}).filter(()=>document.body.classList.length>0).map(()=>{}).take(1).toProperty());var c=n(6456),d=n.n(c),h=n(1539);function p(e){return"none"!==e.target.style.display}var f=n(6908),m=n(2617),_=n(5156);const g=".aeN.WR.a6o.anZ.nH.oy8Mbf[role=navigation]",b={getActiveMoreMenu(){const e=document.querySelectorAll(".J-M.aX0.aYO.jQjAxd");for(let t=0;t<e.length;t++)if("none"!==e[t].style.display)return e[t];return null},getAddonSidebarContainerElement:()=>document.querySelector(".no > .nn.bnl"),getCompanionSidebarContentContainerElement:()=>document.querySelector(".brC-brG"),getCompanionSidebarIconContainerElement:()=>document.querySelector(".brC-aT5-aOt-Jw"),getComposeButton:()=>(0,f.Ay)()?document.querySelector(".aIH .aic div[role=button].L3"):document.querySelector("[gh=cm]"),getComposeWindowContainer:()=>document.querySelector(".dw .nH > .nH > .no"),getContentSectionElement(){const e=document.querySelector("div.nH.bkK > .nH");if((0,f.Ay)())return e;{const t=b.getLeftNavContainerElement(),n=t?t.nextElementSibling.children[0]:null;return e!==n&&m.A.error(new Error("getContentSectionElement old and new method inconsistency"),{elClassName:e?.className,oldMethodClassName:n?.className}),n}},getFullscreenComposeWindowContainer:()=>document.querySelector(".aSs .aSt"),getFullscreenComposeWindowContainerStream(){if(!document.body)throw new Error;return(0,s.A)(document.body).filter(e=>{let{el:t}=e;return t.classList.contains("aSs")}).flatMap(e=>{let{el:t,removalStream:n}=e;return(0,s.A)(t).takeUntilBy(n)}).filter(e=>{let{el:t}=e;return t.classList.contains("aSt")}).take(1).map(e=>{let{el:t}=e;return{el:t,removalStream:o.never()}}).toProperty()},getGtalkButtons:()=>document.querySelector(".aeN .aj5.J-KU-Jg"),getLeftNavContainerElement(){return this.getAppMenu()?this.getAppMenuContainer()?.querySelector(".aqn.aIH")??null:(0,f.Ay)()?document.querySelector("div[role=navigation] + div.aqn"):document.querySelector(".aeN")},getLeftNavHeightElement:()=>document.querySelector(".aeN"),getMainContentBodyContainerElement:()=>document.querySelector(".no > .nn.bkK"),getMainContentContainer:()=>document.querySelector("div.aeF > div.nH"),getMainContentElementChangedStream:i()(function(){return function(e){const t=function(e){return e.isStandaloneComposeWindow()?o.never():(0,h.A)(()=>e.getMainContentContainer())}(e).flatMap(e=>(0,s.A)(e).filter(e=>{let{el:t}=e;return t.classList.contains("nH")}).flatMap(e=>{let{el:t,removalStream:n}=e;return(0,l.A)(t,{attributes:!0,attributeFilter:["style"]}).map(e=>d()(e)).toProperty(()=>({target:t})).filter(p).map(e=>e.target).takeUntilBy(n)})).toProperty();return t.onValue(()=>{}),t}(this)}),shouldAddNavItemsInline(){if((0,f.Ay)())return!0;const e=document.querySelector(".aeN[role=navigation], .aeN [role=navigation]");if(!e)throw new Error("shouldAddNavItemsInline failed to find leftNavElement");return!!e.classList.contains("aZ6")},getAppMenuAsync:i()(async()=>{if(!b.isStandalone()){await b.waitForGmailModeToSettle();try{const e=await(0,_.A)(()=>document.querySelector(`${g}, .aeN.WR.nH.oy8Mbf[role=navigation]`));if(!document.querySelector(g))return;return e}catch(e){m.A.error(e)}}}),getAppBurgerMenu:()=>document.querySelector('header[role="banner"] > div > div > div[aria-expanded]'),isAppBurgerMenuOpen(){return"true"===this.getAppBurgerMenu()?.getAttribute("aria-expanded")},getAppMenuContainer:()=>document.querySelector(".aqk.aql.bkL"),getAppMenu:()=>document.querySelector(g),getAppHeader:()=>document.querySelector(".oy8Mbf.qp"),getSeparateSectionNavItemMenuInjectionContainer:()=>document.querySelector(".aeN"),getSameSectionNavItemMenuInjectionContainer:()=>(0,f.Ay)()?document.querySelector(".yJ .wT > .n3"):document.querySelector(".aeN .n3"),getRowListElementsContainer:()=>document.querySelector(".bGI.nH")?.parentElement??null,getRowListElements(){const e=document.querySelectorAll("[gh=tl]");return 0===e.length?null:Array.from(e)},getScrollContainer:()=>document.querySelector("div.Tm.aeJ"),getSearchInput:()=>document.querySelector("form[role=search] input"),getSearchSuggestionsBoxParent:()=>document.querySelector("table.gstl_50 > tbody > tr > td.gssb_e"),getSidebarContainerElement:()=>document.querySelector("[role=main] table.Bs > tr .y3"),getThreadBackButton(){let e;try{e=b.getToolbarElement()}catch(e){return null}return e.querySelector(".lS")},getThreadContainerElement:()=>document.querySelector("[role=main] .g.id table.Bs > tr")||document.querySelector("[role=main] .g.id .a98.iY"),getPreviewPaneContainerElement:()=>document.querySelector("div[role=main] .aia"),getToolbarElement:()=>(0,a.A)(document,"[gh=tm]"),getTopAccountContainer:()=>document.querySelector('header[role="banner"] > div:nth-child(2) > div:nth-child(2)'),isGplusEnabled(){const e=b.getTopAccountContainer();return!!e&&0===e.querySelectorAll('a[href*="https://plus"][href*="upgrade"]').length},isDarkTheme:()=>document.body.classList.contains("inboxsdk__gmail_dark_theme"),isPreviewPane:()=>!!document.querySelector(".aia"),isStandalone(){return this.isStandaloneComposeWindow()||this.isStandaloneThreadWindow()},isStandaloneComposeWindow:()=>document.body.classList.contains("xE")&&document.body.classList.contains("xp"),isStandaloneThreadWindow:()=>document.body.classList.contains("aAU")&&document.body.classList.contains("xE")&&document.body.classList.contains("Su"),StandaloneCompose:{getComposeWindowContainer:()=>document.querySelector("[role=main]")},waitForGmailModeToSettle:()=>u().toPromise()},v=b},1433:(e,t,n)=>{"use strict";n.d(t,{Vo:()=>h,Yl:()=>f}),n(4176),n(6456);var r=n(8496),i=n.n(r),o=n(6046),s=n.n(o),a=(n(6305),n(1602),n(3324));function l(e,t){for(let n=t,r=e.length;n<r;n++)if('"'===e[n]||"'"===e[n])return n;return-1}function u(e,t,n){for(let r=t,i=e.length;r<i;r++)if("\\"===e[r])r++;else if(e[r]===n)return r;return-1}function c(e){const t={includeLengths:!1,suggestionMode:/^5\n/.test(e),noArrayNewLines:!/^[,\]]/m.test(e),includeExplicitNulls:!0},n=[];let r;if(t.suggestionMode){if(r=e.indexOf("'\n"),-1===r)throw new Error("Message was missing beginning header");r+=2}else{if(r=e.indexOf("\n\n"),-1===r)throw new Error("Message was missing beginning newlines");r+=2}for(;r<e.length;){let i=e.indexOf("\n",r+1);-1===i?i=e.length:"\r"===e[i-1]&&(i+=1);const o=e.slice(r,i);let s;if(/^\d+\s*$/.test(o)){t.includeLengths=!0;const n=+o;s=e.slice(i,i+n),r=i+n}else s=e.slice(r),r=e.length;n.push(d(s))}return{value:n,options:t}}function d(e){e=function(e,t){const n=[];let r,i=0,o=!1;for(;-1!==(r=u(e,i,'"'));)o?n.push(e.slice(i,r+1)):n.push(t(e.slice(i,r+1))),i=r+1,o=!o;if(o)throw new Error("string ended inside quoted section");return n.push(t(e.slice(i))),n.join("")}(e=function(e){let t=0;const n=[];for(;;){const r=l(e,t);if(r<0){n.push(e.substr(t));break}if(n.push(e.substr(t,r-t)),n.push('"'),t=r+1,'"'===e[r]){const r=u(e,t,'"');if(r<0)throw new Error("Unclosed double quote");n.push(e.slice(t,r+1)),t=r+1}else{const r=u(e,t,"'");if(r<0)throw new Error("Unclosed single quote");const i=e.slice(t,r).replace(/"/g,'\\"').replace(/\\'/g,"'");n.push(i),n.push('"'),t=r+1}}return n.join("")}(e=e.replace(/[\r\n\t]/g,"")),e=>e.replace(/,\s*(?=,|\])/g,",null").replace(/\[\s*(?=,)/g,"[null"));try{return JSON.parse(e,(e,t)=>null==t?void 0:t)}catch(e){throw new Error("deserialization error")}}function h(e,t){const n=c(e).value,r=s().toArray(n,s().compose(s().cat,s().filter(Array.isArray),s().cat,s().filter(e=>"ms"===e[0]&&e[1]===t),s().take(1),s().map(e=>e[60])))[0];if(r){const e=r.match(/^msg-[^:]:(\S+)$/i);return e&&e[1]}return null}const p=s().compose(s().cat,s().cat,s().filter(e=>"cs"===e[0]),s().map(e=>[e[1],e[2]]));function f(e){const{value:t}=c(e);return s().toObj(t,p)}s().compose(s().cat,s().filter(e=>"tb"===e[0]),s().map(e=>e[2]),s().cat),s().compose(s().cat,s().filter(e=>"cs"===e[0]),s().map(e=>({threadID:e[1],messageIDs:e[8]}))),s().compose(s().cat,s().filter(e=>"ms"===e[0]),s().map(e=>{const t={messageID:e[1],date:e[7],recipients:void 0};return Array.isArray(e[13])?t.recipients=e[13].slice(1,4).filter(e=>null!=e).flat().map(a.A):Array.isArray(e[37])&&(t.recipients=i()(e[37].slice(0,5).filter(e=>Array.isArray(e)).flat(),e=>e[1]).map(e=>({emailAddress:e[1],name:e[0]??void 0}))),t}))},6811:(e,t,n)=>{"use strict";n.d(t,{Uf:()=>s,gb:()=>a,q6:()=>c});var r=n(2180),i=n.n(r),o=n(960);function s(e){const t=JSON.parse(e);if(Array.isArray(t))try{return function(e){const t=e&&e[2];return t?t.map((t,n)=>{const r=t[0];return r?{subject:r[0],snippet:r[1],syncThreadID:r[3],oldGmailThreadID:null!=r[17]?new(i())(r[17]).toString(16):r[19],rawResponse:t,extraMetaData:{snippet:e[14]&&e[14][0]&&e[14][0][n]||"",syncMessageData:r[4].map(e=>({syncMessageID:e[0],oldMessageID:e[55],date:+e[6]}))}}:null}).filter(o.A):[]}(t)}catch(e){return[]}const n=t&&t[3];return n?n.map((e,n)=>{const r=e[1];return r?{subject:r[1],snippet:r[2],syncThreadID:r[4],oldGmailThreadID:null!=r[18]?new(i())(r[18]).toString(16):r[20],rawResponse:e,extraMetaData:{snippet:t[15]&&t[15][1]&&t[15][1][n]||"",syncMessageData:r[5].map(e=>({syncMessageID:e[1],oldMessageID:e[56],date:+e[7]}))}}:null}).filter(o.A):[]}function a(e){const t=JSON.parse(e);if(Array.isArray(t))return function(e){const t=e&&e[1];if(!t)throw new Error("Failed to process thread response");return t.map(e=>{if("string"!=typeof e[0]||!Array.isArray(e[2])||e[1]&&e[1][0]&&e[1][0][13]&&Array.isArray(e[1][1])){const t=e[1]&&e[1][0];if(!t)return null;let n;const r=Array.isArray(e[2])&&e[2];return n=r?r.map(e=>({syncMessageID:e[0],date:+e[1][16],recipients:u(e)})):(e[1]&&e[1][1]).map(e=>({syncMessageId:e[0],date:+e[15]})),{subject:t[1],snippet:t[2],syncThreadID:t[0],oldGmailThreadID:new(i())(t[13]).toString(16),rawResponse:e,extraMetaData:{syncMessageData:n,snippet:""}}}return{syncThreadID:e[0],oldGmailThreadID:e[1]&&e[1][0]&&e[1][0][15]||void 0,extraMetaData:{snippet:e[1]&&e[1][0]&&e[1][0][2]||void 0,syncMessageData:(e[2]||[]).filter(e=>Boolean(e[1])).map(e=>({syncMessageID:e[0],date:+e[1][16],recipients:u(e)}))}}}).filter(o.A)}(t);const n=t&&t[2];if(!n)throw new Error("Failed to process thread response");return n.map(e=>{if("string"!=typeof e[1]||!Array.isArray(e[3])||e[2]&&e[2][1]&&e[2][1][14]&&Array.isArray(e[2][2])){const t=e[2]&&e[2][1];if(!t)return null;let n;const r=Array.isArray(e[3])&&e[3];return n=r?r.map(e=>({syncMessageID:e[1],date:+e[2][17],recipients:l(e)})):(e[2]&&e[2][2]).map(e=>({syncMessageId:e[1],date:+e[16]})),{subject:t[2],snippet:t[3],syncThreadID:t[1],oldGmailThreadID:new(i())(t[14]).toString(16),rawResponse:e,extraMetaData:{syncMessageData:n,snippet:""}}}return{syncThreadID:e[1],oldGmailThreadID:e[2]&&e[2][1]&&e[2][1][16]||void 0,extraMetaData:{snippet:e[2]&&e[2][1]&&e[2][1][3]||void 0,syncMessageData:(e[3]||[]).filter(e=>Boolean(e[2])).map(e=>({syncMessageID:e[1],date:+e[2][17],recipients:l(e)}))}}}).filter(o.A)}function l(e){if(!e[2])return;const t=e[2][1]||[],n=e[2][2]||[],r=e[2][3]||[];return t.concat(n).concat(r).map(e=>({emailAddress:e[2],name:e[3]}))}function u(e){if(!e[1])return;const t=e[1][0]||[],n=e[1][1]||[],r=e[1][2]||[];return t.concat(n).concat(r).map(e=>({emailAddress:e[1],name:e[2]}))}function c(e,t,n){const r=JSON.parse(e);if(Array.isArray(r))try{return function(e,t){return(e[2]||t.length)&&(e[2]=t.map((e,t)=>{let{rawResponse:n}=e;const r=[...n];return r[1]=t,r})),(e[14]||t.length)&&(e[14]=[...e[14]],e[14][0]=t.map(e=>{let{extraMetaData:t}=e;return t.snippet}),Array.isArray(e[14][1])&&e[14][1].length>0&&Array.isArray(e[14][1][0][0])?e[14][1]=t.map(e=>{let{extraMetaData:t}=e;return[[t.syncMessageData[0].syncMessageID]]}):e[14][1]=t.map(e=>{let{extraMetaData:t}=e;return t.syncMessageData.map(e=>{let{syncMessageID:t}=e;return t})})),JSON.stringify(e)}(r,t)}catch(t){return console.error("Caught err in replaceThreadsInSearchResponse",t),e}return(r[3]||t.length)&&(r[3]=t.map((e,t)=>{let{rawResponse:n}=e;return{...n,2:t}})),(r[15]||t.length)&&(r[15]={...r[15],1:t.map(e=>{let{extraMetaData:t}=e;return t.snippet}),2:t.map(e=>{let{extraMetaData:t}=e;return t.syncMessageData.map(e=>{let{syncMessageID:t}=e;return t})})}),JSON.stringify(r)}},745:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(855),i=n.n(r),o=n(616),s=n.n(o);const a={tags:{},watchers:[{sources:[null],tag:"composeLinkPopOverContainer",selectors:["body",".Lf.a5s"]}],finders:{supportMenu:{fn:e=>e.querySelectorAll("header[role=banner] div:not([aria-label]):not([data-ogsr-up]) > div:not(.inboxsdk__appButton) > div[data-tooltip] + div[role=menu]")},composeLinkPopOverContainer:{fn:e=>e.querySelectorAll("body > .Lf.a5s")}}};var l=n(1443);e=n.hmd(e);const u=s()(e,a);function c(e,t){const n=e;function r(e){return n?{...e,logError(e,t){const r={el:t,html:t?(0,l.A)(t):null};n.getLogger().errorSite(e,r)}}:e}const o=new(i())(t,r(a));return u.changes().onValue(e=>{console.log("replacing PageParserTree options"),o.replaceOptions(r(e))}),o}},2893:(e,t,n)=>{"use strict";n.d(t,{A:()=>ce});var r=n(616),i=n.n(r),o=n(7249),s=n(4924),a=n.n(s),l=n(9339),u=n.n(l),c=n(4622),d=n.n(c),h=n(8631),p=n.n(h),f=n(451),m=n.n(f),_=n(7810),g=n(2483);function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}var v=n(6501),A=n.n(v),y=n(3281),w=n.n(y),C=n(5755),x=n.n(C),E=n(6931),k=n.n(E),S=n(4293),I=n(5183);class T extends _.Component{_contentRefCb=e=>{e&&(this._content=e)};componentDidMount(){this._content.appendChild(this.props.el)}componentDidUpdate(e){if(e.el!==this.props.el){for(;this._content.lastElementChild;)this._content.lastElementChild.remove();this._content.appendChild(this.props.el)}}shouldComponentUpdate(e){return this.props.className!==e.className||this.props.el!==e.el}render(){return _.createElement("div",{className:this.props.className,ref:this._contentRefCb})}}const D={stiffness:400,damping:50};class B extends _.Component{_stopper=a()();constructor(e){super(e),this.state={expansionSettings:this._readExpansionSettings()}}componentDidMount(){o.default.fromEvents(window,"storage").filter(e=>"inboxsdk__sidebar_expansion_settings"===e.key).takeUntilBy(this._stopper).onValue(()=>{this.setState({expansionSettings:this._readExpansionSettings()})})}componentWillUnmount(){this._stopper.destroy()}scrollPanelIntoView(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this._list.getItemInstance(e),r=this.props.container;n.scrollIntoView(t,r&&r())}closePanel(e){const t=this.props.panels.find(t=>t.instanceId===e);t&&this._expandedToggle(t.appId,t.id,!1)}openPanel(e){const t=this.props.panels.find(t=>t.instanceId===e);t&&this._expandedToggle(t.appId,t.id,!0)}shouldComponentUpdate(e,t){return this.props.panels!==e.panels||this.state.expansionSettings!==t.expansionSettings}_expandedToggle(e,t,n){const r=this._readExpansionSettings();Object.prototype.hasOwnProperty.call(r.apps,e)||(r.apps[e]={ids:{}}),r.apps[e].ids[t]={lastUse:Date.now(),expanded:n},this.setState({expansionSettings:r},this.props.onExpandedToggle),this._saveExpansionSettings(r)}_readExpansionSettings(){let e;try{e=JSON.parse(n.g.localStorage.getItem("inboxsdk__sidebar_expansion_settings")||"null")}catch(e){console.error("Failed to read sidebar settings",e)}return e||{apps:{}}}_saveExpansionSettings(e){const t=A()(Object.keys(e.apps),t=>Object.keys(e.apps[t].ids).map(e=>[t,e]));t.length>200&&w()(t,t=>{let[n,r]=t;return e.apps[n].ids[r].lastUse}).slice(0,t.length-200).forEach(t=>{let[n,r]=t;delete e.apps[n].ids[r],0===Object.keys(e.apps[n].ids).length&&delete e.apps[n]});try{n.g.localStorage.setItem("inboxsdk__sidebar_expansion_settings",JSON.stringify(e))}catch(e){console.error("Failed to save sidebar settings",e)}}render(){const{expansionSettings:e}=this.state,{panels:t,onClose:n,onOutsideClick:r,onMoveEnd:i,container:o}=this.props,s=t.length>1,a=1===t.length&&t[0].hideTitleBar,l=t.map(t=>{const n=Object.prototype.hasOwnProperty.call(e.apps,t.appId)?e.apps[t.appId]:null,r=n?n.ids[t.id]:null,i=!r||r.expanded;return{panelDescriptor:t,showControls:s,expanded:i,onExpandedToggle:e=>{this._expandedToggle(t.appId,t.id,e)}}});return _.createElement("div",{className:x()((0,I.A)("app_sidebar"),{[(0,I.A)("hideTitleBar")]:a})},_.createElement("div",{className:(0,I.A)("app_sidebar_main"),ref:e=>{e&&(this._main=e)}},_.createElement("div",{className:(0,I.A)("app_sidebar_content_area")},_.createElement(k(),{padding:0,ref:e=>{e&&(this._list=e)},itemKey:e=>e.panelDescriptor.instanceId,template:M,list:l,onMoveEnd:(e,t,n,r)=>{i(e.map(e=>e.panelDescriptor),t.panelDescriptor,n,r)},springConfig:D,container:o||(()=>this._main)})),r&&_.createElement("div",{className:(0,I.A)("app_sidebar_content_area_padding"),onClick:e=>{e.preventDefault(),r()}})),n&&_.createElement("button",{className:"inboxsdk__close_button",type:"button",title:"Close",onClick:n}))}}class M extends _.Component{scrollIntoView(e,t){if(e&&t){const e=this._el.parentElement;e&&t.scrollTo({top:e.offsetTop,behavior:"smooth"})}else this._el.scrollIntoView({behavior:"smooth"})}getDragHeight(){return 40}componentDidMount(){(!this.props.item.showControls||this.props.item.expanded)&&document.body.dispatchEvent(new CustomEvent("inboxsdkSidebarPanelActivated",{bubbles:!0,cancelable:!1,detail:{instanceId:this.props.item.panelDescriptor.instanceId}}))}componentDidUpdate(e){const t=!e.item.showControls||e.item.expanded,n=!this.props.item.showControls||this.props.item.expanded;!t&&n?document.body.dispatchEvent(new CustomEvent("inboxsdkSidebarPanelActivated",{bubbles:!0,cancelable:!1,detail:{instanceId:this.props.item.panelDescriptor.instanceId}})):t&&!n&&document.body.dispatchEvent(new CustomEvent("inboxsdkSidebarPanelDeactivated",{bubbles:!0,cancelable:!1,detail:{instanceId:this.props.item.panelDescriptor.instanceId}}))}shouldComponentUpdate(e){return this.props.itemSelected!==e.itemSelected||this.props.item.panelDescriptor!==e.item.panelDescriptor||this.props.item.showControls!==e.item.showControls||this.props.item.expanded!==e.item.expanded}render(){const{dragHandleProps:e,itemSelected:t,item:{panelDescriptor:{title:n,appName:r,iconClass:i,iconUrl:o,iconLiga:s,el:a},showControls:l,expanded:u,onExpandedToggle:c}}=this.props,d=.01*t+1,h=4*t;return _.createElement("div",{ref:e=>{e&&(this._el=e)},className:x()((0,I.A)("app_sidebar_content_panel"),{[(0,I.A)("dragged")]:t>.2,[(0,I.A)("expanded")]:u,[(0,I.A)("showControls")]:l}),style:{transform:1===d?"none":`scale(${d})`,boxShadow:0===h?"none":`0px 0px ${h}px 0px rgba(0, 0, 0, 0.3)`}},_.createElement("div",{className:(0,I.A)("app_sidebar_content_panel_top_line"),"data-app-name":r},_.createElement("span",b({className:(0,I.A)("app_sidebar_content_panel_title")},l?e:null),_.createElement("div",{className:(0,I.A)("app_sidebar_content_panel_grip")}),_.createElement("span",{className:(0,I.A)("app_sidebar_content_panel_title_icon_container")},_.createElement("span",{className:x()((0,I.A)("app_sidebar_content_panel_title_icon"),i)},!!s&&s,o&&_.createElement("img",{src:o}))),_.createElement("span",{className:(0,I.A)("app_sidebar_content_panel_title_text")},n)),_.createElement("span",{className:(0,I.A)("app_sidebar_content_panel_toggle"),onClick:()=>c(!u)},_.createElement("button",{type:"button",className:(0,I.A)("app_sidebar_content_panel_toggle_button")}))),_.createElement(S.A,{expanded:!l||u,heightTransition:".15s ease"},_.createElement(T,{className:(0,I.A)("app_sidebar_content_panel_content"),el:a})))}}var N=n(4003);function L(e){const t=/ (\d+)$/.exec(e);return t?e.slice(0,e.length-t[0].length)+" "+(Number(t[1])+1):e+" 2"}var V=n(9860),R=n(3197),O=n(4603),P=n(652),j=n(1763),F=n(6416),U=n(3451);const H="inboxsdk__app_sidebar_waiting_platform",z=[H,"inboxsdk__a0oshmeH6N_2vLtc3DNT","inboxsdk__BV_FA4qVT4qYxs3LbEU4",(0,I.r)("app_sidebar_waiting_platform")].map(e=>"."+e).join(", "),q=x()(H,"inboxsdk__a0oshmeH6N_2vLtc3DNT","inboxsdk__BV_FA4qVT4qYxs3LbEU4",(0,I.r)("app_sidebar_waiting_platform"));var W=n(3131),Y=n.n(W),G=n(6186),Q=n.n(G),$=n(2155),K=n.n($),J=n(8626),Z=n.n(J),X=n(8990),ee=n.n(X),te=n(9827),ne=n.n(te),re=n(8855),ie={};ie.styleTagTransform=ne(),ie.setAttributes=Z(),ie.insert=e=>{e.setAttribute("data-inboxsdk-version","2.2.11-1764118012397-e51ed7952926d731"),document.head.append(e)},ie.domAPI=K(),ie.insertStyleElement=ee(),Q()(re.A,ie),re.A&&re.A.locals&&re.A.locals;const oe="brC-brG-btc",se=class{#e=a()();#t;#n=`${Date.now()}-${Math.random()}`;#r;#i=new Map;#o=null;#s=null;#a=null;#l=new Map;#u=new Map;#c=new Map;#d=null;#h;#p=new Set;#f=new(m())({get(){try{return JSON.parse(n.g.localStorage.getItem("inboxsdk__sidebar_ordering")||"null")}catch(e){console.error("failed to read sidebar order data",e)}},set(e){try{n.g.localStorage.setItem("inboxsdk__sidebar_ordering",JSON.stringify(e))}catch(e){console.error("failed to set sidebar order data",e)}}});#m;#_=p()();constructor(e,t){this.#t=e,this.#r=t,this.#g()}getInstanceId(){return this.#n}destroy(){this.#e.destroy()}#b(){return"true"===n.g.localStorage.getItem("inboxsdk__global_app_sidebar_should_open")}#v(e){try{n.g.localStorage.setItem("inboxsdk__global_app_sidebar_should_open",String(e))}catch(e){console.error("error saving",e)}}#A(){return"false"!==n.g.localStorage.getItem("inboxsdk__thread_app_sidebar_should_open")}#y(e){try{n.g.localStorage.setItem("inboxsdk__thread_app_sidebar_should_open",String(e))}catch(e){console.error("error saving",e)}}#w(){if(this.#d)return this.#d;const e=this.#d=document.createElement("div");return e.classList.add("thread_app_sidebar",(0,I.A)("app_sidebar_container"),"addon_sidebar"),this.#r.insertBefore(e,this.#r.firstElementChild),this.#m=()=>e,this.#_.bufferWithTimeOrCount(150,100).filter(e=>e.length>0).takeUntilBy(this.#e).onValue(()=>{const t=e.getBoundingClientRect(),n=Array.from(e.querySelectorAll(`.${(0,I.A)("app_sidebar_content_panel")}.${(0,I.A)("expanded")} .${(0,I.A)("app_sidebar_content_panel_top_line")}`)),r=e.scrollTop,i=r+t.height/2;let o=n.find(e=>{const t=e.getBoundingClientRect().bottom+r;return t>r&&t<i});if(!o){let e;for(let t=0;t<n.length;t++){const r=n[t],i=r.getBoundingClientRect().bottom;if(i<0)e=r;else if(i>0)break}o=e}if(o){o.getAttribute("data-instance-id");const e=o.getAttribute("data-app-name");if(!e)return;const t=this.#u.get(e);if(!t||!this.#s)return;const n=this.#s.querySelector(".sidebar_button_container_active");n&&n.classList.remove("sidebar_button_container_active"),t.classList.add("sidebar_button_container_active")}}),this.#_.plug(o.fromEvents(e,"scroll").map(()=>null)),this.#C(),e}#x(){this.#d&&this.#C()}#E=e=>{e&&(this.#o=e)};#C(){const e=this.#d;if(!e)throw new Error("_renderThreadSidebar should not be called when _threadSidebarContainerEl is unset");return new Promise(t=>{g.render(_.createElement(B,{ref:this.#E,panels:this.#f.getOrderedItems().map(e=>e.value),onMoveEnd:(e,t,n,r)=>{this.#f.moveItem(n,r),this.#C()},onExpandedToggle:()=>{this.#_.emit(null)},container:this.#m}),e,()=>{if(!this.#o)throw new Error("Should not happen");t(this.#o),this.#_.emit(null)})})}#k(){let e;return this.#a&&(e=this.#a.querySelector(".sidebar_button_container_active")),!e&&this.#s&&(e=this.#s.querySelector(".sidebar_button_container_active")),e}#S=null;#I(e,t,n){var r=this;d()(()=>{if(!e)throw new Error("should not happen");const i=t.detail.instanceId,o=n&&t.detail.iconUrl?t.detail.iconUrl:t.detail.appIconUrl,s=t.detail.appName,{iconClass:a="",iconLiga:l}=t.detail,u=n?this.#l.get(s):this.#u.get(s);let c;if(u){const e=Number(u.getAttribute("data-count"))||1;u.setAttribute("data-count",String(e+1)),c=u}else{c=document.createElement("div"),c.className=(0,I.A)("sidebar_button_container"),c.setAttribute("data-app-name",s),c.innerHTML=`\n          <button class="inboxsdk__button_icon ${Y()(a)}" type="button" data-tooltip="${Y()(s)}">\n            ${l?`<span class="${Y()(re.N)}">${Y()(l).trim()}</div>`:`<img class="inboxsdk__button_iconImg" src="${Y()(o)}">`}\n          </button>\n          <div class="inboxsdk__button_selectedIndicator"></div>\n        `,t.detail.primaryColor&&((0,V.A)(c,".inboxsdk__button_selectedIndicator").style.backgroundColor=t.detail.primaryColor),n?this.#l.set(s,c):this.#u.set(s,c);const u=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r.#k()===c){if(!r.#S)throw new Error;r.#S(!0)}else{if(r.#S&&r.#S(!0),n?r.#v(!0):r.#y(!0),r.#T(c,n),n){const e=r.#c.get(s);e&&(e.style.display=""),r.#r.classList.add("companion_global_app_sidebar_visible"),document.body.dispatchEvent(new CustomEvent("inboxsdkSidebarPanelActivated",{bubbles:!0,cancelable:!1,detail:{instanceId:i}}))}else{const t=r.#o;if(!t)throw new Error("sidebar not mounted");e||(t.openPanel(i),t.scrollPanelIntoView(i,!0))}r.#S=e=>{r.#S=null;const t=r.#k();if(!t)throw new Error("Expected activeButtonContainer");if(r.#D(t),n){e&&r.#v(!1);const t=r.#c.get(s);t?t.style.display="none":r.#t.getLogger().error(new Error("Unexpected: contentEl not set")),document.body.dispatchEvent(new CustomEvent("inboxsdkSidebarPanelDeactivated",{bubbles:!0,cancelable:!1,detail:{instanceId:i}}))}else e&&r.#y(!1);(0,P.A)()},(0,P.A)()}};(0,V.A)(c,"button").addEventListener("click",e=>{e.stopPropagation(),u()},!0),e&&(0,U.A)(this.#f,s,c,e);{const e=this.#k();n?this.#b()&&(this.#a&&e&&this.#a.contains(e)||u(!0)):this.#A()&&(this.#s&&e&&this.#s.contains(e)||u(!0))}}})}#B(e,t,n){const r=e.detail.appName,i=t.get(r);if(!n||!i)throw new Error("should not happen: tried to remove button without container or iconArea");const o=Number(i.getAttribute("data-count"));if(o<=1){if(i===n.querySelector(".sidebar_button_container_active")){if(!this.#S)throw new Error;this.#S(!1),this.#h.classList.remove("companion_app_sidebar_wrapper_visible"),this.#r.classList.remove("companion_app_sidebar_visible");const e=this.#h.previousElementSibling;e&&e.classList.remove("companion_container_app_sidebar_visible")}i.remove(),t.delete(r)}else 2===o?i.removeAttribute("data-count"):i.setAttribute("data-count",String(o-1))}#D(e){e.classList.remove("sidebar_button_container_active"),this.#h.classList.remove("companion_app_sidebar_wrapper_visible"),this.#r.classList.add(oe),this.#r.classList.remove("companion_app_sidebar_visible","companion_global_app_sidebar_visible");const t=this.#h.previousElementSibling;t&&t.classList.remove("companion_container_app_sidebar_visible")}#T(e,t){const n=N.A.getCompanionSidebarIconContainerElement();if(!n)throw new Error("Could not find companion sidebar icon container element");if(this.#k())throw new Error("activeButtonContainer should not be true");{const e=n.querySelector(".aT5-aOt-I-KO");e&&(0,O.jp)(e)}e.classList.add("sidebar_button_container_active"),this.#h.classList.add("companion_app_sidebar_wrapper_visible"),this.#r.classList.add("companion_app_sidebar_visible"),this.#r.classList.remove(oe);const r=this.#h.previousElementSibling;r&&r.classList.add("companion_container_app_sidebar_visible"),t&&this.#r.classList.add("companion_global_app_sidebar_visible")}#g(){const e=N.A.getCompanionSidebarIconContainerElement();if(!e)throw new Error("Could not find companion sidebar icon container element");if(this.#r.setAttribute("data-sdk-sidebar-instance-id",this.#n),this.#h=this.#r.classList.contains("bq9")?this.#r:this.#r.parentElement,!this.#h)throw new Error("should not happen: failed to find companionSidebarOuterWrapper");this.#h.classList.contains("WN9Ejb")&&(document.body.classList.add("inboxsdk__sidebar_icons_right"),this.#t.getLogger().eventSite("sidebar_icons_right"));const t=this.#h.previousElementSibling;if(t&&t.classList.add((0,I.A)("companion_container_app_sidebar_in_use")),this.#r.classList.add((0,I.A)("app_sidebar_in_use")),!document.body.querySelector(z)){const e=document.createElement("div");e.className=x()(q,(0,I.A)("app_sidebar_waiting_platform")),document.body.appendChild(e)}o.fromEvents(window,"storage").filter(e=>"inboxsdk__sidebar_ordering"===e.key).takeUntilBy(this.#e).onValue(()=>{this.#f.reload(),this.#x()}),o.fromEvents(document.body,"inboxsdkNewSidebarPanel").filter(e=>e.detail.sidebarId===this.#n&&!e.detail.isGlobal).takeUntilBy(this.#e).onValue(t=>{this.#w();let n=t.detail.id;for(;this.#p.has(n);)n=L(n);this.#p.add(n);const r=t.detail.appName;this.#f.addItem({groupId:t.detail.appId,id:n,orderHint:t.detail.orderHint,value:{id:n,appName:r,appId:t.detail.appId,instanceId:t.detail.instanceId,title:t.detail.title,iconClass:t.detail.iconClass,iconLiga:t.detail.iconLiga,iconUrl:t.detail.iconUrl,hideTitleBar:t.detail.hideTitleBar,el:t.target}}),this.#C();let i=this.#s=e.querySelector(".sidebar_thread_iconArea");i||(i=this.#s=document.createElement("div"),i.className=(0,I.A)("sidebar_iconArea"),i.classList.add("sidebar_thread_iconArea"),(0,j.A)(this.#t.getLogger(),i,e)),this.#I(i,t,!1)}),o.fromEvents(document.body,"inboxsdkUpdateSidebarPanel").filter(e=>e.detail.sidebarId===this.#n&&!e.detail.isGlobal).takeUntilBy(this.#e).onValue(e=>{const t=this.#f.getOrderedItems(),n=u()(t,t=>t.value.instanceId===e.detail.instanceId);if(-1===n)throw new Error("should not happen: failed to find orderItem");this.#f.updateItemValueByIndex(n,{id:t[n].value.id,appId:e.detail.appId,appName:e.detail.appName||e.detail.title,instanceId:e.detail.instanceId,title:e.detail.title,iconClass:e.detail.iconClass,iconLiga:e.detail.iconLiga,iconUrl:e.detail.iconUrl,hideTitleBar:e.detail.hideTitleBar,el:e.target}),this.#C()}),o.fromEvents(document.body,"inboxsdkRemoveSidebarPanel").filter(e=>e.detail.sidebarId===this.#n&&!e.detail.isGlobal).takeUntilBy(this.#e).onValue(e=>{const t=this.#f.getOrderedItems(),n=u()(t,t=>t.value.instanceId===e.detail.instanceId);if(-1===n)throw new Error("should not happen: failed to find orderItem");this.#p.delete(t[n].id),this.#f.removeItemByIndex(n),this.#C(),this.#B(e,this.#u,this.#s)}),o.fromEvents(document.body,"inboxsdkSidebarPanelScrollIntoView").filter(e=>e.detail.sidebarId===this.#n&&!e.detail.isGlobal).takeUntilBy(this.#e).onValue(e=>{this.#o&&this.#o.scrollPanelIntoView(e.detail.instanceId)}),o.fromEvents(document.body,"inboxsdkSidebarPanelClose").filter(e=>e.detail.sidebarId===this.#n&&!e.detail.isGlobal).takeUntilBy(this.#e).onValue(e=>{this.#o&&this.#o.closePanel(e.detail.instanceId)}),o.fromEvents(document.body,"inboxsdkSidebarPanelOpen").filter(e=>e.detail.sidebarId===this.#n&&!e.detail.isGlobal).takeUntilBy(this.#e).onValue(e=>{this.#C().then(t=>{const n=this.#i.get(e.detail.instanceId);if(!n)return;const r=this.#u.get(n.appName);if(!r)throw new Error("missing button container");this.#k()!==r&&(0,V.A)(r,"button").click()})}),o.fromEvents(document.body,"inboxsdkNewSidebarPanel").filter(e=>e.detail.sidebarId===this.#n&&e.detail.isGlobal).takeUntilBy(this.#e).onValue(t=>{let n=t.detail.id;for(;this.#p.has(n);)n=L(n);this.#p.add(n);const r=t.detail.appName;let i=this.#a=e.querySelector(".sidebar_global_iconArea");i||(i=this.#a=document.createElement("div"),i.className=(0,I.A)("sidebar_iconArea"),i.classList.add("sidebar_global_iconArea"),(0,F.A)(this.#t.getLogger(),i,e));const o=document.createElement("div");o.classList.add("addon_sidebar",(0,I.A)("app_sidebar_container"),"global_app_sidebar"),this.#r.insertAdjacentElement("afterbegin",o),this.#c.set(r,o),o.appendChild(t.target),o.style.display="none",this.#I(i,t,!0)}),o.fromEvents(document.body,"inboxsdkUpdateSidebarPanel").filter(e=>e.detail.sidebarId===this.#n&&e.detail.isGlobal).takeUntilBy(this.#e).onValue(e=>{const t=this.#l.get(e.detail.appName);if(!t)return;const{iconClass:n="",iconLiga:r,iconUrl:i=e.detail.appIconUrl}=e.detail;r||(0,V.A)(t,"img").setAttribute("src",i),(0,V.A)(t,"button").setAttribute("class",`inboxsdk__button_icon ${n}`)}),o.fromEvents(document.body,"inboxsdkRemoveSidebarPanel").filter(e=>e.detail.sidebarId===this.#n&&e.detail.isGlobal).takeUntilBy(this.#e).onValue(e=>{this.#p.delete(e.detail.id),this.#B(e,this.#l,this.#a)}),o.fromEvents(document.body,"inboxsdkSidebarPanelClose").filter(e=>e.detail.sidebarId===this.#n&&e.detail.isGlobal).takeUntilBy(this.#e).onValue(e=>{const t=this.#i.get(e.detail.instanceId);if(!t)return;const n=this.#l.get(t.appName);if(n&&this.#k()===n){if(!this.#S)throw new Error("Expected this._closeButton");this.#S(!0)}}),o.fromEvents(document.body,"inboxsdkSidebarPanelOpen").filter(e=>e.detail.sidebarId===this.#n&&e.detail.isGlobal).takeUntilBy(this.#e).onValue(e=>{const t=this.#i.get(e.detail.instanceId);if(!t)return;const n=this.#l.get(t.appName);n&&this.#k()!==n&&(0,V.A)(n,"button").click()}),o.fromEvents(document.body,"inboxsdkNewSidebarPanel").filter(e=>e.detail.sidebarId===this.#n).takeUntilBy(this.#e).onValue(e=>{this.#i.set(e.detail.instanceId,e.detail)}),o.fromEvents(document.body,"inboxsdkRemoveSidebarPanel").filter(e=>e.detail.sidebarId===this.#n).takeUntilBy(this.#e).onValue(e=>{this.#i.delete(e.detail.instanceId)}),o.fromEvents(document.body,"inboxsdkUpdateSidebarPanel").filter(e=>e.detail.sidebarId===this.#n).takeUntilBy(this.#e).onValue(e=>{this.#i.set(e.detail.instanceId,e.detail)});const n=this.#r.children[0],r=this.#r.children[1];o.merge([n,r].map(e=>(0,R.A)(e,{attributes:!0,attributeFilter:["style"]}))).filter(()=>n.style.display!==r.style.display).takeUntilBy(this.#e).onValue(()=>{const e=this.#k();e&&(0,V.A)(e,"button").click()})}};var ae=n(1136);const le=class{#t;#e;#M=p()();#N=!1;#n=`${Date.now()}-${Math.random()}`;#L;#V;constructor(e,t,n,r){this.#t=e,this.#L=n,this.#V=Boolean(r),this.#e=this.#M.ignoreValues().beforeEnd(()=>null).toProperty(),this.#M.plug(o.fromEvents(document.body,"inboxsdkSidebarPanelActivated").filter(e=>e.detail.instanceId===this.#n).map(()=>(this.#N=!0,{eventName:"activate"}))),this.#M.plug(o.fromEvents(document.body,"inboxsdkSidebarPanelDeactivated").filter(e=>e.detail.instanceId===this.#n).map(()=>(this.#N=!1,{eventName:"deactivate"})));const i=(0,ae.A)().toProperty().onValue(()=>{});let s,a=!1;const l=(0,V.A)(document.body,z);t.flatMap(e=>i.map(()=>e)).takeUntilBy(this.#e).onValue(t=>{const{el:n,iconUrl:i,iconLiga:o,iconClass:u,title:c,orderHint:d,id:h,hideTitleBar:p,appIconUrl:f,primaryColor:m,secondaryColor:_}=t;s=t.appName||e.getOpts().appName||t.title,document.body.contains(n)||l.appendChild(n);const g=a?"inboxsdkUpdateSidebarPanel":"inboxsdkNewSidebarPanel";a=!0,n.dispatchEvent(new CustomEvent(g,{bubbles:!0,cancelable:!1,detail:{appIconUrl:f||this.#t.getOpts().appIconUrl||i,appId:this.#t.getAppId(),appName:s,hideTitleBar:Boolean(p),iconClass:u,iconLiga:o,iconUrl:i,id:String(h||c),instanceId:this.#n,isGlobal:r,orderHint:"number"==typeof d?d:0,primaryColor:m||this.#t.getOpts().primaryColor,secondaryColor:_||this.#t.getOpts().secondaryColor,sidebarId:this.#L,title:c}}))}),this.#e.onValue(()=>{a&&document.body.dispatchEvent(new CustomEvent("inboxsdkRemoveSidebarPanel",{bubbles:!0,cancelable:!1,detail:{appName:s,sidebarId:this.#L,instanceId:this.#n,isGlobal:r}}))})}getStopper(){return this.#e}getEventStream(){return this.#M}scrollIntoView(){document.body.dispatchEvent(new CustomEvent("inboxsdkSidebarPanelScrollIntoView",{bubbles:!0,cancelable:!1,detail:{instanceId:this.#n,sidebarId:this.#L}}))}close(){document.body.dispatchEvent(new CustomEvent("inboxsdkSidebarPanelClose",{bubbles:!0,cancelable:!1,detail:{instanceId:this.#n,isGlobal:this.#V,sidebarId:this.#L}}))}open(){document.body.dispatchEvent(new CustomEvent("inboxsdkSidebarPanelOpen",{bubbles:!0,cancelable:!1,detail:{instanceId:this.#n,isGlobal:this.#V,sidebarId:this.#L}}))}isActive(){return this.#N}remove(){this.#M.end()}};e=n.hmd(e);const ue=i()(e,null),ce=class{#e=a()();#t;#n;constructor(e,t){this.#t=e;const n=t.getAttribute("data-sdk-sidebar-instance-id");if(null!=n)this.#n=n;else{let n=new se(e,t);this.#n=n.getInstanceId(),ue.changes().onValue(()=>{n.destroy(),n=new se(e,t),this.#n=n.getInstanceId()})}}destroy(){this.#e.destroy()}getStopper(){return this.#e}addThreadSidebarContentPanel(e,t){const n=new le(this.#t,e,this.#n);return o.merge([t.getStopper(),this.#e]).take(1).takeUntilBy(n.getStopper()).onValue(()=>n.remove()),n}addGlobalSidebarContentPanel(e){const t=new le(this.#t,e,this.#n,!0);return this.#e.takeUntilBy(t.getStopper()).onValue(()=>t.remove()),t}}},6416:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(7332);e=n.hmd(e);const i=(0,r.defn)(e,function(e,t,n){const r=n.querySelector(".brC-aT5-aOt-bsf-Jw");if(!r)return void e.error(new Error("addCompanionGlobalIconArea: no sidebarIconArea"));const i=r.firstElementChild;i?i.insertAdjacentElement("beforebegin",t):e.error(new Error("addCompanionGlobalIconArea: no nativeIconArea"))})},1763:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(7332);e=n.hmd(e);const i=(0,r.defn)(e,function(e,t,n){const r=n.querySelector("[role=tablist],.J-KU-Jg");if(!r)return void e.error(new Error("addCompanionThreadIconArea: no tablist"));const i=n.querySelector("[role=separator]");if(i){if(!i.parentElement)throw new Error;i.parentElement.insertBefore(t,i.nextElementSibling)}else e.error(new Error("addCompanionThreadIconArea: failed to find separator")),r.insertAdjacentElement("beforebegin",t)})},3451:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(7332),i=n(9339),o=n.n(i),s=n(5389);e=n.hmd(e);const a=(0,r.defn)(e,function(e,t,n,r){[...r.querySelectorAll("[data-app-name]")].forEach(t=>{const n=t.getAttribute("data-app-name"),r=o()(e.getOrderedItems(),e=>{let{value:t}=e;return t.appName===n});t.setAttribute("data-order-hint",r)});const i=o()(e.getOrderedItems(),e=>{let{value:n}=e;return n.appName===t});i>-1&&n.setAttribute("data-order-hint",i),(0,s.A)(r,n,["data-order-hint"])})},3737:(e,t,n)=>{"use strict";n.d(t,{A:()=>qe});var r=n(1812),i=n.n(r),o=n(6046),s=n.n(o),a=n(8921),l=n.n(a),u=n(3131),c=n.n(u),d=n(7660),h=n.n(d),p=n(4455),f=n.n(p),m=n(4622),_=n.n(m),g=n(8498),b=n(7249),v=n(8631),A=n.n(v),y=n(4924),w=n.n(y),C=n(1136),x=n(4603);async function E(e,t){e.dispatchEvent(new CustomEvent("inboxsdk_event_relay",{bubbles:!0,cancelable:!1,detail:t}))}function k(e,t,n){const r=!1,i=!1,o=!1,s=!1;E(e,{type:"keydown",bubbles:!0,cancelable:!0,props:{keyCode:t,charCode:n,ctrlKey:r,metaKey:i,altKey:o,shiftKey:s}}),E(e,{type:"keypress",bubbles:!0,cancelable:!0,props:{keyCode:t,charCode:n,ctrlKey:r,metaKey:i,altKey:o,shiftKey:s}}),E(e,{type:"keyup",bubbles:!0,cancelable:!0,props:{keyCode:t,charCode:n,ctrlKey:r,metaKey:i,altKey:o,shiftKey:s}})}var S=n(9860),I=n(8130),T=n(2843);function D(e){return{files:e,fileNames:Array.from(e).map(e=>"string"==typeof e.name?e.name:void 0)}}function B(e,t){const n=D(t),r={screenX:0,screenY:0,clientX:0,clientY:0,buttons:1,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,detail:0};E(e,{type:"dragenter",bubbles:!0,cancelable:!1,props:r,dataTransfer:n}),E(e,{type:"dragover",bubbles:!0,cancelable:!1,props:r,dataTransfer:n})}function M(e,t){E(e,{type:"drop",bubbles:!0,cancelable:!1,props:{screenX:0,screenY:0,clientX:0,clientY:0,buttons:1,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,detail:0},dataTransfer:D(t)})}var N=n(4003);function L(e,t){const n=`inboxsdk__${e}`;let r=document.getElementById(n);if(t){if(!r){if(r=document.createElement("style"),r.className="inboxsdk__custom",r.id=n,!document.head)throw new Error("missing head");document.head.appendChild(r)}r.textContent=t}else r&&r.remove()}var V=n(5156),R=n(1539),O=n(6907),P=n(3174),j=n(5389),F=n(2617),U=n(3741);class H extends U.A{_stopper=w()();constructor(e,t){const n=document.createElement("div");n.style.fontFamily="Roboto,RobotoDraft,Helvetica,Arial,sans-serif",n.style.fontSize="14px",super(n),this._gmailComposeView=e,this._orderHint=t,n.className="inboxsdk__compose_notice",n.setAttribute("data-order-hint",String(t)),this._setComposeNotice()}destroy(){this.destroyed||(super.destroy(),this._stopper.destroy())}_setComposeNotice(){try{const e=(0,S.A)(this._gmailComposeView.getElement(),".iN");(0,j.A)(e,this.el,["data-order-hint"],!0)}catch(e){F.A.error(e)}}}var z=n(9121),q=n(3166),W=n(5193),Y=n.n(W),G=n(7013),Q=n.n(G),$=n(9339),K=n.n($),J=n(3197);const Z="body:not(.inboxsdk_hack_disableComposeSizeFixer) ";var X=l()(()=>{const e=document.createElement("style");e.type="text/css",e.className="inboxsdk__compose_size_fixer",document.head.appendChild(e);var t=e.sheet;if(!(t instanceof CSSStyleSheet))throw new Error("Could not add stylesheet");return t});function ee(e){return"#"+function(e){if(0===e.length||/^-?[0-9]/.test(e))throw new Error("Invalid CSS selector");return e.replace(/[^a-z0-9]/g,"\\$&")}(e)}var te=n(4806);function ne(e,t,n,r){try{t.ensureGroupingIsOpen(r.type),setTimeout(function(){e.anchor(n.getView().getElement(),{position:"top"})},10)}catch(e){F.A.error(e)}}var re=n(8416),ie=n(855),oe=n.n(ie),se=n(1443);function ae(e,t){const n=ce(e,t);return n?Array.from(n.querySelectorAll(".vR > input[type=hidden]")).map(e=>e.parentElement):e.querySelectorAll(`.GS .anm[name="${t}"] [role=listbox] [role=option][data-name]`)}function le(e){return Array.prototype.filter.call(e.querySelectorAll(".GS tr, .GS .anm[name] [role=listbox]"),e=>!e.classList.contains("inboxsdk__recipient_row"))}function ue(e,t){return e.querySelector(`.GS .anm[name="${t}"] [role=listbox]`)}function ce(e,t){const n=e.querySelector(`.GS tr textarea.vO[name="${t}"], .GS tr input[name="${t}"]`);return n?n.closest("tr"):null}var de=n(5865),he=n(9755),pe=n(9374),fe=n(3612);function me(e){const t={buttonView:new de.A(e),...e};let n;return e.hasDropdown?(Object.assign(t,{dropdownViewDriverClass:fe.A,dropdownPositionOptions:{vAlign:"top"}}),n=new pe.A(t)):n=new he.A(t),n}var _e=n(3324),ge=n(4158);function be(e,t){return function(n){const r=n instanceof HTMLInputElement&&n.getAttribute("name")===e?n:n.querySelector(`input[name='${e}']`);if(!r)return F.A.error(new Error("contactNode can't be found"),{addressType:e,composeViewHtml:(0,ge.A)(t.getElement().outerHTML)}),null;var i=r.value;try{return(0,_e.A)(i)}catch(e){return null}}}var ve=n(960);function Ae(e,t){const n=ae(e.getElement(),t);return Array.from(n).map(n=>"option"===n.getAttribute("role")?{name:n.getAttribute("data-name"),emailAddress:n.getAttribute("data-hovercard-id")}:be(t,e)(n)).filter(ve.A)}function ye(e,t,n){if(function(e,t,n){const r=Ae(e,t).map(e=>e.emailAddress);if(!n)return!!r;if(!r)return!!n;if(n.length!==r.length)return!1;for(let e=0;e<r.length;e++){const t=r[e];if(-1===n.indexOf(t))return!1}return!0}(e,t,n))return;const r=e.getLastSelectionRange();let i=ue(e.getElement(),t);function o(t){const n=t.closest(".fX.aiL");n&&"none"===n.style.display&&(0,S.A)(e.getElement(),"div.aoD.hl").dispatchEvent(new FocusEvent("focus"))}if("cc"===t){const n=e.getElement().querySelector("span.pE[role=link]");n&&(o(n),n.click(),i=ue(e.getElement(),t))}else if("bcc"===t){const n=e.getElement().querySelector("span.pB[role=link]");n&&(o(n),n.click(),i=ue(e.getElement(),t))}const s=i;if(s){const r=(0,S.A)(s,"input[role=combobox][aria-autocomplete=list]");if(!(r instanceof HTMLInputElement))throw new Error;Array.from(s.querySelectorAll("div[role=option][data-name] div.afX[aria-label]")).forEach(e=>{e.click()}),r.value="";const i=new DataTransfer;i.setData("text/plain",n.join(",")),r.dispatchEvent(new ClipboardEvent("paste",{clipboardData:i}));const o=s.closest("div.anm[name]");if(n.length>0&&o&&!o.hasAttribute("data-inboxsdk-handled-reset")){const r=String(Number(o.getAttribute("data-inboxsdk-tracking-fresh-compose")||0)+1);o.setAttribute("data-inboxsdk-tracking-fresh-compose",r),setTimeout(()=>{o.getAttribute("data-inboxsdk-tracking-fresh-compose")===r&&(o.removeAttribute("data-inboxsdk-tracking-fresh-compose"),0===s.querySelectorAll("div[role=option][data-name] div.afX[aria-label]").length&&(o.setAttribute("data-inboxsdk-handled-reset","true"),ye(e,t,n)))},100)}}else{let r;try{if(r=ce(e.getElement(),t),!r)throw new Error("getOldRecipientRowForType failed")}catch(e){return void F.A.error(e,{addressType:t})}const i=r.querySelector("textarea.vO");if(!(i&&i instanceof HTMLTextAreaElement))return;if(Array.from(r.querySelectorAll(".vR .vM")).forEach(e=>{(0,x.jp)(e)}),i.value=n.join(","),k(i,13,0),(0,S.A)(e.getElement(),"div.aoD.hl").dispatchEvent(new FocusEvent("focus")),"cc"===t){const t=(0,S.A)(e.getElement(),"span.aB.gQ.pE");(0,x.jp)(t)}else if("bcc"===t){const t=(0,S.A)(e.getElement(),"span.aB.gQ.pB");(0,x.jp)(t)}}if(document.activeElement instanceof HTMLElement&&document.activeElement.blur(),r){const e=document.getSelection();if(!e)throw new Error;e.removeAllRanges(),e.addRange(r)}}var we=n(3985),Ce=n(7389);function xe(e,t){return!function(e){return e.startContainer===e.endContainer&&e.startOffset===e.endOffset}(e)&&function(e,t){return t.contains(e.startContainer)||t.contains(e.endContainer)}(e,t)}var Ee=n(5845);var ke=n(5938),Se=n(370);function Ie(e,t){const n=t.tagTree.getAllByTag(`${e}Recipient`);return(0,Se.A)(n).flatMap(n=>{let{el:r,removalStream:i}=n;const o=function(e,t,n){return"option"===e.getAttribute("role")?{name:e.getAttribute("data-name"),emailAddress:e.getAttribute("data-hovercard-id")}:be(t,n)(e)}(r.getValue(),e,t);return o?b.constant({eventName:`${e}ContactAdded`,data:{contact:o}}).merge(i.map(()=>({eventName:`${e}ContactRemoved`,data:{contact:o}}))):b.never()})}function Te(e){const t={to:{added:[],removed:[]},cc:{added:[],removed:[]},bcc:{added:[],removed:[]}},n=e.eventName.split("Contact");return t[n[0]][n[1].toLowerCase()].push(e.data.contact),{eventName:"recipientsChanged",data:t}}function De(e){return b.later(0,null).flatMap(()=>{const t=e.getElement().querySelector('input[name="from"]');return b.constant(Be("fromContactChanged",e.getFromContact())).merge(t?(0,ke.A)(t,{attributes:!0,attributeFilter:["value"]}).map(()=>Be("fromContactChanged",e.getFromContact())):b.never())})}function Be(e,t){return{eventName:e,data:{contact:t}}}var Me=n(8734);const Ne=new WeakSet;var Le=n(2788);class Ve extends Le.A{constructor(e,t){super(),this._linkEl=e,this._popOverEl=t}getLinkElement(){return this._linkEl}getPopOverContainerElement(){return this._popOverEl}getUrlInputElement(){const e=this._popOverEl.querySelectorAll("input.qdOxv-K0-wGMbrd");return e[e.length-1]}getTextInputElement(){const e=this._popOverEl.querySelectorAll("input.qdOxv-K0-wGMbrd");if(2===e.length)return e[0]}addSection(){let e=this._popOverEl.querySelector(".inboxsdk__linkPopOver_section_container");return e||(e=document.createElement("div"),e.className="inboxsdk__linkPopOver_section_container",this._popOverEl.appendChild(e)),new Re(this,e)}}class Re{_el=document.createElement("div");constructor(e,t){this._el.className="inboxsdk__linkPopOver_section",t.appendChild(this._el),e.on("close",()=>{this.remove()})}getElement(){return this._el}remove(){this._el.remove()}}function Oe(e){const t=document.getSelection()?.focusNode;if(!t)return null;if(t instanceof Text){if(t.previousSibling instanceof HTMLAnchorElement&&0===document.getSelection()?.anchorOffset)return t.previousSibling;if(t.nextSibling instanceof HTMLAnchorElement)return t.nextSibling}return Pe(t,e.getBodyElement())}function Pe(e,t){return e instanceof HTMLAnchorElement?e:e&&e!==t?Pe(e.parentElement,t):null}const je=new WeakMap;let Fe=!1;const Ue=l()(function(){const e=[...document.styleSheets].find(e=>{try{if(e.cssRules)return[...e.cssRules].find(e=>e instanceof CSSStyleRule&&".aoI"===e.selectorText&&e.style.fontSize&&e.style.color)}catch(e){}return!1});if(e){if([...e.cssRules].some(e=>e instanceof CSSStyleRule&&".aoI"===e.selectorText&&"visible"===e.style.overflowY))return;if([...e.cssRules].some(e=>e instanceof CSSStyleRule&&".aaZ > .M9 > .aoI"===e.selectorText&&"auto"===e.style.overflowY))return;document.body.classList.add("inboxsdk__classic_gmail_recipients_area")}});function He(e,t){const n=t.getElement().querySelectorAll("div.J-M.jQjAxd.J-M-awS[role=menu] > div.SK.AX > div[value][role=menuitem]");return 0==n.length?[e.getUserContact()]:Array.from(n).map(e=>({emailAddress:e.getAttribute("value")||"",name:e.textContent.replace(/<.*/,"").trim()}))}let ze=!1;const qe=class{#R;#O;#P;#j;#F;#t;#U;#M;#H;#z;#q;#W;#Y;#G;#Q;#$;#K;#e;#J;#Z;#X;#ee;#te=!1;#ne=!1;#re;#ie=!1;#oe;constructor(e,t,n,r){this.#R=e,this.#R.classList.add("inboxsdk__compose"),r.isInlineReplyForm&&this.#R.classList.add("inboxsdk__compose_inlineReply"),this.#P=r.isInlineReplyForm,this.#F=r.isStandalone,this.#j=!1,this.#Y=null,this.#$=null,this.#t=n,this.#e=w()(),this.#U=[],this.#Z={},this.#X=!1,this.#M=A()(),this.#re=w()(),this.#H=!1,this.#oe=function(e,t){return new(oe())(e,{logError(e,n){const r={el:n,html:n?(0,se.A)(n):null};t.errorSite(e,r)},tags:{},watchers:[{sources:[null],tag:"recipientsCommon",selectors:["div","div","div[jsaction]","div[role=region]","table","tbody","tr","td","form","div","table.GS","tbody","tr.bzf","td.eV","div","div"]},{sources:[null],tag:"recipientsCommon",selectors:["div[role=region]","table","tbody","tr","td","form","div","table[role=presentation]","tbody","tr","td.Iy","div.fX","table.GS","tbody","tr.bzf","td.eV","div","div"]},{sources:["recipientsCommon"],tag:"toRecipient",selectors:[{$or:[['div.anm[name="to"]',{$or:[[],["div.aUy"]]},"div","div","div","div","[role=listbox]","div","div","div[role=option][data-name]"],[{$map:e=>e.querySelector("textarea.vO[name=to], input[name=to]")},{$map:e=>e.closest("tr")},"td.eV","div","div",".vR","input[type=hidden]",{$map:e=>e.parentElement}]]}]},{sources:["recipientsCommon"],tag:"ccRecipient",selectors:[{$or:[['div.anm[name="cc"]',{$or:[[],["div.aUy"]]},"div","div","div","div","[role=listbox]","div","div","div[role=option][data-name]"],[{$map:e=>e.querySelector("textarea.vO[name=cc], input[name=cc]")},{$map:e=>e.closest("tr")},"td.eV","div","div",".vR","input[type=hidden]",{$map:e=>e.parentElement}]]}]},{sources:["recipientsCommon"],tag:"bccRecipient",selectors:[{$or:[['div.anm[name="bcc"]',{$or:[[],["div.aUy"]]},"div","div","div","div","[role=listbox]","div","div","div[role=option][data-name]"],[{$map:e=>e.querySelector("textarea.vO[name=bcc], input[name=bcc]")},{$map:e=>e.closest("tr")},"td.eV","div","div",".vR","input[type=hidden]",{$map:e=>e.parentElement}]]}]}],finders:{toRecipient:{fn:e=>ae(e,"to")},ccRecipient:{fn:e=>ae(e,"cc")},bccRecipient:{fn:e=>ae(e,"bcc")}}})}(e,n.getLogger()),this.tagTree=this.#oe.tree;const i=t.filter(e=>e.draftID===this.#se()).map(e=>{switch(e.type){case"emailSending":return{eventName:"sending"};case"emailSent":{const t=e.threadID,r=e.messageID;return e.oldMessageID&&(this.#Y=e.oldMessageID),e.oldThreadID&&(this.#K=e.oldThreadID),n.removeCachedGmailMessageIdForSyncMessageId(r),n.removeCachedOldGmailThreadIdFromSyncThreadId(t),{eventName:"sent",data:{getThreadID:l()(async()=>e.oldThreadID?e.oldThreadID:await n.getOldGmailThreadIdFromSyncThreadId(t)),getMessageID:l()(async()=>e.oldMessageID?e.oldMessageID:await n.getGmailMessageIdForSyncMessageId(r))}}}case"emailSendFailed":return{eventName:"sendCanceled"};case"emailDraftReceived":return this.#Y=e.oldMessageID,this.#K=e.oldThreadID,{eventName:"draftSaved",data:{getThreadID:()=>Promise.resolve(e.oldThreadID),getMessageID:()=>Promise.resolve(e.oldMessageID)}};default:return null}}).filter(ve.A);this.#M.plug(b.merge([i,b.fromEvents(this.#R,"buttonAdded").map(()=>({eventName:"buttonAdded"})),b.fromEvents(this.#R,"resize").map(()=>({eventName:"resize"})),b.fromEvents(this.#R,"composeFullscreenStateChanged").map(()=>(this.#ae(),{eventName:"fullscreenChanged",data:{fullscreen:this.#j}}))])),b.fromEvents(this.#R,"closedProgrammatically").takeUntilBy(this.#e).onValue(()=>{this.#te=!0}),this.#z=new WeakMap;const o=this.getMaybeBodyElement();this.ready=h()((o?b.constant(o):(0,R.A)(()=>this.getMaybeBodyElement(),18e4)).takeUntilBy(this.#e).map(e=>(this.#O=e,this.#q=this.#R.querySelector('input[name="composeid"]').value,this.#W=this.#R.querySelector('input[name="draft"]'),this.#W||(n.getLogger().error(new Error("Could not find compose message id field")),this.#W=document.createElement("input")),this.#le(),this.#ue(),this.#ce(),this.#ae(),this.getEventStream().filter(e=>{let{eventName:t}=e;return"presending"===t}).takeUntilBy(this.#e).onValue(()=>{(0,T.A)(document.body).map(e=>e.el).filter(e=>e.getAttribute&&"alertdialog"===e.getAttribute("role")).takeUntilBy(b.merge([this.getEventStream().filter(e=>{let{eventName:t}=e;return"sendCanceled"===t||"sending"===t}),b.later(15,void 0)])).onValue(()=>{this.#M.emit({eventName:"sendCanceled"})})}),this)).toProperty()),this.ready().onError(e=>{n.getLogger().error(e,{hasForm:!!this.getElement().querySelector("form"),class:this.getElement().getAttribute("class")})}),b.merge([this.#re.filterBy(this.#M.filter(e=>{let{eventName:t}=e;return"presending"===t||"sendCanceled"===t}).map(e=>{let{eventName:t}=e;return"sendCanceled"===t}).toProperty(()=>!0)),b.combine([this.#re,this.#M.filter(e=>{let{eventName:t}=e;return"sent"===t})])]).take(1).flatMap(()=>(0,C.A)(null)).onValue(()=>this.#de()),Ue()}destroy(){this.#re.destroy(),this.#oe.dump()}#de(){this.#M.emit({eventName:"destroy",data:{messageID:this.getMessageID(),closedByInboxSDK:this.#te}}),this.#M.end(),this.#U.forEach(e=>{e.destroy()}),this.#Z={},this.#U.length=0,this.#e.destroy(),this.#ne=!0}getStopper(){return this.#e}getEventStream(){return this.#M}getGmailDriver(){return this.#t}isDestroyed(){return this.#ne}#he(){const e=this.getSubjectInput();return b.fromEvents(e,"input").map(()=>({eventName:"subjectChanged"}))}#ue(){var e;let t;this.#M.plug(function(e){const t=le(e.getElement());if(!t||0===t.length)return b.never();const n=b.merge([Ie("to",e),Ie("cc",e),Ie("bcc",e)]),r=n.map(Te);return b.merge([n,r,De(e)])}(this)),this.#M.plug(this.#he()),this.#M.plug((e=this.getBodyElement(),(0,ke.A)(e,{childList:!0,subtree:!0,characterData:!0}).map(function(){return{eventName:"bodyChanged"}}))),this.#M.plug(function(e){let t;try{return t=(0,S.A)(e.getElement(),".J-J5-Ji .J-JN-M-I-Jm > img"),(0,J.A)(t,{attributeFilter:["class"],attributes:!0}).map(()=>({data:{isForward:e.isForward()},eventName:"responseTypeChanged"}))}catch(e){return F.A.error(e),b.never()}}(this)),this.#M.plug(function(e){let{element:t,sendButton:n,sendAndArchive:r}=e;return b.merge([(0,we.A)(t,"keydown").filter(e=>e.ctrlKey||e.metaKey).filter(e=>13===e.which||13===e.keyCode),(0,we.A)(t,"keydown").filter(e=>[13,32].indexOf(e.which)>-1||[13,32].indexOf(e.keyCode)>-1).filter(e=>n&&n.contains(e.target)||r&&r.contains(e.target)),(0,we.A)(t,"click").filter(e=>n&&n.contains(e.target)||r&&r.contains(e.target))]).filter(e=>!t.hasAttribute("data-inboxsdk-send-replaced")||(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!1)).map(e=>({eventName:"presending",data:{cancel(){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),(e=>{_()(()=>e.dispatchEvent(new CustomEvent("inboxSDKsendCanceled",{bubbles:!1,cancelable:!1,detail:null})))})(t)}}}))}({element:this.getElement(),sendButton:this.getSendButton(),sendAndArchive:this.getSendAndArchiveButton()})),this.#M.plug(function(e){let{element:t,scheduleSendButton:n,moreSendOptionsButton:r}=e;return b.merge([(0,we.A)(t,"keydown").filter(e=>(13===e.which||13===e.keyCode)&&r&&r.contains(e.target)),(0,Me.A)(n)]).filter(e=>t.hasAttribute("data-inboxsdk-send-replaced")?(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!1):!!e.isTrusted).map(e=>({eventName:"scheduleSendMenuOpening",data:{cancel(){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),(e=>{_()(()=>e.dispatchEvent(new CustomEvent("inboxSDKscheduleSendMenuOpenCanceled",{bubbles:!1,cancelable:!1,detail:null})))})(t)}}}))}({element:this.getElement(),scheduleSendButton:this.getScheduleSendButton(),moreSendOptionsButton:this.getMoreSendOptionsButton()}));try{t=this.getDiscardButton()}catch(e){this.#t.getLogger().errorSite(new Error("Failed to find discard button"),{html:(0,ge.A)(this.#R.outerHTML)})}t&&this.#M.plug(function(e){let{element:t,discardButton:n}=e;return b.merge([(0,we.A)(t,"keydown").filter(e=>[13,32].indexOf(e.which)>-1||[13,32].indexOf(e.keyCode)>-1).filter(e=>n&&n.contains(e.target)),(0,we.A)(t,"click").filter(e=>n&&n.contains(e.target))]).map(e=>({eventName:"discard",data:{cancel(){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),(e=>{_()(()=>e.dispatchEvent(new CustomEvent("inboxSDKdiscardCanceled",{bubbles:!1,cancelable:!1,detail:null})))})(t)}}}))}({element:this.getElement(),discardButton:t})),this.#M.plug(b.fromEvents(this.getElement(),"inboxSDKsendCanceled").map(()=>({eventName:"sendCanceled"}))),this.#M.plug(b.fromEvents(this.getElement(),"inboxSDKscheduleSendMenuOpenCanceled").map(()=>({eventName:"scheduleSendMenuOpenCanceled"}))),this.#M.plug(b.fromEvents(this.getElement(),"inboxSDKdiscardCanceled").map(()=>({eventName:"discardCanceled"}))),this.#M.plug(b.later(10,void 0).flatMap(()=>(0,Ee.A)(this)).changes().map(e=>({eventName:e?"minimized":"restored"})))}#ce(){try{(0,O.A)(this),e=this,b.default.merge([(0,we.A)(document.body,"mousedown"),(0,we.A)(e.getBodyElement(),"keydown"),e.getEventStream().filter(e=>"bodyChanged"===e.eventName)]).takeUntilBy(e.getStopper()).onValue(()=>{var t=e.getMaybeBodyElement(),n=document.getSelection();t&&n.rangeCount>0&&t.contains(n.anchorNode)&&e.setLastSelectionRange(n.getRangeAt(0))}),(0,Ce.A)(this),function(e,t){if(!t.isInlineReplyForm()&&!t.getElement().classList.contains("inboxsdk__size_fixer")){t.getElement().classList.add("inboxsdk__size_fixer");var n=t.getEventStream(),r=n.filter(()=>!1).beforeEnd(()=>null),i=n.filter(e=>Y()(["resize","fullscreenChanged"],e.eventName)).merge((0,C.A)(null)),o=t.getStatusArea().parentElement,s=t.getScrollBody(),a=X(),l=t.getTopFormElement(),u=t.getElement().id;u||(u=t.getElement().id=`x${Math.random()}x${Date.now()}`),(0,J.A)(o,{attributes:!0}).takeUntilBy(r).onValue(()=>{t.getElement().dispatchEvent(new CustomEvent("resize",{bubbles:!1,cancelable:!1,detail:null}))}),i.bufferBy(i.flatMap(()=>(0,C.A)(null))).filter(e=>e.length>0).merge((0,J.A)(s,{attributes:!0})).takeUntilBy(r).onValue(()=>{const e=Math.max(o.offsetHeight-60,0)+Math.max(l.offsetHeight-72,0),n=t.getMaybeBodyElement(),r=s.querySelector(".qz"),i=r?.offsetHeight||s.offsetHeight,a=parseInt(s.style.getPropertyValue("max-height"),10),u=t.isFullscreen(),d=a-e,h=i>d?d:null,p=[`max-height: ${d}px !important;`];let f;h&&p.push(`height: ${h}px !important;`),u&&(p.push(`min-height: ${d}px !important;`),f=`min-height: ${(parseInt(n?.style.minHeight??"",10)||a)-e}px !important;`),p.length>0&&c(ee(s.id),p.join("\n")),f&&n&&c(ee(n.id),f)}),r.onValue(()=>{for(let e=a.cssRules.length-1;e>=0;e--)Q()(a.cssRules[e].selectorText,Z+ee(u)+" ")&&a.deleteRule(e)})}function c(e,t){const n=Z+ee(u)+" "+e,r=K()(a.cssRules,e=>e.selectorText===n);-1!==r&&a.deleteRule(r),a.insertRule(n+" { "+t+" }",0)}}(this.#t,this)}catch(e){this.#t.getLogger().error(e)}var e}#le(){const e=this.#pe();e&&this.#t.getGmailMessageIdForSyncMessageId(e).then(e=>this.#Q=e);const t=this.#fe();t?(this.#t.getGmailMessageIdForSyncDraftId(t).then(e=>{this.#G=e,this.#Y=e}).catch(()=>{}),this.#t.reportRecentSyncDraftId(t),this.#e.onValue(()=>{this.#t.reportDraftClosed(t)})):this.#t.getLogger().error(new Error("Draft is missing sync draft id"));const n=this.#R.querySelector('input[name="lts"]');n&&"string"==typeof n.value&&(this.#K=n.value)}#ae(){if(this.#P)this.#j=!1;else if(this.#F)this.#j=!0;else{const e=N.A.getFullscreenComposeWindowContainer();this.#j=!!e&&e.contains(this.#R)}}focus(){!function(e){e.getBodyElement().focus();const t=e.getLastSelectionRange(),n=document.getSelection();if(!n)throw new Error;t&&n.anchorNode===n.focusNode&&n.anchorOffset===n.focusOffset&&(n.removeAllRanges(),n.addRange(t))}(this)}insertBodyTextAtCursor(e){return this.insertBodyHTMLAtCursor(c()(e).replace(/\n/g,"<br>"))}insertBodyHTMLAtCursor(e){var t=(0,q.A)(this.getBodyElement(),e,this.getLastSelectionRange());return this.#me(),k(this.getBodyElement(),13,13),t}insertLinkIntoBody(e,t){var n=function(e,t,n){return function(e,t,n){e.focus(),e.getBodyElement().focus();const r=document.getSelection();if(!r)throw new Error("selection does't exist, what?");const i=r.getRangeAt(0),o=document.createElement("a");return o.href=n,i.extractContents(),i.insertNode(o),o.textContent=t,r.selectAllChildren(o),r.collapseToEnd(),o}(e,t,n)}(this,e,t);return this.#me(),n}insertLinkChipIntoBody(e){var t=(0,P.A)(this,e);return this.#me(),t}setSubject(e){this.#R.querySelector("input[name=subjectbox]").value=e,this.#me()}setBodyHTML(e){this.getBodyElement().innerHTML=e,this.#me()}setBodyText(e){this.getBodyElement().textContent=e,this.#me()}setToRecipients(e){ye(this,"to",e),this.#me()}setCcRecipients(e){ye(this,"cc",e),this.#me()}setBccRecipients(e){ye(this,"bcc",e),this.#me()}addRecipientRow(e){return function(e,t){let n;return t.takeUntilBy(e.getStopper()).onValue(t=>{n&&(n.remove(),n=null),t&&(n=function(e,t){var n=document.createElement("tr"),r=document.createElement("td"),i=document.createElement("td");if(n.appendChild(r),n.appendChild(i),n.setAttribute("class","inboxsdk__recipient_row"),t.labelText){r.setAttribute("class","ok");var o=document.createElement("span");o.setAttribute("class","gO"),r.appendChild(o),o.textContent=t.labelText,t.labelClass&&r.classList.add(t.labelClass),t.labelTextClass&&o.classList.add(t.labelTextClass)}t.el&&(i.setAttribute("class","az3"),i.appendChild(t.el));var s=le(e.getElement())[0],a=s.parentElement;a.insertBefore(n,s.nextSibling);const l=a.closest(".fX");return l&&l.classList.add("inboxsdk__compose_addressList"),n}(e,t),(0,re.A)(n)),e.getElement().dispatchEvent(new CustomEvent("resize",{bubbles:!1,cancelable:!1,detail:null}))}),()=>{n&&(n.remove(),n=null,e.getElement().dispatchEvent(new CustomEvent("resize",{bubbles:!1,cancelable:!1,detail:null})))}}(this,e)}forceRecipientRowsOpen(){return this.#R.classList.add("inboxsdk__compose_forceRecipientsOpen"),()=>{this.#R.classList.remove("inboxsdk__compose_forceRecipientsOpen")}}hideNativeRecipientRows(){const e=le(this.#R);return e.forEach(e=>{e.classList.add("inboxsdk__compose_forceRecipientRowHidden")}),()=>{e.forEach(e=>{e.classList.remove("inboxsdk__compose_forceRecipientRowHidden")})}}hideRecipientArea(){return this.#R.classList.add("inboxsdk__compose_hideRecipientArea"),()=>{this.#R.classList.remove("inboxsdk__compose_hideRecipientArea")}}getFromContact(){return function(e,t){const n=t.getElement().querySelector('input[name="from"]'),r=n?n.value:null;if(!r)return e.getUserContact();const i=He(e,t),o=f()(i,e=>e.emailAddress===r);let s;return o?s=o.name:(s=r,e.getLogger().error(new Error("getFromContact failed to find name"),{fromContactChoicesLength:i.length})),{emailAddress:r,name:s}}(this.#t,this)}getFromContactChoices(){return He(this.#t,this)}setFromEmail(e){!function(e,t,n){if(t.getFromContact().emailAddress===n)return;const r=t.getElement().querySelector("div.J-M.jQjAxd.J-M-awS[role=menu] > div.SK.AX");if(!r){if(e.getUserContact().emailAddress!=n)throw new Error("Chosen email from choice was not found");return}const i=f()(r.children,e=>e.getAttribute("value")==n);if(!i)throw new Error("Chosen email from choice was not found");(0,x.jp)(i)}(this.#t,this,e)}addButton(e,t,n,r){!function(e,t,n,r,i){let o;t.takeUntilBy(e.getStopper()).onValue(t=>{const s=function(e,t,n){if(!e)return null;const r={type:"MODIFIER",...e},i=r.onClick;return r.onClick=function(e){n.getLogger().eventSdkActive("composeView.addedButton.click"),i({...t,...e})},r.hasDropdown?r.dropdownShowFunction=r.onClick:r.activateFunction=r.onClick,r.noArrow=!0,r.tooltip=r.tooltip||r.title,delete r.title,"MODIFIER"===r.type?r.buttonColor="flatIcon":"SEND_ACTION"===r.type&&(r.buttonColor="blue"),r}(t,r,e.getGmailDriver());(o instanceof pe.A&&!0!==s?.hasDropdown||o instanceof he.A&&!0===s?.hasDropdown)&&(o.destroy(),o=void 0),o?o.update(s):s&&(o=function(e,t,n){if(!e.getElement()||!e.getFormattingToolbar())return;let r;return"MODIFIER"===t.type?r=function(e,t,n){var r=me(t);r.getView().getElement().setAttribute("tabindex","1"),r.getView().getElement().setAttribute("data-order-hint",String(t.orderHint||0)),r.getView().getElement().setAttribute("data-group-order-hint",n);var i=e._getFormattingAreaOffsetLeft(),o=r.getView().getElement(),s=e.getAdditionalActionToolbar();return(0,j.A)(s,o),e.updateInsertMoreAreaLeft(i),e.addManagedViewController(r),r}(e,t,n):"SEND_ACTION"===t.type&&(r=function(e,t){const n=me(t);n.getView().removeClass("inboxsdk__composeButton"),n.getView().addClass("inboxsdk__compose_sendButton"),n.getView().getElement().setAttribute("tabindex","1");const r=e.getSendButtonGroup(),i=n.getView().getElement();return r.parentElement.insertBefore(i,r.nextSibling),e.addManagedViewController(n),n}(e,t)),e.getElement().dispatchEvent(new CustomEvent("buttonAdded",{bubbles:!1,cancelable:!1,detail:null})),r}(e,s,n),i.emit({buttonViewController:o,buttonDescriptor:t}))})}(this,e,t,n,r)}addTooltipToButton(e,t,n){var r=function(e,t,n,r){var i=new te.A(r),o=i.getStopper().merge(e.getStopper());e.getStopper().takeUntilBy(i.getStopper()).onValue(()=>i.destroy()),document.body.appendChild(i.getElement()),ne(i,e,t,n),e.getEventStream().filter(e=>"buttonAdded"===e.eventName||"fullscreenChanged"===e.eventName).merge(i.getEventStream().filter(e=>{let{eventName:t}=e;return"imageLoaded"===t})).debounce(10).takeUntilBy(o).onValue(ne.bind(null,i,e,t,n)),t.getView().getEventStream().takeUntilBy(o).filter(function(e){return"click"===e.eventName}).onValue(i.destroy.bind(i));var s=b.interval(50,void 0).takeUntilBy(o),a=0,l=0;return s.takeWhile(()=>!!t.getView()&&!!i.getElement()).map(()=>t.getView().getElement().getBoundingClientRect()).filter(e=>e.left!==a||e.top!==l).map(e=>(a=e.left,l=e.top,e)).onValue(i.anchor.bind(i,t.getView().getElement(),{position:"top"})),s.filter(()=>!t.getView()||!t.getView().getElement().offsetParent).onValue(i.destroy.bind(i)),i}(this,e,t,n);this.#z.set(e,r)}closeButtonTooltip(e){if(this.#z){var t=this.#z.get(e);t&&(t.destroy(),this.#z.delete(e))}}addComposeNotice(){const e=function(e,t){const{orderHint:n}={orderHint:0,...t},r=new H(e,n);return e.getStopper().takeUntilBy(b.default.fromEvents(r,"destroy")).onValue(()=>r.destroy()),r}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return this.#R.dispatchEvent(new CustomEvent("resize",{bubbles:!1,cancelable:!1,detail:null})),b.fromEvents(e,"destroy").flatMap(C.A).takeUntilBy(this.#e).onValue(()=>{this.#R.dispatchEvent(new CustomEvent("resize",{bubbles:!1,cancelable:!1,detail:null}))}),e}addStatusBar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,z.A)(this,e);return this.#R.dispatchEvent(new CustomEvent("resize",{bubbles:!1,cancelable:!1,detail:null})),b.fromEvents(t,"destroy").flatMap(C.A).takeUntilBy(this.#e).onValue(()=>{this.#R.dispatchEvent(new CustomEvent("resize",{bubbles:!1,cancelable:!1,detail:null}))}),t}hideNativeStatusBar(){const e=this.getStatusArea(),t=(0,S.A)(e,"table"),n=this.getFormattingToolbar(),r=n&&"none"!==n.style.display;return t.style.display="none",n&&r&&(n.style.display="none"),()=>{t.style.display="",n&&r&&(n.style.display="")}}replaceSendButton(e){const t=this.getSendButtonGroup(),n=this.getSendAndArchiveButton();t.style.display="none";const r=n&&n.parentElement;r instanceof HTMLElement&&(r.style.display="none");const i=document.createElement("div");i.classList.add("inboxsdk__compose_customSendContainer"),i.appendChild(e),t.insertAdjacentElement("afterend",i),this.#R.setAttribute("data-inboxsdk-send-replaced","");const o=w()();return b.fromEvents(this.getBodyElement(),"keydown").takeUntilBy(this.#e).takeUntilBy(o).filter(e=>(9===e.which||9===e.keyCode)&&!e.shiftKey).onValue(e=>{const t=this.getStatusArea().querySelectorAll("[tabindex]");if(0===t.length)return;const n=Array.from(t).find(e=>null!==e.offsetParent);n&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),n.focus())}),()=>{o.destroy(),i.remove(),this.#R.removeAttribute("data-inboxsdk-send-replaced"),t.style.display="",r instanceof HTMLElement&&(r.style.display="")}}hideDiscardButton(){const e=this.getDiscardButton();return e.style.display="none",()=>{e.style.display=""}}ensureFormattingToolbarIsHidden(){const e=this.getFormattingToolbarToggleButton(),t=this.getFormattingToolbar();e&&t&&""===t.style.display&&(0,x.jp)(e)}close(){this.isInlineReplyForm()?console.warn("Trying to close an inline reply which doesn't work."):(this.#R.dispatchEvent(new CustomEvent("closedProgrammatically",{bubbles:!1,cancelable:!1,detail:null})),this.#j?(this.#M.filter(e=>{let{eventName:t}=e;return"fullscreenChanged"===t}).onValue(()=>(0,x.jp)(this.getCloseButton())),(0,x.jp)(this.getMoleSwitchButton())):(0,x.jp)(this.getCloseButton()))}send(e){let{sendAndArchive:t}=e;_()(()=>{const e=this.getSendAndArchiveButton();t&&e?(0,x.jp)(e):(0,x.jp)(this.getSendButton())})}openScheduleSendMenu(){_()(()=>{(0,x.jp)(this.getScheduleSendButton())})}discard(){(0,x.jp)(this.getDiscardButton())}popOut(){if(!this.isInlineReplyForm())throw new Error("Can only pop out inline reply compose views");const e=(0,S.A)(this.#R,".M9 > [role=menu]:first-child > .SK > [role=menuitem]:last-child");(0,x.jp)(e)}overrideEditSubject(){!function(e,t){if(!t.isReply())return;const n=t.getElement().querySelector("div.J-M.jQjAxd.HX[role=menu] > div.SK.AX > [role=menuitem]:nth-last-child(2)");n?(n.addEventListener("click",e=>{e.stopPropagation()},!0),n.addEventListener("mouseup",n=>{n.stopPropagation(),function(e,t){const n=t.getToRecipients(),r=t.getCcRecipients(),i=t.getBccRecipients(),o=t.getFromContact(),s=t.getSubject();!function(e){if(e.getBodyElement().querySelector(".gmail_extra"))return;const t=e.getElement().querySelector(".ajR");t&&(0,x.jp)(t)}(t);const a=t.getHTMLContent();t.discard(),e.openNewComposeViewDriver().then(e=>{n.length>0&&e.setToRecipients(n.map(e=>e.emailAddress)),r.length>0&&e.setCcRecipients(r.map(e=>e.emailAddress)),i.length>0&&e.setBccRecipients(i.map(e=>e.emailAddress)),e.setFromEmail(o.emailAddress),e.setSubject(s),e.setBodyHTML(a),setTimeout(function(){e.getSubjectInput().select()},1)})}(e,t)},!0)):Fe||(e.getLogger().error(new Error("could not find edit subject item"),{composeElement:(0,se.A)(t.getElement())}),Fe=!0)}(this.#t,this)}#_e(){L("compose dropzone hider","body > .aC7 .aC9 {visibility: hidden;}")}#ge(){L("compose dropzone hider",null)}#be(){return null!=f()(document.querySelectorAll("body > .aC7:not(.aWP)"),I.A)}#ve(e){const t=this.#R.getBoundingClientRect(),n=e?"body > .aC7:not(.aWP)":"body > .aC7.aWP",r=[...document.querySelectorAll(n)].find(e=>{if(!(0,I.A)(e))return!1;const n=parseInt(e.style.top,10),r=n+parseInt(e.style.height,10),i=parseInt(e.style.left,10),o=i+parseInt(e.style.width,10);return n>=t.top&&i>=t.left&&o<=t.right&&(this.isFullscreen()||r<=t.bottom)});if(!r)throw new Error("Failed to find dropzone");return r}async#Ae(e,t){this.#_e();const n=l()(()=>function(e,t){const n=D(t),r={screenX:0,screenY:0,clientX:0,clientY:0,buttons:1,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,detail:0};E(e,{type:"dragleave",bubbles:!0,cancelable:!1,props:r,dataTransfer:n}),E(e,{type:"dragend",bubbles:!0,cancelable:!1,props:r,dataTransfer:n})}(this.#R,e));try{let r=!0;for(const i of s().partition(e,3))r?r=!1:await(0,g.A)(500),B(this.#R,i),await(0,V.A)(()=>this.#be(),2e4),M(this.#ve(t),i),n(),await(0,V.A)(()=>!this.#be(),2e4)}catch(e){this.#t.getLogger().error(e)}finally{n(),this.#ge()}}attachFiles(e){return this.#Ae(e,!1)}attachInlineFiles(e){return this.#Ae(e,!0)}isForward(){return Boolean(this.#R.querySelector(".Un.J-JN-M-I .mI"))}isReply(){return this.#P||!!this.#R.querySelector(".HQ")}isInlineReplyForm(){return this.#P}getBodyElement(){const e=this.getMaybeBodyElement();if(!e)throw new Error("Could not find body element");return e}getMaybeBodyElement(){return this.#R.querySelector(".Ap [g_editable=true]")}getTopFormElement(){return(0,S.A)(this.#R,"td > form")}getHTMLContent(){return this.getBodyElement().innerHTML}getTextContent(){return this.getBodyElement().textContent}getSelectedBodyHTML(){return function(e,t){const n=document.getSelection();return s().toArray([n&&n.rangeCount?n.getRangeAt(0):null,t],s().compose(s().keep(),s().filter(t=>xe(t,e)),s().map(e=>{const t=document.createElement("div");return t.appendChild(e.cloneContents()),t.innerHTML}),s().take(1)))[0]}(this.getBodyElement(),this.getLastSelectionRange())}getSelectedBodyText(){return function(e,t){const n=document.getSelection();return s().toArray([n&&n.rangeCount?n.getRangeAt(0):null,t],s().compose(s().keep(),s().filter(t=>xe(t,e)),s().map(e=>e.toString()),s().take(1)))[0]}(this.getBodyElement(),this.getLastSelectionRange())}getSubject(){return this.getSubjectInput().value}getSubjectInput(){return this.#R.querySelector("input[name=subjectbox]")}getMetadataFormElement(){const e=this.getBodyElement().closest(".aoP");if(!e)throw new Error("Could not find compose container");return(0,S.A)(e,"form.bAs")}getToRecipients(){return Ae(this,"to")}getCcRecipients(){return Ae(this,"cc")}getBccRecipients(){return Ae(this,"bcc")}getAdditionalActionToolbar(){return n(9e3).A(this)}updateInsertMoreAreaLeft(e){!function(e,t){Ne.has(e)||(Ne.add(e),window.requestAnimationFrame(()=>{if(Ne.delete(e),!e.isDestroyed()){var n=e._getFormattingAreaOffsetLeft(),r=parseInt(e.getInsertMoreArea().style.left,10),i=n-t;e.getInsertMoreArea().style.left=r+i+"px"}}))}(this,e)}_getFormattingAreaOffsetLeft(){return function(e){{const t=je.get(e);if(null!=t)return t}const t=e.getFormattingArea();if(!t)return 0;const n=t.getBoundingClientRect().left;return je.set(e,n),_()(()=>je.delete(e)),n}(this)}getFormattingArea(){let e=this.#ee;return e||(e=this.#ee=this.#R.querySelector(".oc")),e}getFormattingToolbar(){return this.#R.querySelector(".aX")}getFormattingToolbarArrow(){const e=this.getFormattingToolbar();if(!e)throw new Error("Failed to find formatting toolbar");return(0,S.A)(e,".aA4")}getFormattingToolbarToggleButton(){const e=(0,S.A)(this.#R,"[role=button] .dv").closest("[role=button]");if(!e)throw new Error("failed to find button");return e}getStatusBarPrependContainer(){return this.#R.querySelector(".inboxsdk__compose_statusBarPrependContainer")}getScrollBody(){var e=this.#R.querySelector("table .GP");if(!e)throw new Error("Failed to find scroll body");return e}getStatusArea(){const e=this.#R.querySelector(".aDg .aDj > .aDh");if(!e)throw new Error("Failed to find status area");return e}getInsertMoreArea(){return(0,S.A)(this.#R,".eq")}getInsertLinkButton(){return(0,S.A)(this.#R,".e5.aaA.aMZ")}getSendButton(){return(0,S.A)(this.#R,".IZ .Up div > div[role=button]:not(.Uo):not([aria-haspopup=true]):not([class^=inboxsdk_])")}getScheduleSendButton(){return(0,S.A)(this.#R,'[selector="scheduledSend"]')}getMoreSendOptionsButton(){return(0,S.A)(this.#R,".hG")}getSendButtonGroup(){const e=this.#R.querySelector(".IZ .Up div > [role=button][aria-haspopup=true]:not([class^=inboxsdk_])");return e?e.parentElement:this.getSendButton()}getSendAndArchiveButton(){if(!this.isReply())return null;const e=this.#R.querySelector(".IZ .Up div > div[role=button].Uo:not([aria-haspopup=true]):not([class^=inboxsdk_])");if(e)return e;const t=this.getSendButton(),n=t.parentElement;if(!(n instanceof HTMLElement))throw new Error("should not happen");if(n.childElementCount<=1)return this.#t.getLogger().eventSdkPassive("getSendAndArchiveButton - old method - failed to find, childElementCount <= 1"),null;const r=n.children[0]!==t?n.children[0]:n.children[1],i=r?r.querySelector("[role=button]"):null;return i?this.#t.getLogger().eventSdkPassive("getSendAndArchiveButton - old method - found"):this.#t.getLogger().eventSdkPassive("getSendAndArchiveButton - old method - failed to find"),i}getCloseButton(){return this.#R.querySelectorAll(".Hm > img")[2]}getMoleSwitchButton(){return this.#R.querySelectorAll(".Hm > img")[1]}getBottomBarTable(){return(0,S.A)(this.#R,".aoP .aDh > table")}getBottomToolbarContainer(){return(0,S.A)(this.#R,".aoP .aDj")}getDiscardButton(){return(0,S.A)(this.#R,".gU .oh")}getComposeID(){return this.#q}getInitialMessageID(){return this.#G}#se(){const e=this.#W&&this.#W.value||null;return"string"==typeof e&&"undefined"!==e&&"null"!==e?e.replace("#","").replace("msg-a:",""):null}#fe(){const e=this.#W&&this.#W.value||null;return"string"==typeof e&&"undefined"!==e&&"null"!==e?e.replace("#",""):null}getMessageID(){return this.#Y}getTargetMessageID(){return this.#Q}getThreadID(){return this.#K}async getCurrentDraftID(){const e=this.#se();if(this.#Y)return e;{const t=this.#fe();if(t){try{await this.#t.getGmailMessageIdForSyncDraftId(t)}catch(e){return null}return e}}}getDraftID(){let e=this.#$;return e||(e=this.#$=this.#ye()),e}async#ye(){const e=this.#se();if(this.#Y)return e;{const t=this.#fe();if(t){try{await this.#t.getGmailMessageIdForSyncDraftId(t)}catch(e){await this.#M.filter(e=>{let{eventName:t}=e;return"draftSaved"===t}).beforeEnd(()=>null).map(()=>this.#se()).take(1).toPromise()}return e}}}addManagedViewController(e){this.#U.push(e)}ensureGroupingIsOpen(e){!function(e,t){if("SEND_ACTION"!==t){var n=e.querySelector(".inboxsdk__compose_groupedActionButton");n&&(e.classList.contains("inboxsdk__compose_groupedActionToolbar_visible")||(0,x.jp)(n))}}(this.#R,e)}ensureAppButtonToolbarsAreClosed(){var e,t;(t=(e=this.#R).querySelector(".inboxsdk__compose_groupedActionButton"))&&e.classList.contains("inboxsdk__compose_groupedActionToolbar_visible")&&(0,x.jp)(t)}isMinimized(){const e=this.getElement(),t=this.getMaybeBodyElement(),n=f()(e.children,e=>e.contains(t));return n?""!==n.style.display:(ze||(ze=!0,this.#t.getLogger().error(new Error("isMinimized failed to find bodyContainer"),{bodyElement:!!t,hasMessageIDElement:!!this.#W,ended:this.#M.ended,bodyElStillInCompose:this.#R.contains(this.#O),seenBodyElHtml:(0,ge.A)(this.#O.outerHTML),composeHtml:(0,ge.A)(e.outerHTML)})),!1)}setMinimized(e){if(e!==this.isMinimized()){if(this.#P)throw new Error("Not implemented for inline compose views");const e=(0,S.A)(this.#R,".Hm > img");(0,x.jp)(e)}}setFullscreen(e){if(e!==this.isFullscreen()){if(this.#P)throw new Error("Not implemented for inline compose views");const e=(0,S.A)(this.#R,".Hm > img:nth-of-type(2)");(0,x.jp)(e)}}setTitleBarColor(e){const t=(0,S.A)(this.#R,".nH.Hy.aXJ table.cf.Ht td.Hm"),n=[(0,S.A)(this.#R,".nH.Hy.aXJ .pi > .l.o"),(0,S.A)(this.#R,".nH.Hy.aXJ .l.m"),(0,S.A)(this.#R,".nH.Hy.aXJ .l.m > .l.n")];return t.classList.add("inboxsdk__compose_customTitleBarColor"),n.forEach(t=>{t.style.backgroundColor=e}),()=>{t.classList.remove("inboxsdk__compose_customTitleBarColor"),n.forEach(e=>{e.style.backgroundColor=""})}}setTitleBarText(e){if(this.isInlineReplyForm())throw new Error("setTitleBarText() is not supported on inline compose views");const t=(0,S.A)(this.#R,".nH.Hy.aXJ table.cf.Ht");if(t.classList.contains("inboxsdk__compose_hasCustomTitleBarText"))throw new Error("Custom title bar text is already registered for this compose view");const n=(0,S.A)(t,"div.Hp").parentElement;if(!(n instanceof HTMLElement))throw new Error("Could not locate title bar text parent");t.classList.add("inboxsdk__compose_hasCustomTitleBarText"),n.classList.add("inboxsdk__compose_nativeTitleBarText");const r=document.createElement("td");return r.classList.add("inboxsdk__compose_customTitleBarText"),r.innerHTML=i()`
      <div class="Hp">
        <h2 class="a3E">
          <div class="aYF">${e}</div>
        </h2>
      </div>
    `,n.insertAdjacentElement("afterend",r),()=>{r.remove(),t.classList.remove("inboxsdk__compose_hasCustomTitleBarText"),n.classList.remove("inboxsdk__compose_nativeTitleBarText")}}#me(){this.#H||(this.#H=!0,b.later(0,void 0).takeUntilBy(this.#e).onValue(()=>{this.#H=!1;const e=this.getMaybeBodyElement();if(e){const t=this.#t.getPageCommunicator().silenceGmailErrorsForAMoment();try{k(e,190,0)}finally{t()}}}))}#pe(){const e=this.#R.querySelector('input[name="rm"]');return e&&"string"==typeof e.value&&"undefined"!=e.value?e.value.replace("#",""):null}getElement(){return this.#R}isFullscreen(){return this.#j}getLastSelectionRange(){const e=this.#J;return e&&!this.getBodyElement().contains(e.commonAncestorContainer)&&(this.#J=void 0),this.#J}setLastSelectionRange(e){this.#J=e}registerRequestModifier(e){const t=this.#se();if(!t)throw new Error("keyId should be set here");const n=this.#t.getPageCommunicator().registerComposeRequestModifier(t,this.#t.getAppId());this.#Z[n]=e,this.#we(),this.#e.onValue(()=>{this.#t.getPageCommunicator().unregisterComposeRequestModifier(t,n)})}#we(){if(this.#X)return;const e=this.#se();if(!e)throw new Error("keyId should be set here");this.#t.getPageCommunicator().ajaxInterceptStream.filter(t=>{let{type:n,composeid:r,draftID:i,modifierId:o}=t;return"inboxSDKmodifyComposeRequest"===n&&(r===e||e===i)&&Boolean(this.#Z[o])}).takeUntilBy(this.#e).onValue(t=>{let{modifierId:n,composeParams:r}=t;this.#t.getLogger().shouldTrackEverything()&&this.#t.getLogger().eventSite("inboxSDKmodifyComposeRequest");const i=this.#Z[n];new Promise(e=>e(i(r))).then(t=>this.#t.getPageCommunicator().modifyComposeRequest(e,n,t||r)).then(e=>(this.#t.getLogger().shouldTrackEverything()&&this.#t.getLogger().eventSite("composeRequestModified"),e)).catch(t=>{this.#t.getPageCommunicator().modifyComposeRequest(e,n,r),this.#t.getLogger().error(t)})}),this.#X=!0}setupLinkPopOvers(){var e;this.#ie||(this.#ie=!0,this.#M.plug((e=this,(0,Se.A)(e.getGmailDriver().getTagTree().getAllByTag("composeLinkPopOverContainer")).flatMap(t=>{let{el:n,removalStream:r}=t;const i=n.getValue();e.getGmailDriver().getLogger().eventSite("link_popOver",i);let o=null;return r.onValue(()=>{o&&(o.emit("close"),o=null)}),(0,J.A)(i,{attributes:!0,attributeFilter:["style"]}).toProperty(()=>null).takeUntilBy(r).flatMap(()=>{if(o&&(o.emit("close"),o=null),"visible"===i.style.visibility){const t=Oe(e);if(t&&e.getElement().contains(t)){const e=new Ve(t,i);return o=e,b.constant({eventName:"linkPopOver",data:e})}}return b.never()})}))))}}},9121:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(7332),i=n(7249),o=n(4924),s=n.n(o),a=n(5755),l=n.n(a),u=n(5389),c=n(2617),d=n(9860),h=n(3741);e=n.hmd(e);const p=(0,r.defn)(e,function(e,t){const{height:n,orderHint:r,addAboveNativeStatusBar:o}={height:40,orderHint:0,addAboveNativeStatusBar:!1,...t},s=new f(e,n,r,o);return e.getStopper().takeUntilBy(i.default.fromEvents(s,"destroy")).onValue(()=>s.destroy()),s});class f extends h.A{_prependContainer=null;_stopper=s()();constructor(e,t,n,r){super(function(e,t){const n=document.createElement("div");return n.className=l()("aDh","inboxsdk__compose_statusbar",{inboxsdk__addAboveNative:t}),n.style.fontFamily="Roboto,RobotoDraft,Helvetica,Arial,sans-serif",n.style.fontSize="15.6px",n.setAttribute("data-order-hint",String(e)),n}(n,r)),this._addAboveNativeStatusBar=r,this._gmailComposeView=e,this._nativeStatusContainer=(0,d.A)(e.getElement(),".iN > tbody .aDj"),this._setStatusBar(),this.setHeight(t)}destroy(){this.destroyed||(super.destroy(),this._stopper.destroy(),this._prependContainer&&0===this._prependContainer.children.length&&this._prependContainer.remove(),this._updateTotalHeight())}setHeight(e){this.el.style.height=e+"px",this._updateTotalHeight()}_updateTotalHeight(){const e=Array.from(this._gmailComposeView.getElement().querySelectorAll(".inboxsdk__compose_statusbar")).map(e=>e.getBoundingClientRect().height).reduce((e,t)=>e+t,0);this._gmailComposeView.getElement().style.setProperty("--inboxsdk-total-added-statusbar-height",e+"px")}_setStatusBar(){try{const e=this._gmailComposeView.getStatusArea();if(this._gmailComposeView.getElement().classList.add("inboxsdk__compose_statusbarActive"),this._addAboveNativeStatusBar){const t=this._prependContainer=e.querySelector(".inboxsdk__compose_statusBarPrependContainer")||document.createElement("div");t.classList.add("inboxsdk__compose_statusBarPrependContainer"),e.insertAdjacentElement("afterbegin",t),(0,u.A)(t,this.el)}else if(this._gmailComposeView.isInlineReplyForm()){const e=(0,d.A)(this._gmailComposeView.getElement(),".iN > tbody .aDj .aDh .IZ");(0,u.A)(e,this.el)}else(0,u.A)(e,this.el)}catch(e){c.A.error(e)}}}},9e3:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const r=new WeakMap;function i(e){var t=e.getElement().querySelector(".inboxsdk__compose_groupedActionToolbar > div");if(t)return t;let n=e.getElement().querySelector(".inboxsdk__compose_actionToolbar > div");if(n)return n;if(n=r.get(e),!n){const t=n=function(e){const t=document.createElement("td");t.setAttribute("class","inboxsdk__compose_actionToolbar gU");const n=e.getFormattingArea();if(!n)throw new Error("formatting area missing");n.insertAdjacentElement("beforebegin",t);let r=t.parentElement;for(;r&&"TABLE"!==r.tagName;)r=r.parentElement;if(r){const e=r.querySelector("colgroup col");if(e){const t=document.createElement("col");t.setAttribute("class","inboxsdk__compose_actionToolbarColumn");const n=document.createElement("col");n.setAttribute("class","inboxsdk__compose_separatorColumn"),e.insertAdjacentElement("afterend",n),e.insertAdjacentElement("afterend",t)}}var i=document.createElement("div");return t.appendChild(i),i}(e);e.getStopper().onValue(()=>{t.remove()}),r.set(e,n)}return n}},5845:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(4455),i=n.n(r),o=n(616),s=n.n(o),a=n(5938);e=n.hmd(e);const l=s()(e,function(e){const t=e.getElement(),n=e.getBodyElement(),r=i()(t.children,e=>e.contains(n));return(0,a.A)(r,{attributes:!0,attributeFilter:["style"]}).map(()=>e.isMinimized())});function u(e){return l.flatMapLatest(t=>t(e))}},5865:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(5193),i=n.n(r),o=n(7249),s=n(8631),a=n.n(s),l=n(2617),u=n(4603),c=n(5235);class d{_element=document.createElement("div");_iconElement=document.createElement("div");constructor(e){this._isEnabled=!1!==e.enabled,this._iconClass=e.iconClass,this._iconUrl=e.iconUrl,this._tooltip=e.tooltip||e.title||e.text,this._hasDropdown=!!e.hasDropdown,this._keyboardShortcutHandle=e.keyboardShortcutHandle,this._createElement(e),this._eventStream=a()(),this._setupEventStream(),this._setupAestheticEvents(),!1!==e.enabled&&this._setupKeyboardShortcutEvent()}destroy(){this._element.remove(),this._eventStream.end()}getElement(){return this._element}getEventStream(){return this._eventStream}activate(){this.addClass("inboxsdk__composeButton_active")}deactivate(){this.removeClass("inboxsdk__composeButton_active")}addClass(e){this._element.classList.add(e)}removeClass(e){this._element.classList.remove(e)}simulateHover(){(0,u.zU)(this._element)}setEnabled(e){this._setEnabled(e)}isEnabled(){return this._isEnabled}update(e){if(!e)return void(this._element.style.display="none");"none"===this._element.style.display&&(this._element.style.display="");const t=e.tooltip||e.title||e.text;t!=this._tooltip&&this._updateTooltip(t),e.iconUrl!=this._iconUrl&&this._updateIconUrl(e.iconUrl),e.iconClass!=this._iconClass&&this._updateIconClass(e.iconClass),!1!==e.enabled&&!0!==e.enabled||this._setEnabled(e.enabled)}_createElement(e){this._createMainElement(e),this._createIconElement()}_createMainElement(e){this._element.setAttribute("class","inboxsdk__composeButton"),e.tooltip&&this._element.setAttribute("aria-label",e.tooltip),this._element.setAttribute("role","button"),this._element.setAttribute("tabindex","0");const t=e.tooltip||e.title||e.text;t&&this._element.setAttribute("data-tooltip",t),!1===e.enabled&&this._element.classList.add("inboxsdk__button_disabled"),e.noOverflow&&this._element.setAttribute("data-no-overflow","")}_createIconElement(){const e=this._iconElement;this._iconClass&&(e.innerHTML="&nbsp;",e.setAttribute("class",this._iconClass)),e.classList.add("inboxsdk__button_icon"),this._element.appendChild(e),this._iconUrl&&this._createIconImgElement()}_createIconImgElement(){this._iconElement.innerHTML="";const e=this._iconImgElement=document.createElement("img");e.classList.add("inboxsdk__button_iconImg"),this._iconUrl?e.src=this._iconUrl:l.A.error(new Error("_createIconImgElement should not be called with null _iconUrl")),this._iconElement.appendChild(e)}_updateTooltip(e){this._tooltip=e,e?this._element.setAttribute("data-tooltip",e):this._element.removeAttribute("data-tooltip")}_updateIconUrl(e){this._iconUrl=e,!e&&this._iconImgElement?(this._iconImgElement.remove(),this._iconImgElement=null):e&&!this._iconImgElement?this._createIconImgElement():e&&this._iconImgElement&&(this._iconImgElement.src=e)}_updateIconClass(e){this._iconClass=e,this._iconElement.setAttribute("class","inboxsdk__button_icon "+(e||""))}_setEnabled(e){this._isEnabled!==e&&(this._isEnabled=e,this._isEnabled?this._element.classList.remove("inboxsdk__button_disabled"):this._element.classList.add("inboxsdk__button_disabled"),this._eventStream.emit({eventName:"enabledChanged",isEnabled:this._isEnabled}),this._isEnabled&&this._setupKeyboardShortcutEvent())}_setupEventStream(){const e=o.fromEvents(this._element,"click");e.onValue(function(e){e.stopPropagation(),e.preventDefault()}),this._eventStream.plug(e.filter(()=>this.isEnabled()).map(function(e){return{eventName:"click",domEvent:e}}));const t=o.fromEvents(this._element,"keydown").filter(()=>this.isEnabled()).filter(e=>i()([32,13],e.which));this._eventStream.plug(t.map(function(e){return{eventName:"click",domEvent:e}})),t.onValue(function(e){e.stopPropagation(),e.preventDefault()})}_setupKeyboardShortcutEvent(){const e=this._keyboardShortcutHandle;e&&this._eventStream.plug((0,c.A)(e.chord).takeUntilBy(this._eventStream.filter(function(e){return"enabledChanged"===e.eventName&&!1===e.isEnabled})).map(function(e){return{eventName:"click",domEvent:e}}))}_setupAestheticEvents(){o.fromEvents(this._element,"mouseenter").filter(()=>this.isEnabled()).onValue(()=>{this._element.classList.add("inboxsdk__button_hover")}),o.fromEvents(this._element,"mouseleave").onValue(()=>{this._element.classList.remove("inboxsdk__button_hover")})}}},7389:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(7332),i=n(5865),o=n(9755),s=n(5389),a=n(4603),l=n(5156),u=n(2617),c=n(9860),d=n(1443),h=n(4531);e=n.hmd(e);const p=(0,r.defonce)(e,()=>new Map),f=(0,r.defn)(e,function(e){if("true"!==e.getElement().getAttribute("data-button-grouping-managed")){p.set(e,{}),e.getElement().setAttribute("data-button-grouping-managed","true"),e.getEventStream().filter(e=>"fullscreenChanged"===e.eventName).debounce(10).onValue(()=>{!function(e){e.getElement().querySelector(".inboxsdk__compose_groupedActionToolbar")&&function(e){const t=(0,h.A)(p,e);t.groupedToolbarButtonViewController&&t.groupedToolbarButtonViewController.destroy(),t.formattingToolbarMutationObserver&&t.formattingToolbarMutationObserver.disconnect();const n=t.groupedActionToolbarContainer.firstElementChild;if(n){b(e,n),n.remove();const t=(0,c.A)(e.getElement(),".inboxsdk__compose_actionToolbar");t.innerHTML="",t.appendChild(n)}}(e),m(e)}(e)}),e.getEventStream().filter(function(e){return"buttonAdded"===e.eventName}).onValue(()=>{m(e)}),e.getEventStream().filter(e=>"resize"===e.eventName||"restored"===e.eventName).onValue(()=>{m(e)});var t=e.getElement();e.getStopper().onValue(function(){p.delete(e),t.setAttribute("data-button-grouping-managed","false")})}});function m(e){!function(e){_.has(e)||(_.add(e),window.requestAnimationFrame(()=>{if(_.delete(e),!e.isDestroyed()&&function(e){const t=e.getElement();return!(t.querySelector(".inboxsdk__compose_groupedActionToolbar")||t.querySelectorAll(".inboxsdk__composeButton:not([data-no-overflow])").length<2||!function(e){const t=e.querySelector(".bAK"),n=t?.offsetWidth??0,r=Array.from(t?.querySelectorAll(".wG")??[]);let i=0;for(const e of r){const t=g.get(e)??getComputedStyle(e);g.has(e)||g.set(e,t);const r=parseFloat(t.marginLeft)+parseFloat(t.marginRight);if(i+=e.offsetWidth,i+=r,i>n)return!0}return!1}(t))}(e)){var t=function(e){var t=document.createElement("div");return t.classList.add("inboxsdk__compose_groupedActionToolbar"),t.innerHTML='<div class="inboxsdk__compose_groupedActionToolbar_arrow"> </div>',(0,h.A)(p,e).groupedActionToolbarContainer=t,t.style.display="none",t}(e),n=function(e){var t=(0,h.A)(p,e),n=function(){var e=new i.A({tooltip:"More Tools",iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAEJGlDQ1BJQ0MgUHJvZmlsZQAAOBGFVd9v21QUPolvUqQWPyBYR4eKxa9VU1u5GxqtxgZJk6XtShal6dgqJOQ6N4mpGwfb6baqT3uBNwb8AUDZAw9IPCENBmJ72fbAtElThyqqSUh76MQPISbtBVXhu3ZiJ1PEXPX6yznfOec7517bRD1fabWaGVWIlquunc8klZOnFpSeTYrSs9RLA9Sr6U4tkcvNEi7BFffO6+EdigjL7ZHu/k72I796i9zRiSJPwG4VHX0Z+AxRzNRrtksUvwf7+Gm3BtzzHPDTNgQCqwKXfZwSeNHHJz1OIT8JjtAq6xWtCLwGPLzYZi+3YV8DGMiT4VVuG7oiZpGzrZJhcs/hL49xtzH/Dy6bdfTsXYNY+5yluWO4D4neK/ZUvok/17X0HPBLsF+vuUlhfwX4j/rSfAJ4H1H0qZJ9dN7nR19frRTeBt4Fe9FwpwtN+2p1MXscGLHR9SXrmMgjONd1ZxKzpBeA71b4tNhj6JGoyFNp4GHgwUp9qplfmnFW5oTdy7NamcwCI49kv6fN5IAHgD+0rbyoBc3SOjczohbyS1drbq6pQdqumllRC/0ymTtej8gpbbuVwpQfyw66dqEZyxZKxtHpJn+tZnpnEdrYBbueF9qQn93S7HQGGHnYP7w6L+YGHNtd1FJitqPAR+hERCNOFi1i1alKO6RQnjKUxL1GNjwlMsiEhcPLYTEiT9ISbN15OY/jx4SMshe9LaJRpTvHr3C/ybFYP1PZAfwfYrPsMBtnE6SwN9ib7AhLwTrBDgUKcm06FSrTfSj187xPdVQWOk5Q8vxAfSiIUc7Z7xr6zY/+hpqwSyv0I0/QMTRb7RMgBxNodTfSPqdraz/sDjzKBrv4zu2+a2t0/HHzjd2Lbcc2sG7GtsL42K+xLfxtUgI7YHqKlqHK8HbCCXgjHT1cAdMlDetv4FnQ2lLasaOl6vmB0CMmwT/IPszSueHQqv6i/qluqF+oF9TfO2qEGTumJH0qfSv9KH0nfS/9TIp0Wboi/SRdlb6RLgU5u++9nyXYe69fYRPdil1o1WufNSdTTsp75BfllPy8/LI8G7AUuV8ek6fkvfDsCfbNDP0dvRh0CrNqTbV7LfEEGDQPJQadBtfGVMWEq3QWWdufk6ZSNsjG2PQjp3ZcnOWWing6noonSInvi0/Ex+IzAreevPhe+CawpgP1/pMTMDo64G0sTCXIM+KdOnFWRfQKdJvQzV1+Bt8OokmrdtY2yhVX2a+qrykJfMq4Ml3VR4cVzTQVz+UoNne4vcKLoyS+gyKO6EHe+75Fdt0Mbe5bRIf/wjvrVmhbqBN97RD1vxrahvBOfOYzoosH9bq94uejSOQGkVM6sN/7HelL4t10t9F4gPdVzydEOx83Gv+uNxo7XyL/FtFl8z9ZAHF4bBsrEwAAADxJREFUOBFjYKASYISa8x/NPJLFmdAMIJs7+Awi2ys000hy7EBdghHLgy+wqeYimgU+2QaPxhrZQUe6RgBYwgkWqJftAwAAAABJRU5ErkJggg=="});return e.addClass("inboxsdk__compose_groupedActionButton"),e.getElement().setAttribute("tabindex","1"),e}(),r=new o.A({buttonView:n,activateFunction:function(){!function(e,t){A()?function(e,t){(0,h.A)(p,e).groupedActionToolbarContainer.style.display="none",e.getElement().classList.remove("inboxsdk__compose_groupedActionToolbar_visible"),t.getView().deactivate(),localStorage.inboxsdk__compose_groupedActionButton_state="collapsed";e.getBottomBarTable().style.position="";const n=e.getElement().querySelector(".qz");n&&(n.scrollTop=n.scrollTop-1)}(e,t):v(e,t)}(e,r),A()&&(0,h.A)(p,e).groupedActionToolbarContainer.querySelectorAll(".inboxsdk__composeButton")[0].focus()}});return t.groupedActionToolbarContainer.addEventListener("keydown",function(e){27===e.which&&(r.activate(),n.getElement().focus(),e.preventDefault(),e.stopPropagation())}),(0,h.A)(p,e).groupedToolbarButtonViewController=r,r}(e);!function(e,t){const n=(0,c.A)(e.getElement(),".inboxsdk__compose_actionToolbar > div"),r=n.parentElement,i=document.createElement("div");i.appendChild(t.getView().getElement()),r.appendChild(i);const o=(0,h.A)(p,e).groupedActionToolbarContainer;o.insertBefore(n,o.firstElementChild),r.appendChild(o),function(e){const t=(0,c.A)(e.getElement(),".inboxsdk__compose_actionToolbar > div");b(e,t)}(e)}(e,n),function(e,t){A()&&v(e,t)}(e,n),function(e,t){(0,l.A)(function(){if(e.isDestroyed())throw"skip";return e.getFormattingToolbar()}).then(n=>{const r=new MutationObserver(function(e){const n=e[0].target;n instanceof HTMLElement&&""===n.style.display&&"expanded"===localStorage.inboxsdk__compose_groupedActionButton_state&&t.activate()});r.observe(n,{attributes:!0,attributeFilter:["style"]}),(0,h.A)(p,e).formattingToolbarMutationObserver=r,e.getStopper().onValue(()=>r.disconnect())}).catch(e=>{if("skip"!==e)throw u.A.error(e),e})}(e,n),e.getStopper().onValue(function(){t.remove(),n.destroy()})}}))}(e),function(e){y.has(e)||(y.add(e),window.requestAnimationFrame(()=>{if(y.delete(e),!e.isDestroyed()){!function(e){const t=e.getFormattingToolbar();if(t&&""===t.style.display){const n=e.getFormattingToolbarArrow(),r=e.getFormattingToolbarToggleButton(),i=r.offsetLeft+r.clientWidth/2-n.offsetWidth/2;n.style.left=i+"px";const o=e.getStatusBarPrependContainer();t.style.bottom=o?-1*o.offsetHeight+"px":""}}(e);var t=e.getElement().querySelector(".inboxsdk__compose_groupedActionToolbar");t&&"none"!==t.style.display&&w(e)}}))}(e)}const _=new WeakSet,g=new WeakMap;function b(e,t){const n=e.getElement().querySelectorAll(".inboxsdk__composeButton[data-no-overflow]");Array.from(n).forEach(e=>(0,s.A)(t,e,void 0,!0))}function v(e,t){(0,h.A)(p,e).groupedActionToolbarContainer.style.display="",e.getElement().classList.add("inboxsdk__compose_groupedActionToolbar_visible"),t.getView().activate(),localStorage.inboxsdk__compose_groupedActionButton_state="expanded",w(e);const n=e.getFormattingToolbar();n&&""===n.style.display&&(0,a.jp)(e.getFormattingToolbarToggleButton());const r=e.getElement().querySelector(".qz");r&&(r.scrollTop=r.scrollTop+1)}function A(){return"expanded"===localStorage.inboxsdk__compose_groupedActionButton_state}const y=new WeakSet;function w(e){if(e.isMinimized())return;var t=e.getElement().querySelector(".inboxsdk__compose_groupedActionToolbar");if(!t)return;const n=(0,c.A)(e.getElement(),".inboxsdk__compose_groupedActionButton"),r=(0,c.A)(t,".inboxsdk__compose_groupedActionToolbar_arrow");if(t.style.display="",n.offsetLeft+n.clientWidth>t.offsetWidth){var i=n.clientWidth/2-t.offsetWidth/2-3;t.style.left=n.offsetLeft+i+"px",r.style.left=-(i+1)+"px"}else t.style.left="",r.style.left=n.offsetLeft-1+"px";e.getBottomBarTable().style.position="relative";const o=e.getBottomBarTable().clientHeight;if(t.style.bottom=`${o+1}px`,o<1){const t=e.getElement().querySelectorAll("td.HE");u.A.error(new Error("bottom toolbar had bad height"),{bottomToolbarHeight:o,heElementHeights:Array.from(t).map(e=>e.clientHeight),heElementsHTML:Array.from(t).map(d.A)})}}},6134:(e,t,n)=>{"use strict";n.d(t,{A:()=>j,v:()=>F});var r=n(8921),i=n.n(r),o=n(4176),s=n.n(o),a=n(5193),l=n.n(a),u=n(4225),c=n.n(u),d=n(8496),h=n.n(d),p=n(6501),f=n.n(p),m=n(7332),_=n(7249),g=n(4622),b=n.n(g),v=n(9860),A=n(3197),y=n(5389),w=n(5164),C=n.n(w),x=n(1136),E=n(4924),k=n.n(E),S=n(3612),I=n(3046),T=n(1470),D=n.n(T),B=n(2621);const M=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._element=document.createElement("div"),this._element.className="inboxsdk__gmail_label ar as "+(e.classes||[]).join(" "),this._element.innerHTML='\n\t\t\t<div class="at">\n\t\t\t\t<div class="au">\n\t\t\t\t\t<div class="av"></div>\n\t\t\t\t</div>\n\t\t\t</div>',this._labelDescriptor={},this._iconSettings={}}getElement(){return this._element}updateLabelDescriptor(e){this._handleNewLabelDescriptor(e)}_handleNewLabelDescriptor(e){e?(e=Object.assign({foregroundColor:"rgb(102, 102, 102)",backgroundColor:"rgb(221, 221, 221)",maxWidth:"90px"},e),D()(this._labelDescriptor,e)||((0,B.A)(this._iconSettings,(0,v.A)(this._element,".at"),!1,e.iconClass,e.iconUrl,void 0,e.iconHtml),e.iconClass||e.iconUrl||e.iconHtml?this._element.classList.add("inboxsdk__label_has_icon"):this._element.classList.remove("inboxsdk__label_has_icon"),this._updateBackgroundColor(e.backgroundColor),this._updateForegroundColor(e.foregroundColor),this._updateIconBackgroundColor(e.iconBackgroundColor),this._updateTitle(e.title,e.titleHtml),this._updateTextMaxWidth(e.maxWidth),this._labelDescriptor=e)):this._labelDescriptor={}}_updateTextMaxWidth(e){if(this._labelDescriptor.maxWidth===e)return;const t=this._element.querySelector(".av");t&&(t.style.maxWidth=e)}_updateBackgroundColor(e){if(this._labelDescriptor.backgroundColor===e)return;const t=(0,v.A)(this._element,".at");t.style.backgroundColor=e,t.style.borderColor=e,(0,v.A)(this._element,".au").style.borderColor=e}_updateForegroundColor(e){this._labelDescriptor.foregroundColor!==e&&((0,v.A)(this._element,".at").style.color=e)}_updateIconBackgroundColor(e){const t=this.getElement().querySelector(".inboxsdk__button_icon");t&&(t.style.backgroundColor=e||"")}_updateTitle(e,t){if(this._labelDescriptor.title===e&&this._labelDescriptor.titleHtml===t)return;if(t)return void((0,v.A)(this._element,".au").innerHTML=t||"");let n;try{n=(0,v.A)(this._element,".av")}catch(e){const t=(0,v.A)(this._element,".au");t.innerHTML="",n=document.createElement("div"),n.setAttribute("class","av"),t.appendChild(n)}n.textContent=e,this._element.children[0].setAttribute("data-tooltip",e)}},N=class{constructor(){this._element=document.createElement("div"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.className="inboxsdk__gmail_action ",this._element.innerHTML="\n\t\t\t<div>\n\t\t\t</div>",this._actionDescriptor=null}getElement(){return this._element}updateDescriptor(e){e?D()(this._actionDescriptor,e)||(this._updateTitle(e.title),this._element.className="inboxsdk__gmail_action "+(e.className||""),this._actionDescriptor=e):this._actionDescriptor=e}setOnClick(e){this._element.onclick=e}_updateTitle(e){this._actionDescriptor&&this._actionDescriptor.title===e||((0,v.A)(this._element,"div").textContent=e)}};var L=n(1602);e=n.hmd(e);const V=(0,m.defonce)(e,()=>new WeakMap),R="inboxsdk__thread_row_button";function O(e){this.focus(),e.stopImmediatePropagation()}function P(e){e.target?.closest(`.${R}`)&&e.stopImmediatePropagation()}const j=class{_stopper=k()();#Ce=null;_isDestroyed=!1;constructor(e,t,n){if((0,L.v)(e.hasAttribute("id"),"check element is main thread row"),this._isVertical=2===c()(Array.from(e.classList),["zA","apv"]).length,this._isVertical){const t=e.nextElementSibling;if(!t)throw new Error("threadRow2 not found");const n=t.nextElementSibling,r=n&&n.classList.contains("apw");this._elements=r?[e,e.nextElementSibling,e.nextElementSibling.nextElementSibling]:[e,e.nextElementSibling]}else this._elements=[e];const r=V.get(this._elements[0]);r?(this._modifications=r,this._alreadyHadModifications=!0):(this._alreadyHadModifications=!1,this._modifications={label:{unclaimed:[],claimed:[]},action:{unclaimed:[],claimed:[]},button:{unclaimed:[],claimed:[]},image:{unclaimed:[],claimed:[]},replacedDate:{unclaimed:[],claimed:[]},replacedDraftLabel:{unclaimed:[],claimed:[]}},V.set(this._elements[0],this._modifications)),this._rowListViewDriver=t,this._driver=n,this._userView=null,this._cachedThreadID=null,this._refresher=null,this._subjectRefresher=null,this._imageRefresher=null,this._elements[0].setAttribute("data-inboxsdk-thread-row","true")}destroy(){this._elements.length&&(this._isDestroyed=!0,this._modifications.label.unclaimed=this._modifications.label.claimed.concat(this._modifications.label.unclaimed),this._modifications.label.claimed.length=0,this._modifications.action.unclaimed=this._modifications.action.claimed.concat(this._modifications.action.unclaimed),this._modifications.action.claimed.length=0,this._modifications.button.unclaimed=this._modifications.button.claimed.concat(this._modifications.button.unclaimed),this._modifications.button.claimed.length=0,this._modifications.image.unclaimed=this._modifications.image.claimed.concat(this._modifications.image.unclaimed),this._modifications.image.claimed.length=0,this._modifications.replacedDate.unclaimed=this._modifications.replacedDate.claimed.concat(this._modifications.replacedDate.unclaimed),this._modifications.replacedDate.claimed.length=0,this._modifications.replacedDraftLabel.unclaimed=this._modifications.replacedDraftLabel.claimed.concat(this._modifications.replacedDraftLabel.unclaimed),this._modifications.replacedDraftLabel.claimed.length=0,f()(this._elements,e=>Array.from(e.getElementsByClassName("inboxsdk__thread_row_addition"))).forEach(e=>{e.remove()}),this._stopper.destroy(),this._elements.length=0)}getElement(){return this._elements[0]}#xe(){return this._elements[0]?.querySelector("ul[role=toolbar]")||null}_removeUnclaimedModifications(){U(this._modifications)}getAlreadyHadModifications(){return this._alreadyHadModifications}waitForReady(){const e=[0,10,100,1e3,15e3],t=()=>{if(this._threadIdReady())return b()(()=>{this._elements.length&&this._removeUnclaimedModifications()}),_.constant(this);{const n=e.shift();return null==n?(console.log("Should not happen: ThreadRowViewDriver never became ready",this),_.never()):_.later(n,void 0).flatMap(t)}};return t()}setUserView(e){this._userView=e}#Ee(){if(this.#Ce)return this.#Ce;let e;try{e=(0,v.A)(this._elements[0],"td div.yW")}catch(e){if(!(e instanceof v.a))throw e;this._driver.logger.errorSite(e)}if(!e)return this.#Ce={messageCount:0,draftCount:0};const t=e.querySelectorAll(".boq").length,n=e.querySelector(".bx0"),r=n?.innerHTML?+n.innerHTML:t?0:1;return this.#Ce={messageCount:r,draftCount:t},this.#Ce}_expandColumn(e,t){this._rowListViewDriver.expandColumn(e,t)}addLabel(e){if(!this._elements.length)return void console.warn("addLabel called on destroyed thread row");const t=C()(_,e).takeUntilBy(this._stopper).toProperty();let n=null;t.combine(this._getRefresher(),(e,t)=>e).takeUntilBy(this._stopper).onValue(e=>{if(e){if(!n){if(n=this._modifications.label.unclaimed.shift(),!n){const e=new M({classes:["inboxsdk__thread_row_label"]}),t=e.getElement();n={gmailLabelView:e,remove:t.remove.bind(t)}}this._modifications.label.claimed.push(n)}n.gmailLabelView.updateLabelDescriptor(e);const t=this._getLabelParent();t!==n.gmailLabelView.getElement().parentElement&&t.insertAdjacentElement("afterbegin",n.gmailLabelView.getElement())}else n&&(n.remove(),this._modifications.label.claimed.splice(this._modifications.label.claimed.indexOf(n),1),n=null)})}addImage(e){if(!this._elements.length)return void console.warn("addImage called on destroyed thread row");const t=C()(_,e).toProperty().combine(_.merge([this._getRefresher(),this._getSubjectRefresher(),this._getImageContainerRefresher()]),function(e){return e}).takeUntilBy(this._stopper);let n=null;t.onValue(e=>{if(e){n||(n=this._modifications.image.unclaimed.shift(),n||(n={iconSettings:{},iconWrapper:document.createElement("div"),remove(){this.iconWrapper.dispatchEvent(new MouseEvent("mouseleave")),this.iconWrapper.remove()}},n.iconWrapper.className="inboxsdk__thread_row_icon_wrapper"),this._modifications.image.claimed.push(n));const{iconSettings:t,iconWrapper:r}=n;if((0,B.A)(t,r,!1,e.imageClass,e.imageUrl),(3===this._elements.length?this._elements[2]:this._elements[0]).classList.add("inboxsdk__thread_row_image_added"),e.tooltip?r.setAttribute("data-tooltip",e.tooltip):r.removeAttribute("data-tooltip"),e.onHover){const{onHover:t}=e;r.onmouseenter=()=>{const e=new Promise(e=>{r.addEventListener("mouseleave",()=>{e()},{once:!0})});t({hoverEnd:e})}}const i=this._getLabelParent();i.contains(r)||(0,v.A)(i,".y6").insertAdjacentElement("beforebegin",r)}else n&&(n.remove(),this._modifications.image.claimed.splice(this._modifications.image.claimed.indexOf(n),1),n=null)})}addButton(e){if(!this._elements.length)return void console.warn("addButton called on destroyed thread row");if(1!=this._elements.length)return;let t=null,n=null;const r=C()(_,e).toProperty().takeUntilBy(this._stopper);r.merge(this._stopper).onValue(e=>{e||t&&(t.close(),t=null)}),this._stopper.onValue(()=>{n&&n.buttonEl&&(n.buttonEl.onclick=null)}),r.combine(this._getRefresher(),(e,t)=>e).onValue(e=>{const r=e;if(r){r.className&&(r.iconClass=r.className,delete r.className);const e=this.#xe();let i,o;n||(n=this._modifications.button.unclaimed.shift(),n||(e?(i=document.createElement("li"),i.classList.add("bqX")):(i=document.createElement("span"),i.classList.add("T-KT")),i.classList.add(R),i.setAttribute("tabindex","-1"),i.setAttribute("data-order-hint",String(r.orderHint||0)),i.addEventListener("onmousedown",O),o={},n={buttonEl:i,iconSettings:o,remove:i.remove.bind(i)}),this._modifications.button.claimed.push(n));const s=e?null:(0,v.A)(this._elements[0],"td.apU.xY, td.aqM.xY");i=n.buttonEl,o=n.iconSettings,r.title?(i.setAttribute("aria-label",r.title),i.setAttribute("data-tooltip",r.title)):(i.removeAttribute("aria-label"),i.removeAttribute("data-tooltip")),r.onClick&&(i.onclick=e=>{const n={dropdown:null,threadRowView:this._userView};if(r.hasDropdown){if(t)return this._elements[0].classList.remove("inboxsdk__dropdown_active"),this._elements[0].classList.remove("buL"),t.close(),void(t=null);{this._elements[0].classList.add("inboxsdk__dropdown_active"),this._elements[0].classList.add("buL"),n.dropdown=t=new I.A(new S.A,i,null),t.setPlacementOptions({position:"bottom",hAlign:"left",vAlign:"top"});const e=this._elements[0];t.on("destroy",()=>{setTimeout(()=>{e.classList.remove("inboxsdk__dropdown_active"),e.classList.remove("buL"),t=null},1)})}}r.onClick.call(null,n)}),(0,B.A)(o,i,!1,r.iconClass,r.iconUrl),e&&i.parentElement!==e?(0,y.A)(e,i,void 0,!0):s&&i.parentElement!==s&&((0,y.A)(s,i),this._expandColumn("col.y5",26*s.children.length),s.onclick=P)}else n&&(n.remove(),this._modifications.button.claimed.splice(this._modifications.button.claimed.indexOf(n),1),n=null)})}addActionButton(e){if(1!==this._elements.length)return;const t=C()(_,e).takeUntilBy(this._stopper).toProperty();let n=null;this._stopper.onEnd(()=>{n&&n.gmailActionButtonView.setOnClick(null)}),t.takeUntilBy(this._stopper).onValue(e=>{if(e&&"LINK"!==e.type)console.error("Only type=LINK is currently supported");else if(e){if(!n){if(n=this._modifications.action.unclaimed.shift(),!n){const e=new N,t=e.getElement();n={gmailActionButtonView:e,remove:t.remove.bind(t)}}this._modifications.action.claimed.push(n)}n.gmailActionButtonView.updateDescriptor(e);const{url:t,onClick:r}=e;n.gmailActionButtonView.setOnClick(e=>{e.stopPropagation(),window.open(t,"_blank"),r&&r.call(null,{})});const i=this._elements[0].querySelector("td.a4W .a4X .aKS")||this._elements[0].querySelector("td.a4W div.xS");if(!i)throw new Error("Failed to find actionParentDiv");l()(i.children,n.gmailActionButtonView.getElement())||i.insertBefore(n.gmailActionButtonView.getElement(),i.firstChild)}else n&&(n.remove(),this._modifications.action.claimed.splice(this._modifications.action.claimed.indexOf(n),1),n=null)})}addAttachmentIcon(e){if(!this._elements.length)return void console.warn("addAttachmentIcon called on destroyed thread row");const t=i()(()=>{const e=document.createElement("img");return e.src="images/cleardot.gif",e}),n=i()(()=>document.createElement("div"));var r,o=!1;C()(_,e).toProperty().combine(this._getRefresher(),(e,t)=>e).takeUntilBy(this._stopper).onValue(e=>{const i=(0,v.A)(this._elements[0],"td.yf.xY");if(e){const s=null!=e.iconHtml?n():t();e.tooltip?s.setAttribute("data-tooltip",e.tooltip):s.removeAttribute("data-tooltip"),s.className=null!=e.iconHtml?"inboxsdk__thread_row_addition inboxsdk__thread_row_attachment_iconWrapper "+(e.iconClass||""):"inboxsdk__thread_row_addition inboxsdk__thread_row_attachment_icon "+(e.iconClass||""),null!=e.iconHtml?(i.contains(t())&&t().remove(),s.innerHTML=e.iconHtml):r!=e.iconUrl&&(i.contains(n())&&n().remove(),s.style.background=e.iconUrl?"url("+e.iconUrl+") no-repeat 0 0":"",r=e.iconUrl),i.contains(s)||(i.appendChild(s),o=!0,this._expandColumn("col.yg",16*i.children.length),this._elements.length>1&&this._fixDateColumnWidth()),i.classList.add("inboxsdk__thread_row_attachment_icons_present")}else o&&(n().remove(),t().remove(),o=!1,i.querySelector(".inboxsdk__thread_row_attachment_icon")||i.classList.remove("inboxsdk__thread_row_attachment_icons_present"))})}_fixDateColumnWidth(){b()(()=>{if(!this._elements.length)return;const e=this._elements[0].querySelector("td.xW, td.yf > div.apm");if(!e)return;const t=e.querySelector(".inboxsdk__thread_row_custom_date")||e.firstElementChild;if(!(t&&t instanceof HTMLElement))return;const n=this._elements[0].querySelectorAll("td.yf > img").length;this._expandColumn("col.xX",t.offsetWidth+8+2+20+16*n)})}replaceDraftLabel(e){if(!this._elements.length)return void console.warn("replaceDraftLabel called on destroyed thread row");let t,n,r;C()(_,e).toProperty().combine(this._getRefresher(),(e,t)=>e).takeUntilBy(this._stopper).onValue(e=>{const i=(0,v.A)(this._elements[0],"td > div.yW"),o=i.parentElement;if(!o)throw new Error("Should not happen");if(e){e=Object.assign({count:1},e),t||(t=this._modifications.replacedDraftLabel.unclaimed.shift(),t||(t={el:Object.assign(document.createElement("span"),{className:"inboxsdk__thread_row_custom_draft_label"}),remove(){this.el.remove()}}),this._modifications.replacedDraftLabel.claimed.push(t));const s=!l()(o.children,t.el);if(s||!n){t.el.innerHTML=i.innerHTML;const e=Array.from(t.el.querySelectorAll(".boq"));if(e.length>0)e.forEach(e=>e.remove()),n=Object.assign(document.createElement("span"),{className:"boq"}),t.el.appendChild(n);else{if(n=t.el.querySelector("font"),!n)return;const e=n.nextElementSibling;e&&e.remove()}n.classList.add("inboxsdk__thread_row_custom_draft_part"),r=Object.assign(document.createElement("span"),{className:"inboxsdk__thread_row_custom_draft_count"}),t.el.appendChild(r)}n.textContent=e.text,r.textContent=1!==e.count?` (${e.count})`:"",s&&o.insertBefore(t.el,i)}else t&&(t.remove(),this._modifications.replacedDraftLabel.claimed.splice(this._modifications.replacedDraftLabel.claimed.indexOf(t),1),t=null)})}replaceDate(e){if(!this._elements.length)return void console.warn("replaceDate called on destroyed thread row");let t;C()(_,e).toProperty().combine(this._getRefresher(),(e,t)=>e).takeUntilBy(this._stopper).onValue(e=>{const n=(0,v.A)(this._elements[0],"td.xW, td.yf > div.apm");n.firstElementChild,e?(t||(t=this._modifications.replacedDate.unclaimed.shift(),t||(t={el:Object.assign(document.createElement("span"),{className:"inboxsdk__thread_row_custom_date"}),remove(){this.el.remove(),n.classList.remove("inboxsdk__thread_row_custom_date_container")}}),this._modifications.replacedDate.claimed.push(t)),t.el.textContent=e.text,e.tooltip?(t.el.setAttribute("data-tooltip",e.tooltip),t.el.setAttribute("aria-label",e.tooltip)):(t.el.removeAttribute("data-tooltip"),t.el.removeAttribute("aria-label")),t.el.style.color=e.textColor||"",l()(n.children,t.el)||(n.insertBefore(t.el,n.firstChild),n.classList.add("inboxsdk__thread_row_custom_date_container")),this._fixDateColumnWidth()):t&&(t.remove(),this._modifications.replacedDate.claimed.splice(this._modifications.replacedDate.claimed.indexOf(t),1),t=null)})}getEventStream(){return this._stopper}getStopper(){return this._stopper}getSubject(){return this._getSubjectSelector().textContent}_getSubjectSelector(){return this._elements.length>1?(0,v.A)(this._elements[1],"div.xS div.xT div.y6 > span[id]"):(0,v.A)(this._elements[0],"td.a4W div.xS div.xT div.y6 > span[id]")}replaceSubject(e){const t=this._getSubjectSelector();t&&(t.textContent=e)}getDateString(){return(0,v.A)(this._elements[0],"td.xW > span[title]:not(.inboxsdk__thread_row_custom_date), td.yf.apt > div.apm > span[title]:not(.inboxsdk__thread_row_custom_date)").title}_threadIdReady(){return!!this._getThreadID()}_getThreadID(){if(this._cachedThreadID)return this._cachedThreadID;const e=s()(this._elements.map(e=>Array.from(e.querySelectorAll("[data-thread-id][data-legacy-thread-id]")))).filter(Boolean)[0];if(e)return this._cachedSyncThreadID=e.getAttribute("data-thread-id").replace("#",""),this._cachedThreadID=e.getAttribute("data-legacy-thread-id").replace("#",""),this._cachedThreadID;{const e=this._driver.getThreadRowIdentifier().getThreadIdForThreadRow(this,this._elements);this._cachedSyncThreadID=e,e&&this._driver.getOldGmailThreadIdFromSyncThreadId(e).then(e=>{this._cachedThreadID=e})}return this._cachedThreadID}getThreadID(){const e=this._getThreadID();if(!e)throw new Error("Should not happen: thread id was null");return e}getSyncThreadID(){return Promise.resolve(this._cachedSyncThreadID)}async getThreadIDAsync(){return this.getThreadID()}getDraftID(){if(this._cachedSyncDraftIDPromise)return this._cachedSyncDraftIDPromise;const e=s()(this._elements.map(e=>Array.from(e.querySelectorAll("[data-standalone-draft-id]")))).filter(Boolean)[0];return this._cachedSyncDraftIDPromise=Promise.resolve(e?e.getAttribute("data-standalone-draft-id").replace("#msg-a:",""):null),this._cachedSyncDraftIDPromise}getVisibleDraftCount(){return this.#Ee().draftCount}getVisibleMessageCount(){return this.#Ee().messageCount}getContacts(){const e=this._elements[0].querySelectorAll("[email]"),t=Array.from(e).map(e=>({emailAddress:e.getAttribute("email"),name:e.getAttribute("name")}));return h()(t,e=>e.emailAddress)}isSelected(){return!!this._elements[0].querySelector("div[role=checkbox][aria-checked=true]")}_getLabelParent(){return this._elements.length>1?(0,v.A)(this._elements[2===this._elements.length?0:2],"div.apu"):(0,v.A)(this._elements[0],"td.a4W div.xS div.xT")}_getWatchElement(){return 1===this._elements.length?this._elements[0]:this._elements[0].children[2]}_getRefresher(){let e=this._refresher;return e||(e=this._refresher=(0,A.A)(this._getWatchElement(),{childList:!0}).map(()=>null).takeUntilBy(this._stopper).toProperty(()=>null)),e}_getSubjectRefresher(){let e=this._subjectRefresher;if(!e)if(this._isVertical)e=this._subjectRefresher=_.constant(null);else{const t=this._getWatchElement(),n=(0,v.A)(t,".y6");e=this._subjectRefresher=(0,A.A)(n,{childList:!0}).map(()=>null).takeUntilBy(this._stopper).toProperty(()=>null)}return e}_getImageContainerRefresher(){let e=this._imageRefresher;if(!e)if(this._isVertical){const t=3===this._elements.length?this._elements[2]:this._elements[0],n=(0,A.A)(t,{attributes:!0,attributeFilter:["class"]});e=this._imageRefresher=n.bufferBy(n.flatMapLatest(()=>(0,x.A)())).filter(()=>t.querySelectorAll(".inboxsdk__thread_row_icon_wrapper").length>0&&!t.classList.contains("inboxsdk__thread_row_image_added")).map(()=>null).takeUntilBy(this._stopper).toProperty(()=>null)}else e=this._imageRefresher=_.constant(null);return e}};function F(){setTimeout(()=>{const e=document.querySelectorAll("tr[data-inboxsdk-thread-row]");Array.prototype.forEach.call(e,e=>{const t=V.get(e);t&&U(t)})},15)}function U(e){for(let t=0;t<e.label.unclaimed.length;t++)e.label.unclaimed[t].remove();e.label.unclaimed.length=0;for(let t=0;t<e.button.unclaimed.length;t++)e.button.unclaimed[t].remove();e.button.unclaimed.length=0;for(let t=0;t<e.image.unclaimed.length;t++)e.image.unclaimed[t].remove();e.image.unclaimed.length=0;for(let t=0;t<e.replacedDate.unclaimed.length;t++)e.replacedDate.unclaimed[t].remove();e.replacedDate.unclaimed.length=0;for(let t=0;t<e.replacedDraftLabel.unclaimed.length;t++)e.replacedDraftLabel.unclaimed[t].remove();e.replacedDraftLabel.unclaimed.length=0}},9341:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(5193),i=n.n(r),o=n(7249),s=n(8631),a=n.n(s),l=n(2617),u=n(4603),c=n(5235);const d={default:{INACTIVE_CLASS:"T-I-ax7",HOVER_CLASS:"T-I-JW",ACTIVE_CLASS:"T-I-Kq"},flatIcon:{INACTIVE_CLASS:"J-Z-I",HOVER_CLASS:"J-Z-I-JW",ACTIVE_CLASS:"J-Z-I-KO"},pureIcon:{INACTIVE_CLASS:"inboxsdk__button_pureIcon_inactive",HOVER_CLASS:"inboxsdk__button_pureIcon_hover",ACTIVE_CLASS:"inboxsdk__button_pureIcon_active"},blue:{INACTIVE_CLASS:"T-I-atl",HOVER_CLASS:"T-I-JW",ACTIVE_CLASS:"T-I-JO"},red:{INACTIVE_CLASS:"T-I-KE",HOVER_CLASS:"T-I-JW",ACTIVE_CLASS:"T-I-JO"},green:{INACTIVE_CLASS:"inboxsdk__button_green_inactive",HOVER_CLASS:"inboxsdk__button_green_hover",ACTIVE_CLASS:"inboxsdk__button_green_active"},outline:{INACTIVE_CLASS:"ams",HOVER_CLASS:"ams",ACTIVE_CLASS:"ams"}};class h{_element=document.createElement("div");_innerElement=document.createElement("div");#ke;constructor(e){const{iconLiga:t,iconClass:n,iconUrl:r}=e;this._hasDropdown=!1,this._isEnabled=!1!==e.enabled,this._iconClass=n,this._iconUrl=r,this.#ke=t,this._title=e.text||e.title,this._tooltip=e.tooltip||e.title,this._hasDropdown=!!e.hasDropdown,this._buttonColor=e.buttonColor||"default",this._keyboardShortcutHandle=e.keyboardShortcutHandle,this._createElement(e),this._eventStream=a()(),this._setupEventStream(),this._setupAestheticEvents(),!1!==e.enabled&&this._setupKeyboardShortcutEvent()}destroy(){this._element.remove(),this._eventStream.end()}getElement(){return this._element}getEventStream(){return this._eventStream}activate(){this.addClass(d[this._buttonColor].ACTIVE_CLASS),this.addClass(d[this._buttonColor].HOVER_CLASS)}deactivate(){this.removeClass(d[this._buttonColor].ACTIVE_CLASS),this.removeClass(d[this._buttonColor].HOVER_CLASS)}addClass(e){this._element.classList.add(e)}removeClass(e){this._element.classList.remove(e)}simulateHover(){(0,u.zU)(this._element)}setEnabled(e){this._setEnabled(e)}isEnabled(){return this._isEnabled}update(e){e?("none"===this._element.style.display&&(this._element.style.display=""),e.buttonColor!=this._buttonColor&&this._buttonColor&&this._updateButtonColor(e.buttonColor),e.title!=this._title&&this._updateTitle(e.title),e.tooltip!=this._tooltip&&this._updateTooltip(e.tooltip),e.iconUrl!=this._iconUrl&&this._updateIconUrl(e.iconUrl),e.iconClass!=this._iconClass&&this._updateIconClass(e.iconClass),!1!==e.enabled&&!0!==e.enabled||this._setEnabled(e.enabled)):this._element.style.display="none"}_createElement(e){this._setupMainElement(e),this._setupInnerElement(e),this._createTextElement(),this._createIconElement()}_setupMainElement(e){this._element.setAttribute("class","T-I J-J5-Ji ar7 inboxsdk__button "+d[this._buttonColor].INACTIVE_CLASS),e.tooltip&&this._element.setAttribute("aria-label",e.tooltip),this._element.setAttribute("role","button"),this._element.setAttribute("tabindex","0"),e.hasButtonToRight&&this._element.classList.add("T-I-Js-IF"),e.hasButtonToLeft&&this._element.classList.add("T-I-Js-Gs"),(e.tooltip||e.title)&&this._element.setAttribute("data-tooltip",String(e.tooltip||e.title)),!1===e.enabled&&this._element.classList.add("inboxsdk__button_disabled")}_setupInnerElement(e){this._innerElement.classList.add("asa"),this._hasDropdown&&!e.noArrow&&(this._innerElement.innerHTML='<div class="G-asx T-I-J3 - J-J5-Ji">&nbsp;</div>'),this._element.appendChild(this._innerElement)}_createTextElement(){if(this._title)if(this._textElement=document.createElement("span"),this._textElement.setAttribute("class","inboxsdk__button_text"),this._textElement.textContent=this._title,this._iconElement){const e=this._iconElement.parentElement;if(!e)throw new Error("Could not find parent");e.insertBefore(this._textElement,this._iconElement.nextSibling)}else this._innerElement.insertBefore(this._textElement,this._innerElement.firstElementChild)}_createIconElement(){if(!this._iconClass&&!this._iconUrl)return;const e=this._iconElement=document.createElement("div");e.classList.add("inboxsdk__button_icon"),this._iconClass&&(null!=this.#ke?e.innerText=this.#ke:e.innerHTML="&nbsp;",e.setAttribute("class","inboxsdk__button_icon "+this._iconClass)),this._iconUrl&&this._createIconImgElement(),this._innerElement.insertBefore(e,this._innerElement.firstElementChild)}_createIconImgElement(){this._iconElement||this._createIconElement();const e=this._iconElement;if(!e)throw new Error("Should not happen");""!==e.innerHTML&&(e.innerHTML="");const t=this._iconImgElement=document.createElement("img");t.classList.add("inboxsdk__button_iconImg"),this._iconUrl?t.src=this._iconUrl:l.A.error(new Error("_createIconImgElement should not be called with null _iconUrl")),e.appendChild(t)}_updateButtonColor(e){this._element.classList.remove(d[this._buttonColor].INACTIVE_CLASS),this._buttonColor=e,this._element.classList.add(d[this._buttonColor].INACTIVE_CLASS)}_updateTitle(e){!this._title&&e?(this._title=e,this._createTextElement()):this._title&&!e&&this._textElement?(this._textElement.remove(),this._textElement=void 0,this._title=e):this._textElement&&(this._textElement.textContent=e,this._title=e)}_updateTooltip(e){this._tooltip=e,e?this._element.setAttribute("data-tooltip",e):this._element.removeAttribute("data-tooltip")}_updateIconUrl(e){this._iconUrl=e,this._iconImgElement&&!e?(this._iconImgElement.remove(),this._iconImgElement=void 0):!this._iconImgElement&&e&&this._createIconImgElement(),this._iconImgElement&&e&&(this._iconImgElement.src=e)}_updateIconClass(e){!this._iconElement||e||this._iconUrl?!this._iconElement&&e&&this._createIconElement():(this._iconElement.remove(),this._iconElement=void 0),this._iconClass=e,this._iconElement&&this._iconElement.setAttribute("class","inboxsdk__button_icon "+(e||""))}_setEnabled(e){this._isEnabled!==e&&(this._isEnabled=e,this._isEnabled?this._element.classList.remove("inboxsdk__button_disabled"):this._element.classList.add("inboxsdk__button_disabled"),this._eventStream.emit({eventName:"enabledChanged",isEnabled:this._isEnabled}),this._isEnabled&&this._setupKeyboardShortcutEvent())}_setupEventStream(){const e=o.fromEvents(this._element,"click");e.onValue(function(e){e.stopPropagation(),e.preventDefault()}),this._eventStream.plug(e.filter(()=>this.isEnabled()).map(function(e){return{eventName:"click",domEvent:e}}));const t=o.fromEvents(this._element,"keydown").filter(()=>this.isEnabled()).filter(e=>i()([32,13],e.which));this._eventStream.plug(t.map(function(e){return{eventName:"click",domEvent:e}})),t.onValue(function(e){e.stopPropagation(),e.preventDefault()})}_setupKeyboardShortcutEvent(){const e=this._keyboardShortcutHandle;e&&this._eventStream.plug((0,c.A)(e.chord).takeUntilBy(this._eventStream.filter(function(e){return"enabledChanged"===e.eventName&&!1===e.isEnabled})).map(function(e){return{eventName:"click",domEvent:e}}))}_setupAestheticEvents(){o.fromEvents(this._element,"mouseenter").filter(()=>this.isEnabled()).onValue(()=>{this._element.classList.add(d[this._buttonColor].HOVER_CLASS),this._element.classList.add("inboxsdk__button_hover")}),o.fromEvents(this._element,"mouseleave").onValue(()=>{this._element.classList.remove(d[this._buttonColor].HOVER_CLASS),this._element.classList.remove("inboxsdk__button_hover"),this._element.classList.add(d[this._buttonColor].INACTIVE_CLASS)}),o.fromEvents(this._element,"focus").onValue(()=>{this._buttonColor.match(/outline/)||this._element.classList.add("T-I-JO")}),this._hasDropdown||this._buttonColor.match(/outline/)||o.fromEvents(this._element,"mouseup").onValue(()=>{this._element.classList.remove("T-I-JO")}),o.fromEvents(this._element,"blur").onValue(()=>{this._element.classList.remove("T-I-JO")})}}},3612:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(8416);class i{constructor(){this._containerElement=document.createElement("div"),this._containerElement.setAttribute("class","inboxsdk__menu"),this._contentElement=document.createElement("div"),this._contentElement.setAttribute("class","inboxsdk__menuContent"),this._containerElement.appendChild(this._contentElement),(0,r.A)(this._containerElement)}destroy(){this._containerElement.remove()}getContainerElement(){return this._containerElement}getContentElement(){return this._contentElement}}},4806:(e,t,n)=>{"use strict";n.d(t,{A:()=>_});var r=n(3281),i=n.n(r),o=n(3131),s=n.n(o),a=n(4622),l=n.n(a),u=n(8631),c=n.n(u),d=n(4924),h=n.n(d),p=n(9860),f=n(9341),m=n(9755);class _{_eventStream=c()();_stopper=h()();constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupElement(e)}destroy(){this._eventStream.end(),this._stopper.destroy(),this._element.remove()}getElement(){return this._element}getStopper(){return this._stopper}getEventStream(){return this._eventStream}anchor(e,t){if(e&&this._element){var n,r=e.getBoundingClientRect(),i=this._element.getBoundingClientRect();if(t&&t.position)switch(t.position){case"top":n={type:"top",value:this._getTopPositionBoundingBox(r,i)};break;case"bottom":n={type:"bottom",value:this._getBottomPositionBoundingBox(r,i)}}n||(n=this._getAutomaticPlacementBoundingBox(r,i));var o=this._containBoundingBox(n.value,t&&t.offset);this._setPositionAtBoundingBox(o),this._setArrowPosition(n.type,o,r)}}getContainerElement(){return this._element}getContentElement(){return(0,p.A)(this._element,".aRM")}close(){this.destroy()}_setupElement(e){if(this._element=document.createElement("div"),this._element.setAttribute("class","inboxsdk__tooltip"),e.el){const t='<div class="T-P aRL">\n\t\t\t\t\t\t<div class="T-P-Jz-UR">\n\t\t\t\t\t\t\t<div class="aRM" tabindex="0">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="T-P-hFsbo-UR T-P-hFsbo T-P-atB inboxsdk__tooltip_arrow">\n\t\t\t\t\t\t\t<div class="T-P-atD"></div>\n\t\t\t\t\t\t\t<div class="T-P-atC"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>';this._element.innerHTML=t,this._element.classList.add("inboxdk__tooltip_content"),(0,p.A)(this._element,".aRM").appendChild(e.el)}else{const t=['<div class="T-P aRL">','<div class="T-P-Jz-UR">','<div class="aRM" tabindex="0">','<div class="aVn inboxsdk__tooltip_image">',"</div>",'<div class="aRR">',s()(e.title||""),"</div>",'<div class="aRQ">',s()(e.subtitle||""),"</div>",'<div class="inboxsdk__tooltip_button">',"</div>","</div>","</div>",'<div class="T-P-aut-UR T-P-aut inboxsdk__tooltip_close" aria-label="Close" role="button"></div>','<div class="T-P-hFsbo-UR T-P-hFsbo T-P-atB inboxsdk__tooltip_arrow">','<div class="T-P-atD"></div>','<div class="T-P-atC"></div>',"</div>","</div>"].join("");this._element.innerHTML=t;const n=this._element.querySelector(".inboxsdk__tooltip_close");if(n&&n.addEventListener("click",()=>{this.destroy()}),e.imageUrl){const t=document.createElement("img");t.src=e.imageUrl,(0,p.A)(this._element,".inboxsdk__tooltip_image").appendChild(t),t.addEventListener("load",()=>{l()(()=>{this._eventStream.emit({eventName:"imageLoaded"})})})}if(e.button){const t=Object.assign({},e.button);t.buttonColor="blue";const n=t.onClick;t.onClick=()=>{this.destroy(),n&&n()},t.buttonView=new f.A(t),new m.A(t),(0,p.A)(this._element,".inboxsdk__tooltip_button").appendChild(t.buttonView.getElement())}}}_getAutomaticPlacementBoundingBox(e,t){var n=[{type:"top",value:this._getTopPositionBoundingBox(e,t)},{type:"left",value:this._getLeftPositionBoundingBox(e,t)},{type:"right",value:this._getRightPositionBoundingBox(e,t)},{type:"bottom",value:this._getBottomPositionBoundingBox(e,t)}];return this._figureOutBestBoundingBox(n)}_getTopPositionBoundingBox(e,t){var n=e.top-t.height-9,r=e.left+e.width/2-t.width/2;return[{x:r,y:n},{x:r+t.width,y:n+t.height}]}_getRightPositionBoundingBox(e,t){var n=e.right+9,r=e.top+e.height/2-t.height/2;return[{x:n,y:r},{x:n+t.width,y:r+t.height}]}_getBottomPositionBoundingBox(e,t){var n=e.bottom+9,r=e.left+e.width/2-t.width/2;return[{x:r,y:n},{x:r+t.width,y:n+t.height}]}_getLeftPositionBoundingBox(e,t){var n=e.left-9-t.width,r=e.top+e.height/2-t.height/2;return[{x:n,y:r},{x:n+t.width,y:r+t.height}]}_figureOutBestBoundingBox(e){for(var t=0;t<e.length;t++)e[t].smallestDistance=this._getSmallestDistance(e[t]);return i()(e,function(e){return e.smallestDistance}).reverse()[0]}_getSmallestDistance(e){var t=[e.value[0].y,e.value[0].x,document.body.clientWidth-e.value[1].x,document.body.clientHeight-e.value[1].y];return i()(t,function(e){return e})[0]}_containBoundingBox(e,t){var n=e[1].y-e[0].y,r=e[1].x-e[0].x;return e[0].y<-1?(e[0].y=0,e[1].y=e[0].y+n):e[1].y>document.body.clientHeight&&(e[0].y=document.body.clientHeight-n,e[1].y=e[0].y+n),e[0].x<-1?(e[0].x=0,e[1].x=e[0].x+r):e[1].x>document.body.clientWidth&&(e[0].x=document.body.clientWidth-r-20,e[1].x=e[0].x+r),t&&(t.left&&(e[0].x+=t.left,e[1].x+=t.left),t.top&&(e[0].y+=t.top,e[1].y+=t.top)),e}_setPositionAtBoundingBox(e){this._element.style.left=e[0].x+"px",this._element.style.top=e[0].y+"px"}_setArrowPosition(e,t,n){var r={};switch(e){case"top":r.top=t[1].y,r.left=n.left+n.width/2;break;case"left":r.top=(t[0].y+t[1].y)/2-9,r.left=t[1].x;break;case"right":r.top=(t[0].y+t[1].y)/2-9,r.left=t[0].x-9+1;break;case"bottom":r.top=t[0].y-9+1,r.left=(t[0].x+t[1].x)/2}const i=(0,p.A)(this._element,".inboxsdk__tooltip_arrow");i.style.left=r.left+"px",i.style.top=r.top+"px"}}},8105:(e,t,n)=>{"use strict";function r(){const e=document.location.pathname.match(/\/b\/(.+?)\/u\/(\d+)/);if(e){const t=e[1];return`/u/${e[2]}/d/${t}`}{const e=document.location.pathname.match(/(\/u\/\d+)\//i);return e?e[1]:"/u/0"}}n.d(t,{A:()=>r})},1158:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7332),i=n(2903);e=n.hmd(e);const o=(0,r.defn)(e,async function(e,t){const n=(await(0,i.A)(e,{syncMessageID:t})).match(/<a\b[^<>]+\bhref="\/mail[^"]*(?:\?|&(?:amp;)?)view=att&(?:amp;)?th=([a-f0-9]+)&/i);if(!n)throw new Error("Failed to find gmail message id for inbox message id");return n[1]})},5187:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7332),i=n(6743);e=n.hmd(e);const o=(0,r.defn)(e,async function(e,t){const{threads:n}=await(0,i.A)(e,"rfc822msgid:"+t);return n[0].oldGmailThreadID})},2903:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7332),i=n(5609);e=n.hmd(e);const o=(0,r.defn)(e,async function(e,t){const n={ik:e.getPageCommunicator().getIkValue(),view:"om"};let r;if(t.oldGmailMessageID?n.th=t.oldGmailMessageID:t.syncMessageID&&(n.permmsgid=t.syncMessageID),document.location.pathname.match(/\/b\/(.+?)\/u\/(\d+)/))r=document.location.origin+document.location.pathname;else{const e=document.location.pathname.match(/(\/u\/\d+)\//i);r=`https://mail.google.com/mail${e?e[1]:"/u/0"}`}const{text:o}=await(0,i.A)({url:r,method:"GET",canRetry:!0,data:n});return o})},6743:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(7332),i=n(6811),o=n(5609),s=n(8105);e=n.hmd(e);const a=(0,r.defn)(e,async function(e,t){let n=null;try{const{text:r}=await(0,o.A)({method:"POST",url:`https://mail.google.com/sync${(0,s.A)()}/i/bv`,headers:{"Content-Type":"application/json","X-Framework-Xsrf-Token":await e.getPageCommunicator().getXsrfToken(),"X-Gmail-BTAI":await e.getPageCommunicator().getBtaiHeader(),"X-Google-BTD":"1"},data:JSON.stringify({1:{2:1,4:t}})});n=r}catch(r){const{text:i}=await(0,o.A)({method:"POST",url:`https://mail.google.com/sync${(0,s.A)()}/i/bv?rt=r&pt=ji`,headers:{"Content-Type":"application/json","X-Framework-Xsrf-Token":await e.getPageCommunicator().getXsrfToken(),"X-Gmail-BTAI":await e.getPageCommunicator().getBtaiHeader(),"X-Google-BTD":"1"},data:JSON.stringify([[null,51,null,t]])});n=i}return{threads:(0,i.Uf)(n),_text:n}})},5609:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(7332),i=n(7249);function o(e,t,n){let r=[];const i=[];let o=!1;function s(){i.shift()(),i.length?a():o=!1}function a(){o=!0;const e=function(){const e=Date.now()-t;return r=r.filter(t=>t>e),r.length>=n?r[0]-e:-1}();e>0?setTimeout(s,e):s()}return function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];let l;const u=new Promise((t,i)=>{l=()=>{r.push(Date.now());try{t(e.apply(this,n))}catch(e){i(e)}}});if(!l)throw new Error("Should not happen");return i.push(l),o||a(),u}}var s=n(8587);e=n.hmd(e);const a=o(o(s.A,1e3,7),1e4,50),l=(0,r.defn)(e,async function(e){if(!/^https:\/\/mail\.google\.com(?:$|\/)/.test(e.url))throw new Error("Should not happen: gmailAjax called with non-gmail url");if("https://mail.google.com"===document.location.origin)return await a(e);try{return await a({...e,canRetry:!1})}catch(t){if(t&&0===t.status){try{await i.default.fromPromise(new Promise((e,t)=>{const n=new Image;n.addEventListener("load",()=>e(n)),n.addEventListener("error",t),n.src="https://mail.google.com/mail/u/0/"})).merge(i.default.later(6e4,void 0)).take(1).takeErrors(1).toPromise()}catch(e){}return await a(e)}if(t&&"number"==typeof t.status&&t.status>=500)return await a(e);throw t}})},2621:(e,t,n)=>{"use strict";function r(e,t,n){const r=document.createElement("div");return r.classList.add("inboxsdk__button_icon"),r.innerHTML="&nbsp;",t?e.appendChild(r):e.insertBefore(r,n||e.firstElementChild),r}function i(e,t,n,i,o,s,a,l){if(n&&s)throw new Error("append and insertBeforeEl should not be used together");if(a&&(i||o))throw new Error("iconHtml can not be used together with iconClass or iconUrl");a?(e.iconHtmlElement||(e.iconHtmlElement=r(t,n,s)),e.iconHtmlElement.innerHTML=a,e.iconImgElement&&(e.iconImgElement.remove(),e.iconImgElement=null),e.iconElement&&(e.iconElement.remove(),e.iconElement=null)):o?(e.iconImgElement?e.iconImgElement.firstElementChild.src=o:e.iconImgElement=function(e,t,n,i){const o=r(t,n,i);o.innerHTML="";const s=document.createElement("img");return s.classList.add("inboxsdk__button_iconImg"),s.src=e,o.appendChild(s),o}(o,t,n,s),e.iconImgElement.setAttribute("class",`inboxsdk__button_icon ${i||""}`),e.iconHtmlElement&&(e.iconHtmlElement.remove(),e.iconHtmlElement=null),e.iconElement&&(e.iconElement.remove(),e.iconElement=null)):i?(e.iconElement||(e.iconElement=r(t,n,s)),l&&(e.iconElement.innerText=l),e.iconElement.setAttribute("class","inboxsdk__button_icon "+i),e.iconHtmlElement&&(e.iconHtmlElement.remove(),e.iconHtmlElement=null),e.iconImgElement&&(e.iconImgElement.remove(),e.iconImgElement=null)):(e.iconElement&&(e.iconElement.remove(),e.iconElement=null),e.iconHtmlElement&&(e.iconHtmlElement.remove(),e.iconHtmlElement=null),e.iconImgElement&&(e.iconImgElement.remove(),e.iconImgElement=null))}n.d(t,{A:()=>i})},1136:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(4622),i=n.n(r),o=n(7249);function s(e){return o.stream(t=>{i()(()=>{t.emit(e),t.end()})})}},8416:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(7249);function i(e){r.default.merge([r.default.fromEvents(e,"keypress"),r.default.fromEvents(e,"keydown"),r.default.fromEvents(e,"keyup")]).onValue(e=>{e.stopPropagation();const t=new KeyboardEvent(e.type,{bubbles:!0});Object.defineProperties(t,{cancelable:{value:e.cancelable},bubbles:{value:e.bubbles},target:{value:e.target},detail:{value:e.detail},key:{value:e.key},code:{value:e.code},location:{value:e.location},ctrlKey:{value:e.ctrlKey},shiftKey:{value:e.shiftKey},altKey:{value:e.altKey},metaKey:{value:e.metaKey},repeat:{value:e.repeat},isComposing:{value:e.isComposing},charCode:{value:e.charCode},keyCode:{value:e.keyCode},which:{value:e.which}}),document.dispatchEvent(t)})}},5389:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(6046),i=n.n(r);const o=["data-group-order-hint","data-order-hint","data-insertion-order-hint"];function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=i().toArray(Array.prototype.slice.call(e.children),i().compose(i().filter(e=>{let i=!1;for(const r of n){const n=t.getAttribute(r),o=e.getAttribute(r);if(null==n||null==o)continue;let s;if(i=!0,s=isNaN(parseFloat(n))||isNaN(parseFloat(o))?o.localeCompare(n):parseFloat(o)-parseFloat(n),s>0)return!0;if(s<0)return!1}return!!r&&!i}),i().take(1)))[0];e.insertBefore(t,s)}},3166:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7332),i=n(7249);e=n.hmd(e);const o=r.defn(e,function(e,t,n){if(e.focus(),e instanceof HTMLTextAreaElement){var r=e.selectionStart;e.selectionStart<e.selectionEnd&&(e.value=e.value.substring(0,e.selectionStart)+e.value.substring(e.selectionEnd)),e.value=e.value.substring(0,r)+t+e.value.substring(r),e.selectionStart=r+t.length,e.selectionEnd=r+t.length}else{var o=null;if(e.getSelection?o=e:e.ownerDocument&&e.ownerDocument.getSelection&&(o=e.ownerDocument),o){var s=o.getSelection();if(s.getRangeAt&&s.rangeCount){var a,l=n||s.getRangeAt(0);if(l.deleteContents(),t instanceof DocumentFragment)a=t;else if(a=document.createDocumentFragment(),t instanceof HTMLElement)a.appendChild(t);else{var u,c=document.createElement("div");for(c.innerHTML=t;u=c.firstChild;)a.appendChild(u)}var d=a.firstElementChild;l.insertNode(a);var h=document.createEvent("MouseEvents");h.initMouseEvent("mousedown",!1,!0,window,1,0,0,0,0,!1,!1,!1,!1,0,null),h.preventDefault(),e.dispatchEvent(h),l.collapse(!1),s.removeAllRanges(),s.addRange(l);var p=i.default.merge([i.default.fromEvents(e,"mousedown"),i.default.fromEvents(e,"keypress")]);return i.default.fromEvents(e,"focus").takeUntilBy(p).onValue(function(){s.removeAllRanges(),s.addRange(l)}),d}}}})},5235:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7249),i=n(4400);const o="undefined"!=typeof document&&new(n.n(i)())(document.body,!0);function s(e){return r.stream(t=>o&&o.bind(e,function(e){return t.emit(e),!1},"keydown"))}},2843:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(4622),i=n.n(r),o=n(7249),s=n(4924),a=n.n(s);function l(e){if(!e||!e.nodeType)throw new Error("Expected element, got "+String(e));return o.stream(t=>{const n=new Map;let r=!1;function o(e){if(1!==e.nodeType)return;n.has(e)&&u(new Error("Already had removalStream for element with class "+e.className));const r=a()();n.set(e,r);try{t.emit({el:e,removalStream:r})}catch(e){u(e)}}function s(e){if(1!==e.nodeType)return;const t=n.get(e);if(n.delete(e),t)try{t.destroy()}catch(e){u(e)}else u(new Error("Could not find removalStream for element with class "+e.className))}const l=new MutationObserver(function(e){e.forEach(e=>{Array.prototype.forEach.call(e.addedNodes,o),Array.prototype.forEach.call(e.removedNodes,s)})});return i()(()=>{r||(l.observe(e,{childList:!0}),Array.prototype.slice.call(e.children).forEach(o))}),function(){r=!0,l.disconnect(),i()(()=>{n.forEach(e=>{e.destroy()})})}})}function u(e){setTimeout(()=>{throw e},1)}},3197:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(7249);function i(e,t){return r.stream(n=>{const r=new MutationObserver(e=>{n.emit(e instanceof Array?e:Array.from(e))});return r.observe(e,t),()=>{r.disconnect()}})}},5938:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(3197);function i(e,t){return(0,r.A)(e,t).flatten()}},8734:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(3985),i=n(7332);e=n.hmd(e);const o=(0,r.A)(document.body,"mouseup"),s=(0,i.defn)(e,function(e){return(0,r.A)(e,"mousedown").flatMapLatest(()=>o.take(1).filter(t=>e.contains(t.target)))})},9860:(e,t,n)=>{"use strict";n.d(t,{A:()=>i,a:()=>r});class r extends Error{name="SelectorError";constructor(e,t){super(`Failed to find element with selector: ${e}`,t)}}function i(e,t){const n=e.querySelector(t);if(!n)throw new r(t);return n}},4603:(e,t,n)=>{"use strict";function r(e,t){const n=document.createEvent("MouseEvents");n.initMouseEvent(t,!0,!0,window,0,e.offsetLeft,e.offsetTop,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}function i(e){r(e,"mouseover")}function o(e){r(e,"mousedown"),r(e,"mouseup"),r(e,"click"),r(e,"mouseleave"),r(e,"mouseout"),e.blur()}n.d(t,{jp:()=>o,zU:()=>i})},3324:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const r=/^([^<>()[\]\\,;:\s"]+|".+")@[^\s<>]+$/;function i(e){let t,n=null;const i=e.split("<"),o=i[0].replace(/\u202c/g,"").trim();if(i.length>1)t=o,n=i[1].split(">")[0].replace(/\u202c/g,"").trim();else{if(null==(s=o)||!r.test(s))throw Object.assign(new Error("Invalid email address"),{firstPartTrimmed:o});n=o}var s;return{name:t,emailAddress:n}}},652:(e,t,n)=>{"use strict";function r(){const e=document.createEvent("HTMLEvents");e.initEvent("resize",!0,!1),window.dispatchEvent(e)}n.d(t,{A:()=>r})},3985:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(7249);function i(e,t){return r.stream(n=>{function r(e){n.value(e)}return e.addEventListener(t,r,!0),()=>{e.removeEventListener(t,r,!0)}})}},6907:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(7249),i=n(7332),o=n(9860),s=n(3197);e=n.hmd(e);const a=""+Math.random(),l="https://ssl.gstatic.com/ui/v1/icons/common/x_8px.png",u=(0,i.defn)(e,function(e){try{e.getBodyElement()}catch(e){return}const t=e.getElement();var n;(n=t,r.later(0,void 0).merge((0,s.A)(n,{attributes:!0,attributeFilter:["class"]})).map(()=>!n.classList.contains("inboxsdk__ensure_link_active")).filter(Boolean).take(1)).takeUntilBy(e.getStopper()).onValue(()=>{t.classList.add("inboxsdk__ensure_link_active"),e.getStopper().onValue(()=>{t.classList.remove("inboxsdk__ensure_link_active")}),e.getEventStream().filter(e=>"bodyChanged"===e.eventName).toProperty(()=>null).debounce(100,{immediate:!0}).takeUntilBy(e.getStopper()).onValue(()=>{c(e)}),e.getEventStream().filter(e=>"presending"===e.eventName).onValue(()=>{d(e)})})}),c=(0,i.defn)(e,function(e){h(e.getBodyElement()).filter(p).forEach(m)},"doFixing"),d=(0,i.defn)(e,function(e){h(e.getBodyElement()).filter(f).forEach(e=>{const t=e.querySelector(`img[src="${l}"]`);t&&t.remove();const n=e.querySelector("a > span");n&&(n.style.textDecoration="none")})},"doPresendFixing");function h(e){const t=e.querySelectorAll("[hspace=inboxsdk__chip]");return[...Array.from(t).map(e=>e.parentElement),...Array.from(e.querySelectorAll("[hspace=inboxsdk__chip_main]"))]}function p(e){var t=e.getAttribute("data-sdk-linkchip-claimed");return a===t?!e._linkChipEnhancedByThisExtension:null==t}function f(e){return!!e._linkChipEnhancedByThisExtension}function m(e){const t=e.querySelector("a");t&&(t.addEventListener("mousedown",function(e){e.stopImmediatePropagation()},!0),t.addEventListener("click",function(e){e.stopImmediatePropagation()},!0));const n=document.createElement("img");n.src=l,n.setAttribute("style","opacity: 0.55; cursor: pointer; float: right; position: relative; top: -1px;"),n.addEventListener("mousedown",function(){e.remove()},!0),n.addEventListener("click",function(e){e.stopImmediatePropagation(),e.preventDefault()},!0),e.addEventListener("mouseenter",function(){e.appendChild(n),(0,o.A)(e,"a > span").style.textDecoration="underline"}),e.addEventListener("mouseleave",function(){n.remove(),(0,o.A)(e,"a > span").style.textDecoration="none"}),e.addEventListener("mousedown",function(e){e.preventDefault()}),e.contentEditable="false",e.setAttribute("data-sdk-linkchip-claimed",a),e._linkChipEnhancedByThisExtension=!0}},3247:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(2036),i=n.n(r),o=n(4622),s=n.n(o),a=n(2617);class l{_targets=[];_pendingHandlers=[];_handlers=[];registerHandler(e){return-1===this._pendingHandlers.indexOf(e)&&(this._pendingHandlers.push(e),s()(()=>{const e=this._pendingHandlers.slice();for(let t=e.length-1;t>=0;t--){const n=e[t];-1===this._handlers.indexOf(n)&&(this._handlers.push(n),this._informHandlerOfTargets(n))}this._pendingHandlers=[]})),()=>{i()(this._pendingHandlers,t=>t===e),i()(this._handlers,t=>t===e)}}addTarget(e){this._targets.push(e),e&&"object"==typeof e&&"function"==typeof e.on&&e.on("destroy",()=>{this.removeTarget(e)}),this._informHandlersOfTarget(e)}removeTarget(e){i()(this._targets,t=>t===e)}dumpHandlers(){this._pendingHandlers=[],this._handlers=[]}_informHandlerOfTargets(e){const t=this._targets.slice();for(let n=0;n<t.length;n++)u(e,t[n])}_informHandlersOfTarget(e){const t=this._handlers.slice();for(let n=0;n<t.length;n++)u(t[n],e)}}function u(e,t){try{e(t)}catch(e){a.A.error(e)}}},5183:(e,t,n)=>{"use strict";n.d(t,{A:()=>w,r:()=>y});var r={};n.r(r),n.d(r,{app_sidebar:()=>f.nc,app_sidebar_container:()=>f.zC,app_sidebar_content_area:()=>f.th,app_sidebar_content_panel:()=>f.E3,app_sidebar_content_panel_content:()=>f.i1,app_sidebar_content_panel_grip:()=>f.PD,app_sidebar_content_panel_title:()=>f.Pl,app_sidebar_content_panel_title_icon:()=>f.lt,app_sidebar_content_panel_title_icon_container:()=>f.x1,app_sidebar_content_panel_title_text:()=>f.bh,app_sidebar_content_panel_toggle:()=>f.V,app_sidebar_content_panel_toggle_button:()=>f.Y8,app_sidebar_content_panel_top_line:()=>f.T6,app_sidebar_in_use:()=>f.JR,app_sidebar_main:()=>f.dG,app_sidebar_waiting_platform:()=>f.$8,companion_container_app_sidebar_in_use:()=>f.OW,container_app_sidebar_no_icons:()=>f.qX,default:()=>_,dragged:()=>f.rz,expanded:()=>f.sz,hideTitleBar:()=>f.uj,showControls:()=>f.mz,sidebar_button_container:()=>f.Go,sidebar_iconArea:()=>f.Yf,thread_noticeBar:()=>f.vQ});var i=n(6186),o=n.n(i),s=n(2155),a=n.n(s),l=n(8626),u=n.n(l),c=n(8990),d=n.n(c),h=n(9827),p=n.n(h),f=n(7510),m={};m.styleTagTransform=p(),m.setAttributes=u(),m.insert=e=>{e.setAttribute("data-inboxsdk-version","2.2.11-1764118012397-e51ed7952926d731"),document.head.append(e)},m.domAPI=a(),m.insertStyleElement=d(),o()(f.Ay,m);const _=f.Ay&&f.Ay.locals?f.Ay.locals:void 0;var g=n(6049),b=n.n(g);const v=new Map;let A=null;function y(e){const t=v.get(e);if(null!=t)return t;if(null==A&&(A=document.documentElement.getAttribute("data-map-id"),null==A)){const e=new(b());e.update("PWVe"+Math.floor(Date.now()/36e5)+"PYiE0"),A=e.digest("hex").slice(0,16)+"",document.documentElement.setAttribute("data-map-id",A)}const n=new(b());n.update("4iYi29W"+e+":"+A+"jn2mPvTG");const r=n.digest("hex").slice(0,16).replace(/[0-9]/g,e=>String.fromCharCode("A".charCodeAt(0)+Number(e)));return v.set(e,r),r}function w(e){return r[e]}},3174:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7332),i=n(1812),o=n.n(i);e=n.hmd(e);const s=r.defn(e,function(e,t){e.focus();var n=function(e){var t=document.createElement("div"),n=e.iconUrl?o()`
<img style="height:16px; width:16px; vertical-align: bottom; border: none;" height="16px" width="16px" src="${e.iconUrl}">&nbsp;
`:"",r=o()`
<div contenteditable="false" class="inboxsdk__compose_linkChip"
style="width: 396px; height: 18px; max-height: 18px; padding: 5px; color: rgb(34, 34, 34); font-family: arial; font-style: normal; font-weight: bold; font-size: 13px; cursor: default; border: 1px solid rgb(221, 221, 221); line-height: 1; background-color: rgb(245, 245, 245);" hspace="inboxsdk__chip_main">
  <a href="${e.url}" target="_blank" style=" display:inline-block; max-width: 366px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; max-height: 1.2em; text-decoration: none; cursor: pointer; padding: 1px 0; border: none; ">
    ${{__html:n}}
    <span dir="ltr" style="color: rgb(17, 85, 204); text-decoration: none; vertical-align: bottom;">${e.text}</span>
  </a>
</div>
`;return t.innerHTML=r,t.children[0]}(t),r=document.createDocumentFragment();return r.appendChild(document.createTextNode("")),r.appendChild(n),r.appendChild(document.createTextNode("")),e.insertBodyHTMLAtCursor(r),e.isFullscreen()||e.isInlineReplyForm()||document.activeElement===e.getBodyElement()||(e.setMinimized(!0),e.setMinimized(!1)),e.focus(),n})},8579:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(6049),i=n.n(r);function o(e){return"f471fe7b7343b47a202437c3962cc335"===function(e){const t=new(i());return t.update("bdnanNrDjv"+e),t.digest("hex").slice(0,32)}(e)}},2617:(e,t,n)=>{"use strict";n.d(t,{A:()=>N});var r=n(6049),i=n.n(r),o=n(8587),s=n(8921);const a=n.n(s)()(()=>{try{const e=globalThis.chrome;if(e?.runtime?.getURL)return e.runtime.getURL("");if(e?.extension?.getURL)return e.extension.getURL("")}catch(e){console.error("Failed to read extension ID:",e)}return null});a();const l=a;function u(){const e="undefined"!=typeof document&&document.documentElement.getAttribute("data-inboxsdk-session-id");if("string"==typeof e)return e;{const e=Date.now()+"-"+Math.random();return"undefined"!=typeof document&&document.documentElement.setAttribute("data-inboxsdk-session-id",e),e}}var c=n(4782),d=n(5603),h=n.n(d);const p=u();const f=(!n.g.__inboxsdk_extensionSeenErrors&&n.g.WeakMap&&Object.defineProperty(n.g,"__inboxsdk_extensionSeenErrors",{value:new n.g.WeakMap}),{has(e){if(n.g.__inboxsdk_extensionSeenErrors)return n.g.__inboxsdk_extensionSeenErrors.has(e);try{return!!e.__inboxsdk_extensionHasSeenError}catch(e){return console.error(e),!1}},add(e){if(n.g.__inboxsdk_extensionSeenErrors&&n.g.__inboxsdk_extensionSeenErrors.set)n.g.__inboxsdk_extensionSeenErrors.set(e,!0);else if(n.g.__inboxsdk_extensionSeenErrors&&n.g.__inboxsdk_extensionSeenErrors.add)n.g.__inboxsdk_extensionSeenErrors.add(e);else try{Object.defineProperty(e,"__inboxsdk_extensionHasSeenError",{value:!0})}catch(e){console.error(e)}}});function m(e){h()(e)&&f.add(e)}const _=function(e){let t=[];return function(){const n=Date.now();if(t=t.filter(e=>e>n-6e4),t.length>=10)throw new Error("Function rate limit exceeded");t.push(n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e.apply(this,i)}}(function(e){try{(0,o.A)({url:"https://api.inboxsdk.com/api/v2/errors",method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify(e)}).catch(t=>{g(t,[e])})}catch(t){g(t,[e])}});function g(e,t){console.error("ERROR REPORTING ERROR",e),console.error("ORIGINAL ERROR",t)}var b=n(5938),v=n(9482),A=n(8579),y=n(2313).Buffer;const w=[];let C,x,E,k=!1;const S=u(),I=new Set,T="undefined"==typeof document||!document.documentElement.hasAttribute("data-inboxsdk-master-claimed")&&(document.documentElement.setAttribute("data-inboxsdk-master-claimed","true"),!0);function D(){const e="undefined"!=typeof document&&document.documentElement.getAttribute("data-inboxsdk-active-app-ids")||"[]";return JSON.parse(e)}const B=new class{_fallbackQueue=[];constructor(e){this._sid="inboxsdk__persistentqueue_"+e}_getSavedQueue(){let e=JSON.parse(localStorage.getItem(this._sid));return null==e&&(e=[]),e}_putSavedQueue(e){localStorage.setItem(this._sid,JSON.stringify(e))}_clearSavedQueue(){localStorage.removeItem(this._sid)}add(e){let t=!1;if("undefined"!=typeof localStorage)try{const n=this._getSavedQueue();n.push(e),this._putSavedQueue(n),t=!0}catch(e){}t||this._fallbackQueue.push(e)}remove(){let e;if("undefined"!=typeof localStorage)try{const t=this._getSavedQueue(),n=t.shift();this._putSavedQueue(t),e=n}catch(e){}return void 0===e&&(e=this._fallbackQueue.shift()),e}removeAll(){let e;if("undefined"!=typeof localStorage)try{const t=this._getSavedQueue();this._clearSavedQueue(),e=t}catch(e){}return void 0===e&&(e=[]),e=e.concat(this._fallbackQueue),this._fallbackQueue=[],e}peekAll(){let e;if("undefined"!=typeof localStorage)try{e=this._getSavedQueue()}catch(e){}return void 0===e&&(e=[]),e=e.concat(this._fallbackQueue),e}clear(){if("undefined"!=typeof localStorage)try{this._clearSavedQueue()}catch(e){}this._fallbackQueue.length=0}}("events"),M=Date.now();class N{#Se;#Ie;constructor(e,t,n,r){!function(e,t,n,r){if(w.push(Object.freeze({appId:e,version:t.appVersion||void 0})),document.documentElement.setAttribute("data-inboxsdk-active-app-ids",JSON.stringify(D().concat([{appId:e,version:t.appVersion||void 0}]))),!C&&(C=n,x=r,k=t.eventTracking,t.globalErrorLogging)){Error.stackTraceLimit<40&&(Error.stackTraceLimit=40),window.addEventListener("error",function(e){e.error&&N.error(e.error,"Uncaught exception")}),O(window,"setTimeout",function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return"function"==typeof n[0]&&(n[0]=R(n[0],"setTimeout callback")),e.apply(this,n)}}),O(window,"setInterval",function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return"function"==typeof n[0]&&(n[0]=R(n[0],"setInterval callback")),e.apply(this,n)}});const e=window.EventTarget&&window.EventTarget.prototype||window.Node.prototype;O(e,"addEventListener",function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if("function"==typeof n[1])try{let e=n[1].__inboxsdk_logged;e||(e=R(n[1],"event listener"),n[1].__inboxsdk_logged=e),n[1]=e}catch(e){console.error("Failed to error wrap function",e)}return e.apply(this,n)}}),O(e,"removeEventListener",function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return"function"==typeof n[1]&&n[1].__inboxsdk_logged&&(n[1]=n[1].__inboxsdk_logged),e.apply(this,n)}}),O(window,"MutationObserver",function(e){function t(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return"function"==typeof n[0]&&(n[0]=R(n[0],"MutationObserver callback")),e.bind&&e.bind.apply?new(e.bind.apply(e,[null].concat(n))):new e(n[0])}return e=e||window.WebKitMutationObserver,t.prototype=e.prototype,t})}}(e,t,n,r),this.#Se=e,this.#Ie=!(!k||"undefined"!=typeof document&&document.documentElement.hasAttribute("data-inboxsdk-app-logger-master-chosen")||(document.documentElement.setAttribute("data-inboxsdk-app-logger-master-chosen","true"),0)),this.#Ie&&"undefined"!=typeof document&&(document.addEventListener("inboxSDKinjectedError",e=>{if(!(e instanceof CustomEvent&&e?.detail))return void this.error(new Error("Invalid inboxSDKinjectedError event"),e);const t=e.detail;this.error(Object.assign(new Error(t.message),{stack:t.stack}),t.details)}),document.addEventListener("inboxSDKinjectedEventSdkPassive",e=>{const t=e.detail;this.eventSdkPassive(t.name,t.details,t.sensitive)}))}setUserEmailAddress(e){E=function(e){const t=new(i());return t.update("inboxsdk:"+e),t.digest("hex")}(e)}shouldTrackEverything(){return"ca05afe92819df590a4196c31814fdb24050e8f49d8a41613f3d6cfb5729c785"===E}static run(e,t){try{return e()}catch(e){throw N.error(e,t),e}}run(e,t){try{return e()}catch(e){throw this.error(e,t),e}}static error(e,t){V(e,t,void 0,!1)}error(e,t){V(e,t,this.#Se,!1)}errorApp(e,t){V(e,t,this.#Se,!0)}errorSite(e,t){this.#Ie&&this.error(e,t)}eventApp(e,t){P(this.#Se,"app",e,t)}eventSdkActive(e,t){k&&P(this.#Se,"sdkActive",e,t)}eventSdkPassive(e,t,n){n&&!(0,A.A)(this.#Se)||P(this.#Se,"sdkPassive",e,t)}eventSite(e,t){this.#Ie&&P(this.#Se,"gmail",e,t)}deprecationWarning(e,t){console.warn(`InboxSDK: ${e} is deprecated.`+(t?` Please use ${t} instead.`:""));const n=e+(t?":"+t:"");I.has(n)||(this.eventSdkPassive(`deprecated.${e}`),I.add(n))}getAppLogger(){return{error:(e,t)=>this.errorApp(e,t),event:(e,t)=>this.eventApp(e,t)}}trackFunctionPerformance(e,t,n){if(Math.random()<t&&"visible"===document.visibilityState&&this.#Ie){const t=Date.now();e(),setTimeout(()=>{const e=Date.now();this.eventSdkPassive("function performance result",{value:e-t,timeSinceFirstLoad:e-M,...n})},10)}else e()}}function L(e){const t=arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?D():w;if(e){const n=t.slice();let r=!1;return n.forEach((t,i)=>{r||t.appId!==e||(r=!0,n[i]={...t,causedBy:!0}),Object.freeze(n[i])}),Object.freeze(n)}return t}function V(e,t,n,r){!function(e,t,n){if("undefined"==typeof document)throw e;try{if(r=e,h()(r)&&f.has(r))return;m(e),e instanceof Error||(console.warn("First parameter to Logger.error was not an error object:",e),m(e=new Error("Logger.error called with non-error: "+e)));const{appIds:i,implVersion:o,userEmailHash:s}=n,a=n.loaderVersion||c.Q,u=!!n.sentByApp,d={};for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))try{const n=e[t];JSON.stringify(n),d[t]=n}catch(e){}Object.keys(d).length>0&&(t={errorProperties:d,details:t});const g=(""+new Error("Stack saver").stack).replace(/^([^\n]*\n){2}/,""),b=["Error logged:",e];t&&b.push("\n\nError details:",t),b.push(`\n\nExtension App Ids: ${JSON.stringify(i,null,2)}\nSent by App: ${u}\nSession Id: ${p}\nExtension Id: ${l()}\nInboxSDK Loader Version: ${a}\nInboxSDK Implementation Version: ${o}`),console.error(...b);const v={message:e&&e.message||e,stack:e&&e.stack,loggedFrom:g,details:t,appIds:i,sentByApp:u,sessionId:p,emailHash:s,extensionId:l(),loaderVersion:a,implementationVersion:o,origin:document.location.origin,timestamp:1e3*Date.now()};_(v),"true"===document.documentElement.getAttribute("inboxsdk-emit-error-event")&&document.documentElement.dispatchEvent(new CustomEvent("inboxSDKerror",{bubbles:!1,cancelable:!1,detail:{message:e&&e.message||e,stack:e&&e.stack,loggedFrom:g,details:t,sentByApp:u}}))}catch(r){g(r,[e,t,n])}var r}(e,t,{appId:n,sentByApp:r,appIds:L(n),loaderVersion:C,implVersion:x,userEmailHash:E})}function R(e,t){const n=t?"Uncaught error in "+t:"Uncaught error";return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return N.run(()=>e.apply(this,r),n)}}function O(e,t,n){const r=n(e[t]);r.__original=e[t],e[t]=r}function P(e,t,n,r){if(r&&"object"!=typeof r)throw new Error("properties must be object or null: "+r);const i={type:t,event:n,timestamp:1e3*Date.now(),origin:document.location.origin,sessionId:S,emailHash:E,loaderVersion:C,implementationVersion:x,properties:r};"gmail"!=t?Object.assign(i,{extensionId:l(),appIds:L(e)}):Object.assign(i,{appIds:L(null,!1)}),"undefined"!=typeof document&&(B.add(i),document.documentElement.setAttribute("data-inboxsdk-last-event",""+Date.now()))}let j=null;function F(e){return Date.now()+6e5>e}T&&"undefined"!=typeof document&&"undefined"!=typeof MutationObserver&&(0,b.A)(document.documentElement,{attributes:!0,attributeFilter:["data-inboxsdk-last-event"]}).map(()=>null).throttle(12e4).onValue(function(){const e=B.removeAll();0!==e.length&&async function(){const{oauthToken:t}=await async function(){const e=j;return e&&!F(e.expirationDate)?e:(j=await async function(){const{text:e}=await(0,o.A)({url:"https://api.inboxsdk.com/api/v2/events/oauth",XMLHttpRequest:(0,v.np)()}),t=JSON.parse(e);return F(t.expirationDate)&&(console.warn("Got an apparently already expired token. Assuming our clock is busted..."),t.expirationDate=Date.now()+18e5),t}(),j)}();await(0,o.A)({url:`https://pubsub.googleapis.com/v1/projects/mailfoogae/topics/events:publish?key=${encodeURIComponent("AIzaSyAwlvUR2x3OnCeas8hW8NDzVMswL5hZGg8")}`,method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},data:JSON.stringify({messages:[{data:y.from(JSON.stringify({data:e,timestamp:1e3*Date.now()})).toString("base64")}]})})}().catch(e=>{N.error(e,{type:"Failed to log events"})})})},2788:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(4785),i=n.n(r),o=n(2617);class s extends(i()){emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];try{return super.emit.apply(this,arguments)}catch(e){return o.A.error(e),!0}}}},1539:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(7249);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6e4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250;const i=new Error("waitFor timeout"),o=r.later(t,null).flatMap(()=>{const t=e();return t?r.constant(t):(setTimeout(()=>{throw i},0),r.constantError(i))}),s=Boolean;return r.later(0,null).merge(r.interval(n,null)).map(()=>e()).filter(s).merge(o).take(1).takeErrors(1)}},370:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(3507),i=n.n(r),o=n(7249);function s(e){return o.fromESObservable(i()(e).map(e=>{const t=e.removal,n=o.fromPromise(t);return{el:e.value,removalStream:n}}))}},5156:(e,t,n)=>{"use strict";n.d(t,{A:()=>i,D:()=>r});class r extends Error{name="WaitForError";constructor(){super("waitFor timeout")}}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12e4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250;const i=new r;return new Promise(function(r,o){let s=0;setTimeout(function a(){try{const l=e();l?r(l):s>=t?o(i):(s+=n,setTimeout(a,n))}catch(e){o(e)}},1)})}},130:(e,t,n)=>{"use strict";n.r(t);var r=n(7249);if(!globalThis.__InboxSDKImpLoader){var i=Date.now(),o=!!document.querySelector('[role=banner] div[aria-label] div div a[href^="https://myaccount.google."], [role=banner]+div div[aria-label] div div a[href^="https://myaccount.google."]'),s=new Promise(e=>{"complete"===document.readyState||"interactive"===document.readyState?e(null):e(r.default.merge([r.default.fromEvents(document,"DOMContentLoaded"),r.default.fromEvents(window,"load")]).take(1).map(()=>null).toPromise())});globalThis.__InboxSDKImpLoader={async load(e,t,r){if("0.1"!==e)throw new Error("Unsupported InboxSDK version");if("dropbox"===t)throw new Error("No longer supported");if("mail.google.com"===location.hostname&&location.pathname.endsWith("/popout"))throw new URIError("@inboxsdk/core doesn't currently support Gmail pop out windows. See\n              https://github.com/InboxSDK/InboxSDK/issues/1062#issuecomment-1821327292 for context on why we'd be open to supporting them.");var a=Date.now();await s;const{makePlatformImplementation:l}=await Promise.resolve().then(n.bind(n,932));return l(t,r,{piMainStarted:i,piLoadStarted:a,wasAccountSwitcherReadyAtStart:o})}}}},1140:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(7332),i=n(7249),o=n(4531),s=n(3247);e=n.hmd(e);const a=r.defonce(e,()=>new WeakMap);class l{constructor(e,t){const n={driver:e,membrane:t,handlerRegistry:new s.A,composeViewStream:e.getComposeViewDriverStream().map(e=>t.get(e))};a.set(this,n),e.getStopper().onValue(()=>{n.handlerRegistry.dumpHandlers()}),n.composeViewStream.onValue(t=>{e.getLogger().trackFunctionPerformance(()=>{n.handlerRegistry.addTarget(t)},.01,{type:"composeViewHandler",isInlineReplyForm:t.isInlineReplyForm()})})}registerComposeViewHandler(e){return(0,o.A)(a,this).handlerRegistry.registerHandler(e)}async openNewComposeView(){const e=(0,o.A)(a,this),t=await e.driver.openNewComposeViewDriver();return e.membrane.get(t)}async openDraftByMessageID(e){const t=(0,o.A)(a,this),n=t.composeViewStream.take(1).toPromise();return await t.driver.openDraftByMessageID(e),i.fromPromise(n).merge(i.later(15e3,null).flatMap(()=>i.constantError(new Error("draft did not open in time")))).take(1).takeErrors(1).toPromise()}getComposeView(){const{driver:e}=(0,o.A)(a,this);if(e.getLogger().deprecationWarning("Compose.getComposeView","Compose.openNewComposeView"),1!==e.getOpts().REQUESTED_API_VERSION)throw new Error("This method was discontinued after API version 1");return this.openNewComposeView()}}},1351:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(7332),i=n(4531),o=n(2788);class s extends o.A{constructor(e,t){super(),this.chord=e,this.description=t}remove(){this.emit("destroy")}}e=n.hmd(e);const a=r.defonce(e,()=>new WeakMap),l=class{constructor(e,t,n,r){const i={appId:e,appName:t,appIconUrl:n,driver:r};a.set(this,i)}createShortcutHandle(e){const t=(0,i.A)(a,this);let{chord:n,description:r}=e;if(!n)throw new Error("Keyboard.createShortcutHandle chord missing");null==r&&(console.error("Keyboard.createShortcutHandle chord missing"),r="");const o=new s(n,r);return t.driver.activateShortcut(o,t.appName,t.appIconUrl),o}}},932:(e,t,n)=>{"use strict";n.d(t,{makePlatformImplementation:()=>ji});var r=n(2788),i=n(4782);class o{_map=new WeakMap;constructor(e){this._mappers=new Map(e)}get(e){let t=this._map.get(e);if(!t){const n=this._mappers.get(e.constructor);if(!n)throw new Error(`Unknown class ${e.constructor.name}`);t=n(e),this._map.set(e,t)}return t}}class s extends r.A{#Te;#t;#De;destroyed=!1;constructor(e,t,n){super(),this.#t=t,this.#De=n,this.#Te=e,this.#Te.getStopper().onValue(()=>{this.destroyed=!0,this.emit("destroy")})}getAttachmentType(){return this.#Te.getAttachmentType()}addButton(e){this.#Te.addButton(e)}getTitle(){return this.#Te.getTitle()}getDownloadURL(){return this.#Te.getDownloadURL()}getMessageView(){const e=this.#Te.getMessageViewDriver();return e?this.#De.get(e):null}get _attachmentCardImplementation(){return this.#t.getLogger().deprecationWarning("AttachmentCardView._attachmentCardImplementation._element","AttachmentCardView.getElement"),{_element:this.getElement()}}getElement(){return this.#Te.getElement()}}var a=n(4455),l=n.n(a),u=n(7249),c=n(4924),d=n.n(c),h=n(1812),p=n.n(h),f=n(3985),m=n(9860),_=n(9341),g=n(9755),b=n(4603),v=n(5156);const A=class{_stopper=d()();_previewClicks=u.pool();constructor(e,t,n){this._driver=t,this._messageViewDriver=n,e.element?this._element=e.element:this._createNewElement(e)}destroy(){this._stopper.destroy()}getElement(){return this._element}getMessageViewDriver(){return this._messageViewDriver}getStopper(){return this._stopper}getPreviewClicks(){return this._previewClicks.takeUntilBy(this._stopper)}_isStandardAttachment(){return"FILE"===this.getAttachmentType()}getAttachmentType(){if(this._cachedType)return this._cachedType;const e=this._readAttachmentType();return"UNLOADED"!==e&&(this._cachedType=e),e}_readAttachmentType(){if(this._element.classList.contains("inboxsdk__attachmentCard"))return"CUSTOM";if(1===this._element.children.length&&0===this._element.children[0].children.length)return"UNLOADED";const e=this._getDownloadLink();return!e||e.match(/^https?:\/\/mail\.google\.com\//)?"FILE":e.match(/^https?:\/\/([^/]*\.)?google(usercontent)?\.com\//)?"DRIVE":"UNKNOWN"}addButton(e){var t=new _.A({iconUrl:e.iconUrl,tooltip:e.tooltip});new g.A({activateFunction:()=>{e.onClick&&e.onClick({getDownloadURL:()=>this.getDownloadURL()})},buttonView:t}),this._addButton(t)}getTitle(){const e=this._element.querySelector("span .aV3");return e?e.textContent:""}_getDownloadLink(){const e=this._element.firstElementChild;if(!e)throw new Error("Failed to find link");if("A"===e.tagName&&e.href){const t=e.href;return t?t.replace(/([?&])disp=inline(?=&|$)/,"$1disp=safe"):t}{const e=this._element.getAttribute("download_url");if(e){const t=/:(https:\/\/.+)/.exec(e);return t?t[1]:null}}}async getDownloadURL(){try{if(this._isStandardAttachment()){const e=await(0,v.A)(()=>this._getDownloadLink());if(!e)return null;const t=await this._driver.resolveUrlRedirects(e);if(!/^https:\/\/mail-attachment\.googleusercontent\.com\/attachment\//.test(t)){console.error("getDownloadURL returned unexpected url",t);const e=new Error("getDownloadURL returned unexpected url");if(this._driver.getLogger().error(e,{finalUrlCensored:t.replace(/\?[^/]+$/,"?[...]")}),/^https:\/\/mail\.google\.com\//.test(t))throw e}return t}{const e=this._element.querySelector("[data-inboxsdk-download-url]");return e?e.getAttribute("data-inboxsdk-download-url"):null}}catch(e){throw this._driver.getLogger().error(e),e}}_extractFileNameFromElement(){return(0,m.A)(this._element,".aQA > span").textContent}_createNewElement(e){this._element=document.createElement("span"),this._element.classList.add("aZo"),this._element.classList.add("inboxsdk__attachmentCard");var t=[p()`
			<a target="_blank" role="link" class="aQy e" href="">
				<div aria-hidden="true">
					<div class="aSG"></div>
					<div class="aVY aZn">
						<div class="aZm"></div>
					</div>
					<div class="aSH">`];if(t=(t=e.iconThumbnailUrl?t.concat([p()`
				<div class="aYv">
					<img class="aZG aYw" src="${e.iconThumbnailUrl}">
				</div>`]):t.concat([p()`
				<img class="aQG aYB inboxsdk__attachmentCard_previewThumbnailUrl"
					src="${e.previewThumbnailUrl}">`])).concat([p()`
			<div class="aYy">
				<div class="aYA">
					<img class="aSM" src="${e.fileIconImageUrl}">
				</div>
				<div class="aYz">
					<div class="a12">
						<div class="aQA">
							<span class="aV3 a6U"></span>
						</div>
						<div class="aYp">
							<span class="SaH2Ve"></span>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="aSI">
			<div class="aSJ"></div>
		</div>
	</div>
</a>
<div class="aQw"></div>`]),this._element.innerHTML=t.join(""),this._element.children[0].href=e.previewUrl,e.mimeType&&"image"===e.mimeType.split("/")[0]&&this._element.children[0].classList.add("aZI"),(0,m.A)(this._element,"span .aV3").textContent=e.title,(0,m.A)(this._element,"div.aYp > span").textContent=e.description||"",(0,m.A)(this._element,"div.aSJ").style.borderColor=e.foldColor,this._addHoverEvents(),e.buttons){const t=l()(e.buttons,function(e){return e.downloadUrl});t&&this._addDownloadButton(t),this._addMoreButtons(e.buttons)}if(this._previewClicks.plug(u.fromEvents(this._element,"click").map(e=>({preventDefault:()=>e.preventDefault()}))),e.previewThumbnailUrl&&e.failoverPreviewIconUrl){const t=(0,m.A)(this._element,".inboxsdk__attachmentCard_previewThumbnailUrl");t.onerror=n=>{var r=document.createElement("div");r.classList.add("aYv"),r.innerHTML='<img class="aZG aYw" src="'+e.failoverPreviewIconUrl+'">';const i=t.parentElement;if(!i)throw new Error("Could not find parent element");i.insertBefore(r,t.nextElementSibling),t.remove()}}}_addHoverEvents(){u.merge([u.fromEvents(this._element,"mouseenter"),(0,f.A)(this._element,"focus")]).onValue(()=>{this._element.classList.add("aZp")}),u.merge([u.fromEvents(this._element,"mouseleave"),(0,f.A)(this._element,"blur")]).onValue(()=>{this._element.classList.remove("aZp")});const e=(0,m.A)(this._element,"a");u.fromEvents(e,"focus").onValue(()=>{e.classList.add("a1U")}),u.fromEvents(e,"blur").onValue(()=>{e.classList.remove("a1U")})}_addDownloadButton(e){const t=new _.A({tooltip:"Download",iconClass:"aSK J-J5-Ji aYr"});t.getElement().setAttribute("data-inboxsdk-download-url",e.downloadUrl),new g.A({activateFunction:function(){let t=!1;if(e.onClick&&e.onClick({preventDefault:function(){t=!0}}),t)return;const n=document.createElement("a");n.href=e.downloadUrl,e.downloadFilename&&(n.download=e.downloadFilename),n.addEventListener("click",function(e){e.stopPropagation()},!0),e.openInNewTab&&n.setAttribute("target","_blank"),document.body.appendChild(n),(0,b.jp)(n),n.remove()},buttonView:t}),this._addButton(t)}_addMoreButtons(e){(e||[]).filter(function(e){return!e.downloadUrl}).forEach(e=>{this.addButton(e)})}_addButton(e){e.addClass("aQv"),this._getButtonContainerElement().appendChild(e.getElement())}_getPreviewImageUrl(){var e=this._getPreviewImage();return e?e.src:null}_getPreviewImage(){return this._element.querySelector("img.aQG")}_getButtonContainerElement(){return(0,m.A)(this._element,".aQw")}};var y=n(4622),w=n.n(y),C=n(4531),x=n(5164),E=n.n(x);const k=new WeakMap;class S extends r.A{destroyed=!1;constructor(e){super();const t={contentPanelViewImplementation:e};k.set(this,t),this.#Be()}remove(){(0,C.A)(k,this).contentPanelViewImplementation.remove()}close(){(0,C.A)(k,this).contentPanelViewImplementation.close()}open(){(0,C.A)(k,this).contentPanelViewImplementation.open()}isActive(){return(0,C.A)(k,this).contentPanelViewImplementation.isActive()}#Be(){const e=(0,C.A)(k,this).contentPanelViewImplementation.getEventStream();e.onValue(e=>{let{eventName:t}=e;this.emit(t)}),e.onEnd(()=>{this.destroyed=!0,this.emit("destroy")})}}class I extends r.A{#Me;#Se;#t;#De;destroyed=!1;constructor(e,t,n,r){super(),this.#Me=e,this.#Se=t,this.#t=n,this.#De=r,this.#Be()}addSidebarContentPanel(e){const t=E()(u.default,e).toProperty();this.#t.getLogger().eventSdkPassive("threadView.addSidebarContentPanel");const n=this.#Me.addSidebarContentPanel(t);return n?new S(n):null}addNoticeBar(){return this.#Me.addNoticeBar()}registerHiddenCustomMessageNoticeProvider(e){return this.#Me.registerHiddenCustomMessageNoticeProvider(e)}addCustomMessage(e){const t=E()(u.default,e).toProperty();return this.#t.getLogger().eventSdkPassive("threadView.addCustomMessage"),this.#Me.addCustomMessage(t)}getMessageViews(){const e=this.#Me,t=this.#De;return e.getMessageViewDrivers().filter(e=>e.isLoaded()).map(e=>t.get(e))}getMessageViewsAll(){const e=this.#Me,t=this.#De;return e.getMessageViewDrivers().map(e=>t.get(e))}getSubject(){return this.#Me.getSubject()}getThreadID(){return this.#t.getLogger().deprecationWarning("threadView.getThreadID","threadView.getThreadIDAsync"),this.#Me.getThreadID()}getThreadIDAsync(){return this.#Me.getThreadIDAsync()}addLabel(){return this.#Me.addLabel()}#Be(){this.#Me.getEventStream().onEnd(()=>{this.destroyed=!0,this.emit("destroy"),this.removeAllListeners()}),this.#Me.getEventStream().filter(function(e){return"internal"!==e.type&&"contactHover"===e.eventName}).onValue(e=>{const t=this.#De;this.emit(e.eventName,{contactType:e.contactType,messageView:t.get(e.messageViewDriver),contact:e.contact,threadView:this})})}addSubjectButton(e){return this.#Me.addSubjectButton(e)}addFooterButton(e){return this.#Me.addFooterButton(e)}}const T=I;var D=n(3247);const B=new WeakMap,M=Object.freeze({HIDDEN:"HIDDEN",COLLAPSED:"COLLAPSED",EXPANDED:"EXPANDED"}),N=Object.freeze({MORE:"MORE"});function L(e,t,n,r,i,o){t.map(function(e){return{viewDriver:e,view:o.get(e)}}).flatMap(e=>e.viewDriver.getReadyStream().map(()=>e).takeUntilBy(u.fromEvents(e.view,"destroy"))).onValue(function(e){r.addTarget(e.view)})}const V=class{MessageViewViewStates=M;MessageViewToolbarSectionNames=N;constructor(e,t,n){const r={appId:e,driver:t,threadViewHandlerRegistry:new D.A,messageViewHandlerRegistries:{all:new D.A,loaded:new D.A},attachmentCardViewHandlerRegistry:new D.A};B.set(this,r),t.getStopper().onValue(()=>{r.threadViewHandlerRegistry.dumpHandlers(),r.messageViewHandlerRegistries.all.dumpHandlers(),r.messageViewHandlerRegistries.loaded.dumpHandlers()}),t.getAttachmentCardViewDriverStream().filter(e=>"FILE"===e.getAttachmentType()).onValue(e=>{const t=n.get(e);r.attachmentCardViewHandlerRegistry.addTarget(t)}),L(0,t.getThreadViewDriverStream().filter(e=>!e.isLoadingStub()),0,r.threadViewHandlerRegistry,0,n),L(0,t.getMessageViewDriverStream(),0,r.messageViewHandlerRegistries.all,0,n),L(0,t.getMessageViewDriverStream().flatMap(e=>e.isLoaded()?u.constant(e):e.getEventStream().filter(e=>"messageLoad"===e.eventName).map(()=>e).take(1)),0,r.messageViewHandlerRegistries.loaded,0,n)}registerThreadViewHandler(e){return(0,C.A)(B,this).threadViewHandlerRegistry.registerHandler(e)}registerMessageViewHandler(e){return(0,C.A)(B,this).messageViewHandlerRegistries.loaded.registerHandler(e)}registerMessageViewHandlerAll(e){return(0,C.A)(B,this).messageViewHandlerRegistries.all.registerHandler(e)}registerFileAttachmentCardViewHandler(e){return(0,C.A)(B,this).attachmentCardViewHandlerRegistry.registerHandler(e)}};class R extends r.A{destroyed=!1;#t;#Ne;#De;#Le;constructor(e,t,n){super(),this.#t=n,this.#Ne=null,this.#De=t,this.#Le=e,this.#Ve(e.getEventStream())}addAttachmentCardView(e){const t=this.#Le.addAttachmentCard(e),n=this.#De.get(t);return t.getPreviewClicks().onValue(t=>{e.previewOnClick&&e.previewOnClick({attachmentCardView:n,preventDefault:()=>t.preventDefault()})}),n}addAttachmentCardViewNoPreview(e){return this.addAttachmentCardView(e)}addAttachmentsToolbarButton(e){this.#Le.addButtonToDownloadAllArea({tooltip:e.tooltip,iconUrl:e.iconUrl,onClick:()=>{const t=this.#Le.getAttachmentCardViewDrivers().map(e=>this.#De.get(e));e.onClick({attachmentCardViews:t})}})}addToolbarButton(e){if("function"!=typeof e.onClick||"string"!=typeof e.title||!Object.prototype.hasOwnProperty.call(N,e.section))throw new Error("Missing required properties on MessageViewToolbarButtonDescriptor object");this.#Le.addMoreMenuItem(e)}getElement(){return this.#Le.getElement()}getBodyElement(){return this.#Le.getContentsElement()}getMessageID(){return this.#t.getLogger().deprecationWarning("messageView.getMessageID","messageView.getMessageIDAsync"),this.#Le.getMessageID()}getMessageIDAsync(){return this.#Le.getMessageIDAsync()}getFileAttachmentCardViews(){return this.#Le.getAttachmentCardViewDrivers().filter(e=>"FILE"===e.getAttachmentType()).map(e=>this.#De.get(e))}getAttachmentCardViews(){if(this.#t.getLogger().deprecationWarning("MessageView.getAttachmentCardViews","MessageView.getFileAttachmentCardViews"),1!==this.#t.getOpts().REQUESTED_API_VERSION)throw new Error("This method was discontinued after API version 1");return this.getFileAttachmentCardViews()}isElementInQuotedArea(e){return this.#Le.isElementInQuotedArea(e)}isLoaded(){return this.#Le.isLoaded()}getLinksInBody(){if(!this.#Ne){const e=this.getBodyElement().querySelectorAll("a");this.#Ne=Array.from(e).map(e=>({text:e.textContent,html:e.innerHTML,href:e.href,element:e,isInQuotedArea:this.isElementInQuotedArea(e)}))}return this.#Ne}getSender(){return this.#Le.getSender()}getRecipients(){return this.#t.getLogger().deprecationWarning("MessageView.getRecipients","MessageView.getRecipientEmailAddresses() or MessageView.getRecipientsFull()"),this.getRecipientEmailAddresses().map(e=>({emailAddress:e,name:void 0}))}getRecipientEmailAddresses(){return this.#Le.getRecipientEmailAddresses()}getRecipientsFull(){return this.#Le.getRecipientsFull()}getThreadView(){return this.#De.get(this.#Le.getThreadViewDriver())}getDateString(){return this.#Le.getDateString()}addAttachmentIcon(e){return this.#Le.addAttachmentIcon(e)}getViewState(){return M[this.#Le.getViewState()]}hasOpenReply(){if(this.#t.getLogger().deprecationWarning("MessageView.hasOpenReply"),1!==this.#t.getOpts().REQUESTED_API_VERSION)throw new Error("This method was discontinued after API version 1");return this.#Le.hasOpenReply()}#Ve(e){e.onEnd(()=>{this.destroyed=!0,this.emit("destroy"),this.removeAllListeners()}),e.filter(e=>"internal"!==e.type&&"contactHover"===e.eventName).onValue(e=>{this.emit(e.eventName,{contactType:e.contactType,contact:e.contact,messageView:this,threadView:this.getThreadView()})}),this.isLoaded()?w()(()=>{this.emit("load",{messageView:this})}):e.filter(e=>"messageLoad"===e.eventName).onValue(()=>{this.emit("load",{messageView:this})}),e.filter(e=>"viewStateChange"===e.eventName).onValue(e=>{this.emit("viewStateChange",{oldViewState:M[e.oldValue],newViewState:M[e.newValue],messageView:this})})}}var O=n(3281),P=n.n(O),j=n(8921),F=n.n(j),U=n(8631),H=n.n(U);const z=class{constructor(e,t,n){this._driver=t,this._messageViewDriver=n,this._elsToCardViews=new WeakMap,e?this._element=e:this._setupElement()}destroy(){this.getAttachmentCardViews().forEach(e=>{e.destroy()})}getElement(){return this._element}getAttachmentCardViews(){const e=this._element.querySelectorAll(".aQH > span");return Array.from(e).map(e=>{let t=this._elsToCardViews.get(e);return t||(t=new A({element:e},this._driver,this._messageViewDriver),this._elsToCardViews.set(e,t)),t})}_setupElement(){this._element=document.createElement("div"),this._element.setAttribute("class","hq gt a10"),this._element.innerHTML=['<div class="hp"></div>','<div class="a3I">Attachments area</div>',"<div></div>",'<div class="aQH">','<div class="aZK"></div>',"</div>"].join("")}_createAreaToolbarIfNeeded(){const e=this._element.querySelector(".ho");if(e)return e;const t=document.createElement("div");return t.className="ho",t.innerHTML=`<span class="aVW"><span>${this.getAttachmentCardViews().length}</span> Attachments</span><div class="aZi J-J5-Ji"></div>`,this._element.insertBefore(t,this._element.lastElementChild),this._element.classList.remove("a10"),t}_updateToolbarCardCount(){const e=this.getAttachmentCardViews().length;if(e>1){const t=this._createAreaToolbarIfNeeded();(0,m.A)(t,".aVW > span").textContent=String(e)}}addGmailAttachmentCardView(e){const t=this._element.querySelector(".aXK, .aQH");t?(t.insertBefore(e.getElement(),t.lastElementChild),this._updateToolbarCardCount()):this._driver.getLogger().error(new Error("Could not find attachment zone"))}addButtonToDownloadAllArea(e){var t=new _.A({iconClass:"T-I-J3",iconUrl:e.iconUrl,tooltip:e.tooltip,hasButtonToLeft:!0});t.addClass("aZj"),t.getElement().children[0].className="asa",new g.A({activateFunction:()=>{e.onClick&&e.onClick()},buttonView:t});const n=this._createAreaToolbarIfNeeded();(0,m.A)(n,".aZi").appendChild(t.getElement())}};var q=n(2617),W=n(3324);const Y={};class G extends r.A{}const Q=G;var $=n(5938),K=n(3197),J=n(1443);function Z(e,t){let n=e.parentElement;for(;n;){if(t(n))return n;n=n.parentElement}return null}let X=!1;const ee=class{#R;#t;#M=H()();#e=d()();#Re;#Oe;#Pe;#je;#Fe;#Ue;#He;#ze=!1;#qe;#We=null;#Ye=null;#Ge=null;#Qe=null;constructor(e,t,n){let r;this.#R=e,this.#Re=t,this.#t=n,this.#Oe=[],this.#Pe=[],this.#Ue=null,this.#je=this.#M.filter(function(e){return"replyElement"===e.eventName}).map(e=>e.change),this.#$e(),this.#Ke(),this.#Je();const i=this.#R.querySelector("[data-message-id]");if(i){const e=i.getAttribute("data-message-id");if(!e)throw new Error("data-message-id attribute has no value");r=i.hasAttribute("data-legacy-message-id")&&!this.#t.isRecentSyncDraftId(e.replace("#",""))?u.constant(null):u.fromPromise((async()=>{for(let t=0;t<10;t++)try{const t=await this.#t.getGmailMessageIdForSyncMessageId(e.replace("#",""));return i.setAttribute("data-legacy-message-id",t),null}catch(e){await new Promise(e=>setTimeout(e,200*t))}throw new Error("gmail message id never became available")})())}else r=u.constant(null);this.#Fe=r.takeUntilBy(this.#e).onValue(()=>this.#Ze())}destroy(){this.#e.destroy(),this.#M.end(),this.#He&&this.#He.destroy(),this.#Pe.forEach(e=>{e.remove()})}getEventStream(){return this.#M}getReplyElementStream(){return this.#je}getElement(){return this.#R}getThreadViewDriver(){return this.#Re}isLoaded(){return this.#ze}getContentsElement(){if(!this.#ze)throw new Error("tried to get message contents before message is loaded");try{return(0,m.A)(this.#R,"div.ii.gt")}catch(e){return this.#t.getLogger().error(e),(0,m.A)(this.#R,".adP")}}isElementInQuotedArea(e){return null!=Z(e,e=>"BLOCKQUOTE"===e.nodeName)}getSender(){let e=this.#We;if(e)return e;const t=(0,m.A)(this.#R,"td.gF span[email]"),n=t.getAttribute("email");if(!n)throw new Error("Could not find email address");return e=this.#We={name:t.getAttribute("name"),emailAddress:n},e}getRecipients(){let e=this.#Ye;if(e)return e;const t=Array.from(this.#R.querySelectorAll(".hb span[email]"));return e=this.#Ye=t.map(e=>this.#Xe({name:e.getAttribute("name"),emailAddress:e.getAttribute("email")||""})),e}getRecipientEmailAddresses(){let e=this.#Ge;if(e)return e;const t=Array.from(this.#R.querySelectorAll(".hb span[email]"));return e=this.#Ge=t.map(e=>e.getAttribute("email")||""),e}async getRecipientsFull(){let e=this.#Qe;if(e)return e;const t=this.#Re.getInternalID();return e=this.#Qe=(await this.#t.getPageCommunicator().getMessageRecipients(t,this.#R))?.map(e=>({name:e.name??void 0,emailAddress:e.emailAddress})),e||(this.#t.getLogger().error(new Error("Failed to find message recipients from response"),{threadID:t}),e=this.#Qe=this.getRecipients()),e}getDateString(){return(0,m.A)(this.#R,".ads .gK .g3").title}async getDate(){const e=this.#Re.getInternalID();return await this.#t.getPageCommunicator().getMessageDate(e,this.#R)}getAttachmentCardViewDrivers(){return this.#He?this.#He.getAttachmentCardViews():[]}addButtonToDownloadAllArea(e){var t=this.#et();t&&t.addButtonToDownloadAllArea(e)}addMoreMenuItem(e){this.#Oe=P()(this.#Oe.concat([e]),e=>e.orderHint),this.#tt()}#Je(){this.#qe=null,this.#M.filter(e=>"viewStateChange"===e.eventName).toProperty(()=>null).flatMapLatest(()=>{const e=this.#nt();return e?(0,K.A)(e,{attributes:!0,attributeFilter:["aria-expanded"]}).map(()=>"true"===e.getAttribute("aria-expanded")?this.#rt():null):u.constant(null)}).takeUntilBy(this.#e).onValue(e=>{this.#qe=e,this.#tt()})}#nt(){return"EXPANDED"!==this.getViewState()?null:this.#R.querySelector("tr.acZ div.T-I.J-J5-Ji.aap.L3[role=button][aria-haspopup]")}#rt(){return document.body.querySelector("div.nH.a98.iY > div.nH .aHU .b7.J-M[aria-haspopup=true]")||document.body.querySelector("td > div.nH.a98.iY > div.nH .aHU .b7.J-M[aria-haspopup=true]")||document.body.querySelector("td > div.nH.if > div.nH.aHU div.b7.J-M[aria-haspopup=true]")}#it(){const e=this.#nt();e&&(0,b.jp)(e)}#tt(){this.#Pe.forEach(e=>{e.remove()}),this.#Pe.length=0;const e=this.#qe;if(e&&this.#Oe.length){const t=e.offsetHeight,n=e.offsetWidth,r=document.createElement("div");r.className="J-Kh",this.#Pe.push(r),e.appendChild(r),this.#Oe.forEach(t=>{const n=document.createElement("div");if(n.className="J-N",n.setAttribute("role","menuitem"),n.innerHTML=p()`<div class="J-N-Jz">${t.title}</div>`,n.addEventListener("mouseenter",()=>n.classList.add("J-N-JT")),n.addEventListener("mouseleave",()=>n.classList.remove("J-N-JT")),n.addEventListener("click",()=>{this.#it(),t.onClick()}),t.iconUrl||t.iconClass){const e=document.createElement("img");e.className=`f4 J-N-JX inboxsdk__message_more_icon ${t.iconClass||""}`,e.src=t.iconUrl||"images/cleardot.gif";const r=n.firstElementChild;r&&r.appendChild(e)}this.#Pe.push(n),e.appendChild(n)});const i=e.getBoundingClientRect(),o=i.width-n;o>0&&(e.style.left=Math.max(0,parseInt(e.style.left)-o)+"px");const s=this.#nt();if(s){const n=s.getBoundingClientRect();if(i.top<n.top){const n=i.height-t;e.style.top=Math.max(0,parseInt(e.style.top)-n)+"px"}}}}getMessageID(){if(!(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||this.#ze))throw new Error("tried to get message id before message is loaded");const e=this.#R.querySelector("[data-legacy-message-id]");if(e){const t=e.getAttribute("data-legacy-message-id");if(!t)throw new Error("message id attribute with no value, wtf?");return t}const t=this.#R.querySelector("div.ii.gt");if(!t){const e=new Error("Could not find message id element");throw this.#t.getLogger().error(e,{elementHtml:(0,J.A)(this.#R)}),e}const n=t.className.match(/\bm([0-9a-f]+)\b/);if(n)return X||(X=!0,this.#t.getLogger().eventSite("old messageid location")),n[1];{const e=t.firstElementChild;if(!e){const e=new Error("Could not find message id value");throw this.#t.getLogger().error(e,{reason:"Could not find element",messageHtml:(0,J.A)(t)}),e}const n=e.className.match(/\bm([0-9a-f]+)\b/);if(!n){const e=new Error("Could not find message id value");throw this.#t.getLogger().error(e,{reason:"Element was missing message className",messageHtml:(0,J.A)(t)}),e}return n[1]}}async getMessageIDAsync(){return this.getMessageID()}addAttachmentIcon(e){const t=new Q;if(!this.#R)return console.warn("addDateIcon called on destroyed message"),t;this.#R.setAttribute("inboxsdk__message_added_attachment_icon","true");const n=F()(()=>{const e=document.createElement("img");return e.src="images/cleardot.gif",e}),r=F()(()=>document.createElement("div")),i=F()(()=>document.createElement("div"));let o=!1,s=null;return this.#e.onValue(()=>{o&&(r().remove(),i().remove(),n().remove(),o=!1)}),E()(u,e).combine(this.#M.filter(e=>"viewStateChange"===e.eventName).toProperty(()=>null),e=>e).takeUntilBy(this.#e).onValue(e=>{if(e){let a;a="COLLAPSED"===this.getViewState()?(0,m.A)(this.#R,".adf.ads td.gH span"):(0,m.A)(this.#R,"td.gH div.gK span");const l=null!=e.iconHtml?r():n(),u=e.onClick;if(u?(l.onclick=function(e){e.preventDefault(),e.stopPropagation(),u()},l.style.cursor="pointer"):(l.onclick=null,l.style.cursor=""),e.tooltip&&"object"==typeof e.tooltip&&e.tooltip instanceof HTMLElement){const n=i();n.className="inboxsdk__message_attachment_tooltipWrapper",n.onclick=function(e){e.stopPropagation(),function(e){const t=new MouseEvent("click");Object.defineProperties(t,{target:{value:e.target},detail:{value:e.detail},screenX:{value:e.screenX},screenY:{value:e.screenY},clientX:{value:e.clientX},clientY:{value:e.clientY},button:{value:e.button},buttons:{value:e.buttons},ctrlKey:{value:e.ctrlKey},shiftKey:{value:e.shiftKey},altKey:{value:e.altKey},metaKey:{value:e.metaKey}}),document.dispatchEvent(t)}(e)},n.appendChild(e.tooltip),l.onmouseenter=function(e){e.preventDefault(),e.stopPropagation(),l.appendChild(n),t.emit("tooltipShown")},l.onmouseleave=function(e){e.preventDefault(),e.stopPropagation(),l.removeChild(n),t.emit("tooltipHidden")},l.removeAttribute("data-tooltip")}else e.tooltip&&"string"==typeof e.tooltip?l.setAttribute("data-tooltip",e.tooltip):l.removeAttribute("data-tooltip");l.className=null!=e.iconHtml?`inboxsdk__message_attachment_iconWrapper ${e.iconClass||""}`:"inboxsdk__message_attachment_icon "+(e.iconClass||""),null!=e.iconHtml?(a.contains(n())&&n().remove(),l.innerHTML=e.iconHtml):s!=e.iconUrl&&(a.contains(r())&&r().remove(),l.style.background=e.iconUrl?"url("+e.iconUrl+") no-repeat 0 0":"",s=e.iconUrl),a.contains(l)||(a.appendChild(l),o=!0)}else o&&(r().remove(),n().remove(),i().remove(),o=!1)}),t}getViewState(){return this.#R.classList.contains("kQ")||this.#R.classList.contains("kx")?"HIDDEN":this.#R.classList.contains("kv")?"COLLAPSED":"EXPANDED"}hasOpenReply(){return Boolean(this.#Ue)}addAttachmentCard(e){var t=new A(e,this.#t,this);return this.#He||(this.#He=this.#et()),this.#He||(this.#He=this.#ot()),this.#He.addGmailAttachmentCardView(t),t}#$e(){var e=this;this.#M.plug((0,$.A)(this.#R,{attributes:!0,attributeFilter:["class"],attributeOldValue:!0}).takeUntilBy(this.#e).map(e=>{const t=e.target.classList,n=e.oldValue;let r,i;return n.indexOf("kQ")>-1||n.indexOf("kx")>-1?r="HIDDEN":n.indexOf("kv")>-1||n.indexOf("ky")>-1?r="COLLAPSED":n.indexOf("h7")>-1&&(r="EXPANDED"),t.contains("kQ")||t.contains("kx")?i="HIDDEN":t.contains("kv")||t.contains("ky")?i="COLLAPSED":t.contains("h7")&&(i="EXPANDED"),{oldValue:r,newValue:i,currentClassList:t}}).map(t=>("EXPANDED"===t.newValue&&"EXPANDED"!==t.oldValue&&e.#st(t.currentClassList),t)).filter(e=>e.newValue!==e.oldValue&&!!e.oldValue&&!!e.newValue).map(e=>({eventName:"viewStateChange",oldValue:e.oldValue,newValue:e.newValue})))}#Ze(){this.#st(this.#R.classList)}#st(e){if(!e.contains("h7"))return;if(this.#ze)return;let t;try{t=this.getMessageID(!0)}catch(e){return void this.#t.getLogger().error(e)}this.#ze=!0;try{this.#t.associateThreadAndMessageIDs(this.#Re.getThreadID(),t)}catch(e){this.#t.getLogger().error(e)}this.#He=this.#et(),this.#M.emit({type:"internal",eventName:"messageLoad"}),this.#at()}#at(){const e=this.#R.querySelector(".ip");if(e){var t=this,n=null;u.combine([(0,K.A)(e,{attributes:!0,attributeFilter:["class"]}),u.later(1,null)]).merge(u.later(1,void 0)).takeUntilBy(this.#e).beforeEnd(()=>"END").onValue(r=>{if("END"!==r&&e.classList.contains("adB")){if(!n){const r=e.getElementsByClassName("M9")?.[0]||e.firstElementChild;t.#Ue=r,r&&(n=H()(),t.#M.emit({type:"internal",eventName:"replyElement",change:{el:r,removalStream:n}}))}}else if(n){var i=n;n=null,i.emit(null),i.end(),t.#Ue=null}})}}#Ke(){var e=this;this.#M.plug(u.fromEvents(this.#R,"mouseover").map(e=>e.target).filter(function(e){return e&&e.getAttribute("email")}).map(function(t){let n=null;return n=e.#R.classList.contains("h7")?e.#R.querySelector("h3.iw").contains(t)?"sender":"recipient":"sender",{get contact(){return e.#Xe({name:(n=t).getAttribute("name"),emailAddress:n.getAttribute("email")});var n},contactType:n,eventName:"contactHover",messageViewDriver:e}}))}#et(){return this.#R.querySelector(".hq")?new z(this.#R.querySelector(".hq"),this.#t,this):null}#ot(){const e=new z(null,this.#t,this),t=(0,m.A)(this.#R,".hi"),n=t.parentNode;if(!n)throw new Error("parentNode not found");return n.insertBefore(e.getElement(),t),e}#Xe(e){return function(e,t){let n=Y[e.emailAddress];if(n){if(n.headerContact.name===e.name)return n.modalContact;delete Y[e.emailAddress]}const r=t.querySelector(".ajA.SK"),i=r&&"hidden"===r.style.visibility,o=t.querySelector(".ajy[aria-haspopup=true]");if(o&&i){const r=e=>{e.stopPropagation()},i=e=>{e.shouldIgnore=!0};t.addEventListener("click",r),document.addEventListener("focus",i,!0),(0,b.jp)(o);try{!function(e){const t=document.querySelectorAll(".ajC [email]");for(let n=0;n<t.length;n++){const r=t[n],i=r.getAttribute("email");if(!i)continue;if(Y[i])continue;let o={emailAddress:i,name:void 0};const s=r.getAttribute("name");if(s)o.name=s;else{const e=(0,W.A)(r.textContent);i===e.emailAddress&&(o=e)}Y[i]={headerContact:e,modalContact:o}}}(e)}catch(e){q.A.error(e)}finally{(0,b.jp)(o),t.removeEventListener("click",r),document.removeEventListener("focus",i,!0)}if(n=Y[e.emailAddress],n)return n.modalContact}return e}(e,this.#R)}getReadyStream(){return this.#Fe}};var te=n(8498),ne=n(5183),re=n(3741);class ie extends r.A{#lt;#ut;#ct;#dt;#ht;destroyed=!1;#e=d()();#pt=!0;#ft;constructor(e,t){super(),this.#lt=document.createElement("div"),this.#lt.classList.add("inboxsdk__custom_message_view"),this.#lt.classList.add("inboxsdk__custom_message_view_collapsed"),this.#ut=document.createElement("div"),this.#ut.classList.add("inboxsdk__custom_message_view_icon"),this.#ct=document.createElement("div"),this.#ct.classList.add("inboxsdk__custom_message_view_content"),this.#dt=document.createElement("div"),this.#dt.classList.add("inboxsdk__custom_message_view_header"),this.#ht=document.createElement("div"),this.#ht.classList.add("inboxsdk__custom_message_view_body"),this.#lt.appendChild(this.#ut),this.#lt.appendChild(this.#ct),this.#lt.addEventListener("click",e=>{this.#pt&&(this.expand(),e.preventDefault(),e.stopPropagation())}),this.#dt.addEventListener("click",e=>{this.collapse(),e.preventDefault(),e.stopPropagation()}),e.takeUntilBy(this.#e).onValue(e=>{this.#lt.setAttribute("data-inboxsdk-sortdate",String(e.sortDate.getTime()));const t=this.#ft;if(this.#ft=e,!t||t.iconUrl!==e.iconUrl){const t=document.createElement("img");t.src=e.iconUrl,this.#ut.innerHTML="",this.#ut.appendChild(t)}t&&t.collapsedEl===e.collapsedEl||!this.#pt||(t&&t.collapsedEl.remove(),this.#ct.appendChild(e.collapsedEl)),t&&t.headerEl===e.headerEl||(t&&t.headerEl.remove(),this.#dt.appendChild(e.headerEl)),t&&t.bodyEl===e.bodyEl||(t&&t.bodyEl.remove(),this.#ht.appendChild(e.bodyEl))}).take(1).onValue(t)}destroy(){this.destroyed||(this.destroyed=!0,this.#e.destroy(),this.emit("destroy"),this.#lt.remove())}expand(){this.#pt=!1;const e=this.#ft;e&&e.collapsedEl.remove(),this.#ct.appendChild(this.#dt),this.#ct.appendChild(this.#ht),this.#lt.classList.remove("inboxsdk__custom_message_view_collapsed"),this.emit("expanded")}collapse(){this.#pt=!0,this.#dt.remove(),this.#ht.remove();const e=this.#ft;e&&this.#ct.appendChild(e.collapsedEl),this.#lt.classList.add("inboxsdk__custom_message_view_collapsed"),this.emit("collapsed")}getElement(){return this.#lt}getSortDate(){return this.#ft?this.#ft.sortDate:null}}var oe=n(4003),se=n(3131),ae=n.n(se),le=n(1539),ue=n(5389),ce=n(8130),de=n(3612),he=n(9374),pe=n(7981),fe=n.n(pe),me=n(1136),_e=n(6134),ge=n(2843),be=n(1602);const ve=/\bx7\b/,Ae=class{_threadRowViewDrivers=new Set;_elementsToViews=new Map;_selectedThreadRowViews=new Set;constructor(e,t,n){this._eventStreamBus=H()(),this._stopper=this._eventStreamBus.ignoreValues().beforeEnd(()=>null),this._gmailDriver=n,this._element=e,this._routeViewDriver=t,this._selectionMutationObserver=new MutationObserver(e=>{let t=!1;for(let n=0,r=e.length;n<r;n++){const r=e[n],i=r.target,o=ve.test(r.oldValue),s=ve.test(i.className);if(o!==s){const e=this._elementsToViews.get(i);e&&(t=!0,s?this._selectedThreadRowViews.add(e):this._selectedThreadRowViews.delete(e))}}t&&this._gmailDriver.signalThreadRowViewSelectionChange()}),this._pendingExpansions=new Map,this._pendingExpansionsSignal=H()(),this._pendingExpansionsSignal.bufferBy(this._pendingExpansionsSignal.flatMap(me.A)).filter(e=>e.length>0).takeUntilBy(this._stopper).onValue(this._expandColumnJob.bind(this)),this._setupToolbarView(),this._startWatchingForRowViews()}destroy(){this._selectionMutationObserver.disconnect(),this._threadRowViewDrivers.forEach(e=>e.destroy()),this._eventStreamBus.end(),this._toolbarView&&this._toolbarView.destroy(),this._selectedThreadRowViews.size&&(this._selectedThreadRowViews.clear(),this._gmailDriver.signalThreadRowViewSelectionChange())}getElement(){return this._element}getRouteViewDriver(){return this._routeViewDriver}getToolbarView(){return this._toolbarView}getSelectedThreadRowViewDrivers(){return this._selectedThreadRowViews}getThreadRowViewDrivers(){return this._threadRowViewDrivers}getRowViewDriverStream(){return this._rowViewDriverStream}getEventStream(){return this._eventStreamBus}_setupToolbarView(){var e=this._findToolbarElement();this._toolbarView=e?new we(e,this._gmailDriver,this._routeViewDriver,this):null}_findToolbarElement(){const e=this._element.querySelector("[gh=mtb]");if(e)return e;const t=l()(document.querySelectorAll("[gh=tm]"),e=>e.parentElement.parentElement===this._element.parentElement.parentElement.parentElement.parentElement.parentElement||e.parentElement.parentElement===this._element.parentElement);return t?t.querySelector("[gh=mtb]"):null}_fixColumnWidths(e){if(!e||!e.parentElement)return;const t=e.parentElement.firstElementChild;if(t!==e&&t){const n=t.querySelectorAll("table.cf > colgroup > col"),r=e.querySelectorAll("table.cf > colgroup > col");(0,be.v)(Object.is(n.length,r.length)),fe()(n,r).forEach(e=>{let[t,n]=e;n.style.width=t.style.width})}}expandColumn(e,t){const n=this._pendingExpansions.get(e);(!n||t>n)&&(this._pendingExpansions.set(e,t),this._pendingExpansionsSignal.emit(void 0))}_expandColumnJob(){this._pendingExpansions.forEach((e,t)=>{Array.prototype.forEach.call(this._element.querySelectorAll("table.cf > colgroup > "+t),t=>{const n=parseInt(t.style.width,10);(isNaN(n)||n<e)&&(t.style.width=e+"px")})}),this._pendingExpansions.clear()}_batchedSignalThreadRowViewSelectionChangeScheduled=!1;_batchedSignalThreadRowViewSelectionChange(){this._batchedSignalThreadRowViewSelectionChangeScheduled||(this._batchedSignalThreadRowViewSelectionChangeScheduled=!0,(0,me.A)(null).takeUntilBy(this._stopper).onValue(()=>{this._batchedSignalThreadRowViewSelectionChangeScheduled=!1,this._gmailDriver.signalThreadRowViewSelectionChange()}))}_startWatchingForRowViews(){const e=Array.from(this._element.querySelectorAll("div.Cp")),t=u.merge(e.map(ge.A)).flatMap(e=>{this._fixColumnWidths(e.el);const t=(0,m.A)(e.el,"table > tbody");return(0,ge.A)(t).takeUntilBy(e.removalStream)}).filter(e=>Boolean(e.el.id)&&!e.el.classList.contains("inboxsdk__ignore_row")&&!e.el.classList.contains("bundle")),n=u.later(2,void 0);this._rowViewDriverStream=t.map(e=>{const t=e.el;this._selectionMutationObserver.observe(t,{attributes:!0,attributeFilter:["class"],attributeOldValue:!0});const n=new _e.A(t,this,this._gmailDriver);return this._elementsToViews.set(t,n),t.classList.contains("x7")&&(this._selectedThreadRowViews.add(n),this._batchedSignalThreadRowViewSelectionChange()),e.removalStream.take(1).onValue(()=>{this._selectedThreadRowViews.has(n)&&(this._selectedThreadRowViews.delete(n),this._batchedSignalThreadRowViewSelectionChange()),this._elementsToViews.delete(t),n.destroy()}),n}).flatMap(e=>e.getAlreadyHadModifications()?n.flatMap(()=>e.waitForReady()).takeUntilBy(e.getStopper()):e.waitForReady().takeUntilBy(e.getStopper())).takeUntilBy(this._stopper),this._rowViewDriverStream.onValue(e=>this._addThreadRowView(e))}_addThreadRowView(e){this._threadRowViewDrivers.add(e),e.getStopper().takeUntilBy(this._stopper).onValue(()=>{this._threadRowViewDrivers.delete(e)})}},ye=Object.freeze({INBOX_STATE:"INBOX_STATE",METADATA_STATE:"METADATA_STATE",OTHER:"OTHER"}),we=class{_buttonViewControllers=new Set;_moreMenuItems=[];_isUpdateButtonClassesScheduled=!1;_moreMenuItemsContainer=null;constructor(e,t,n,r){if(this._element=e,this._driver=t,this._stopper=d()(),this._routeViewDriver=n,this._getMoveSectionElement()?this._ready=u.constant(this):this._ready=(0,le.A)(()=>!!this._getMoveSectionElement()).takeUntilBy(this._stopper).map(()=>this).toProperty(),this._ready.onValue(()=>{this._startMonitoringMoreMenu(),this._determineToolbarState(),this._determineToolbarIconMode(),this._setupToolbarStateMonitoring()}),r instanceof ke)this._threadViewDriver=r,this._ready.onValue(()=>{this._element.setAttribute("data-thread-toolbar","true")});else{if(!(r instanceof Ae))throw new Error("Invalid parent");this._rowListViewDriver=r,this._ready.onValue(()=>{this._element.setAttribute("data-rowlist-toolbar","true")})}}getStopper(){return this._stopper}getElement(){return this._element}getRouteViewDriver(){return this._routeViewDriver}getThreadViewDriver(){return this._threadViewDriver}isForRowList(){return null!=this._rowListViewDriver}isForThread(){return null!=this._threadViewDriver}getThreadRowViewDrivers(){return this._rowListViewDriver?this._rowListViewDriver.getThreadRowViewDrivers():(console.error("missing this._rowListViewDriver"),new Set)}addButton(e,t){const n=d()();this._stopper.takeUntilBy(n).onValue(()=>{n.destroy()});const r=ye;return this._ready.takeUntilBy(n).onValue(()=>{if(e.section===r.OTHER){const t={buttonDescriptor:e};this._moreMenuItems.push(t),this._addToOpenMoreMenu(e),n.onValue(()=>{this._moreMenuItems=this._moreMenuItems.filter(e=>e!==t),this._addMoreItems()})}else{const i=this._getSectionElement(e.section,r);if(i){const r=this._createButtonViewController(e);this._buttonViewControllers.add(r),n.onValue(()=>{this._buttonViewControllers.delete(r),r.destroy()}),r.getView().getElement().__addButton_ownedByExtension=!0,r.getView().getElement().setAttribute("data-add-button-debug",JSON.stringify({id:t,title:e.title,hasThreadViewDriver:this.isForThread(),hasRowListViewDriver:this.isForRowList()})),r.getView().getElement().setAttribute("data-order-hint",String(e.orderHint||0)),(0,ue.A)(i,r.getView().getElement()),u.merge([u.constant(-1),u.later(1e3,1e3)]).map(t=>({delay:t,duplicates:Array.from(i.children).filter(e=>r.getView().getElement().getAttribute("data-rowlist-toolbar")===e.getAttribute("data-rowlist-toolbar")&&r.getView().getElement().getAttribute("data-toolbar-expanded")===e.getAttribute("data-toolbar-expanded")).filter(e=>e.hasAttribute("data-add-button-debug")).map(e=>Object.assign({ownedByExtension:!!e.__addButton_ownedByExtension},JSON.parse(e.getAttribute("data-add-button-debug")||"null"))).filter(t=>{let{title:n}=t;return n===e.title})})).filter(e=>{let{duplicates:t}=e;return t.length>1}).take(1).takeUntilBy(this._stopper).onValue(e=>{let{delay:t,duplicates:n}=e;q.A.error(new Error("Duplicate toolbar button"),{delay:t,duplicates:n,dataThreadToolbar:this._element.getAttribute("data-thread-toolbar"),dataRowlistToolbar:this._element.getAttribute("data-rowlist-toolbar")})}),this._updateButtonClasses(this._element),r.getView().setEnabled("EXPANDED"===this._toolbarState)}}}),{getStopper:()=>n,destroy:()=>{n.destroy()}}}waitForReady(){return this._ready}_createButtonViewController(e){const t=this._getButtonView(e);e.buttonView=t;let n=null;return n=e.hasDropdown?new he.A({buttonView:t,dropdownViewDriverClass:de.A,dropdownShowFunction:e.onClick,dropdownPositionOptions:{position:"bottom",hAlign:"left"}}):new g.A(e),n}_getButtonView(e){const t=new _.A({...e,noArrow:!0});return this._rowListViewDriver?(t.getElement().setAttribute("data-rowlist-toolbar","true"),t.getElement().setAttribute("data-toolbar-expanded","true")):this._threadViewDriver&&t.getElement().setAttribute("data-thread-toolbar","true"),t.getElement().setAttribute("role","button"),t}_startMonitoringMoreMenu(){const e=this._element.querySelector(".nf[role=button]");e&&(0,$.A)(e,{attributes:!0,attributeFilter:["aria-expanded"]}).toProperty(()=>null).takeUntilBy(this._stopper).map(()=>e.getAttribute("aria-expanded")).onValue(e=>{"true"!==e?this._clearMoreItems():this._addMoreItems()})}_determineToolbarState(){const e=this._getMoveSectionElement();if(!e)throw new Error("No move section element");"none"===e.style.display?this._toolbarState="COLLAPSED":this._toolbarState="EXPANDED"}_determineToolbarIconMode(){const e=this._getMoveSectionElement();if(!e)throw new Error("No move section element");const t=Array.from(e.querySelectorAll("[role=button]:not(.inboxsdk__button)")).some(e=>e.hasAttribute("title")||e.hasAttribute("data-tooltip"));this._element.setAttribute("data-toolbar-icononly",t?"true":"false")}_setupToolbarStateMonitoring(){const e=this._getMoveSectionElement();if(!e)throw new Error("No move section element");(0,$.A)(e,{attributes:!0,attributeFilter:["style"]}).takeUntilBy(this._stopper).onValue(e=>{e.target instanceof HTMLElement&&"none"===e.target.style.display?this._toolbarState="COLLAPSED":this._toolbarState="EXPANDED",this._updateButtonClasses(this._element),this._updateButtonEnabledState()})}_getSectionElement(e,t){switch(e){case t.INBOX_STATE:return this._getArchiveSectionElement();case t.METADATA_STATE:return this._getMoveSectionElement();default:return null}}_getArchiveSectionElement(){return this._getSectionElementForButtonSelector(".ar9, .aFh, .aFj, .lR, .nN, .nX, .aFk")}_getCheckboxSectionElement(){return this._getSectionElementForButtonSelector(".T-Jo-auh")}_getMoveSectionElement(){return this._getSectionElementForButtonSelector(".asb, .ase, .ns, .mw, .bq5")}_getSectionElementForButtonSelector(e){const t=this._element.querySelectorAll(".G-Ni");for(let n=0;n<t.length;n++)if(t[n].querySelector(e))return t[n];return null}_updateButtonClasses(e){this._isUpdateButtonClassesScheduled||(this._isUpdateButtonClassesScheduled=!0,w()(()=>{"EXPANDED"===this._toolbarState?e.setAttribute("data-toolbar-expanded","true"):"COLLAPSED"===this._toolbarState&&e.setAttribute("data-toolbar-expanded","false");const t=e.querySelectorAll(".G-Ni > [role=button]");Array.prototype.forEach.call(t,e=>{let t=e;for(let n=0;n<1e5;n++){if(!t.previousElementSibling){e.classList.remove("T-I-Js-Gs");break}if(!t.previousElementSibling.classList.contains("inboxsdk__button")){e.classList.add("T-I-Js-Gs");break}if((0,ce.A)(t.previousElementSibling)){e.classList.add("T-I-Js-Gs");break}t=t.previousElementSibling}t=e;for(let n=0;n<1e5;n++){if(!t.nextElementSibling){e.classList.remove("T-I-Js-IF");break}if(!t.nextElementSibling.classList.contains("inboxsdk__button")){e.classList.add("T-I-Js-IF");break}if((0,ce.A)(t.nextElementSibling)){e.classList.add("T-I-Js-IF");break}t=t.nextElementSibling}}),this._isUpdateButtonClassesScheduled=!1}))}_updateButtonEnabledState(){const e="EXPANDED"===this._toolbarState;this._buttonViewControllers.forEach(t=>{t.getView().setEnabled(e)})}_addMoreItems(){this._clearMoreItems(),"EXPANDED"===this._toolbarState&&this._moreMenuItems.forEach(e=>{this._addToOpenMoreMenu(e.buttonDescriptor)})}_clearMoreItems(){this._moreMenuItemsContainer&&(this._moreMenuItemsContainer.remove(),this._moreMenuItemsContainer=null)}_addToOpenMoreMenu(e){const t=oe.A.getActiveMoreMenu();if(!t)return;const n=this._getMoreMenuItemsContainer(t),r=this._getMoreMenuItemElement(e);(0,ue.A)(n,r)}_getMoreMenuItemsContainer(e){if(this._moreMenuItemsContainer)return this._moreMenuItemsContainer;const t=this._moreMenuItemsContainer=document.createElement("div");return t.setAttribute("data-group-order-hint",this._driver.getAppId()),t.innerHTML='<div class="J-Kh"></div>',(0,ue.A)(e,t),t}_getMoreMenuItemElement(e){const t=document.createElement("div");return t.setAttribute("class","J-N inboxsdk__menuItem"),t.setAttribute("role","menuitem"),t.setAttribute("data-order-hint",String(e.orderHint||0)),t.innerHTML=['<div class="J-N-Jz" style="-webkit-user-select: none;">',e.iconUrl?'<img class="J-N-JX" src="'+ae()(e.iconUrl)+'" />':"",e.iconClass?'<span class="inboxsdk__icon J-N-JX '+ae()(e.iconClass)+'"></span>':"",ae()(e.title),"</div>"].join(""),t.addEventListener("mouseenter",()=>t.classList.add("J-N-JT")),t.addEventListener("mouseleave",()=>t.classList.remove("J-N-JT")),t.addEventListener("click",()=>{e.onClick&&e.onClick({})}),t}destroy(){const e=this._element;this._threadViewDriver?this._element.removeAttribute("data-thread-toolbar"):this._rowListViewDriver&&this._element.removeAttribute("data-rowlist-toolbar"),this._clearMoreItems(),this._stopper.destroy(),this._updateButtonClasses(e)}};var Ce=n(8579),xe=n(4158);let Ee=!1;const ke=class{#R;#mt;#t;#_t;#M;#e=d()();#gt;#bt;#vt;#Fe;#K;#At;#yt=new Set;#wt=new Set;#Ct;#xt;#Et;constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.#R=e,this.#mt=t,this.#t=n,this.#_t=r,this.#M=H()(),this.#bt=[],this.#kt().catch(e=>this.#t.getLogger().error(e));const i=this.#t.waitForGlobalSidebarReady().merge(this.#t.delayToTimeAfterReady(15e3).flatMap(()=>u.constantError(new Error("15 second timeout while waiting for sidebar fired")))).take(1).takeErrors(1).flatMapErrors(e=>(this.#t.getLogger().error(e),u.constant(null))).toProperty();let o;o=1===n.getOpts().REQUESTED_API_VERSION?u.combine([i,u.fromPromise(this.getThreadIDAsync())]):i,this.#Fe=o.map(()=>(this.#St(),this.#It(),null)).takeUntilBy(this.#e).toProperty(),this.#Tt(),this.#e.take(1).onValue(()=>{this.#Et&&this.#Et()})}getMessageViewDriverStream(){return u.constant(this.#bt).flatten().merge(this.#M.filter(e=>"internal"===e.type&&"messageCreated"===e.eventName).map(e=>e.view))}isLoadingStub(){return!1}getStopper(){return this.#e}getEventStream(){return this.#M}getElement(){return this.#R}getRouteViewDriver(){return this.#mt}getIsPreviewedThread(){return this.#_t}getToolbarView(){return this.#gt}getMessageViewDrivers(){return this.#bt}destroy(){this.#M.end(),this.#e.destroy(),this.#gt&&this.#gt.destroy(),this.#bt.forEach(e=>{e.destroy()}),this.#bt.length=0,this.#vt&&this.#vt.disconnect();for(const e of this.#yt)e.destroy()}addSidebarContentPanel(e){return this.#t.getGlobalSidebar().addThreadSidebarContentPanel(e,this)}#Dt={"2022_10_21":".a98.iY > .nH","2022_10_12":".PeIF1d > .nH",2018:".if > .nH"};#Bt={"2023_11_16":"* > .nH"};#Mt={"2024_04_26":".nH > .einvLd"};addNoticeBar(){const e=document.createElement("div");let t,n;e.className=(0,ne.A)("thread_noticeBar");let r=this.#Dt;this.#R.matches(".a98.iY")&&(r=this.#Bt);for(const[e,i]of Object.entries(r)){const r=this.#R.querySelector(i);if(r){t=e,n=r;break}}if(!n)throw new Error("Failed to find subject container");this.#t.getLogger().eventSdkPassive("addNoticeBar subjectContainer",{version:t});for(const[t,n]of Object.entries(this.#Mt))if(this.#R.querySelector(n)){this.#t.getLogger().eventSdkPassive("addNoticeBar AIButtonsSubjectContainer",{version:t}),e.style.marginBottom="8px";break}n.insertAdjacentElement("afterend",e);const i=new re.A(e);return this.#e.takeUntilBy(u.fromEvents(i,"destroy")).onValue(()=>i.destroy()),i}registerHiddenCustomMessageNoticeProvider(e){this.#Ct=e}addCustomMessage(e){const t=this.#R.parentElement;if(!t)throw new Error("missing parent element");const n=new ie(e,()=>{this.#Fe.onValue(async()=>{const e=this.#R.querySelector("[role=list]");if(!e)return;let r,i=Number.MIN_SAFE_INTEGER,o=!1;const s=[...await Promise.all(this.#bt.map(async e=>({sortDatetime:await e.getDate()||0,isHidden:"HIDDEN"===e.getViewState(),element:e.getElement()}))),...Array.from(this.#yt).filter(e=>e!==n&&e.getElement().parentElement).map(e=>{const t=e.getSortDate();return{sortDatetime:(t?t.getTime():null)||0,isHidden:e.getElement().classList.contains("inboxsdk__custom_message_view_hidden"),element:e.getElement()}})].sort((e,t)=>e.sortDatetime-t.sortDatetime),a=n.getSortDate();if(a){for(const e of s){if(o=e.isHidden,a.getTime()>=i&&a.getTime()<=e.sortDatetime){r=e.element;break}i=e.sortDatetime}r?r.insertAdjacentElement("beforebegin",n.getElement()):e.insertAdjacentElement("beforeend",n.getElement()),o&&this.#Nt(n),t.classList.add("inboxsdk__thread_view_with_custom_view")}})});return this.#yt.add(n),n.on("destroy",()=>{this.#yt.delete(n),this.#yt.size>0?t.classList.add("inboxsdk__thread_view_with_custom_view"):t.classList.remove("inboxsdk__thread_view_with_custom_view")}),n}#Nt(e){this.#wt.add(e),e.getElement().classList.add("inboxsdk__custom_message_view_hidden");let t=this.#R.querySelector(".adv"),n=!0;if(!t){n=!1;const e=Array.from(this.#R.querySelectorAll(".kQ"));if(e.length<2)return;t=e[1]}(0,K.A)(t,{attributes:!0,attributeFilter:["class"]}).takeUntilBy(u.merge([this.#e,u.fromEvents(e,"destroy")])).filter(()=>t&&!t.classList.contains("kQ")).onValue(()=>{e.getElement().classList.remove("inboxsdk__custom_message_view_hidden"),this.#xt&&this.#xt.remove(),this.#xt=null}),this.#Lt(t,n),u.fromEvents(e,"destroy").takeUntilBy(this.#e).take(1).onValue(()=>{this.#wt.delete(e),t&&this.#Lt(t,n)})}#Lt(e,t){const n=this.#xt;n&&(n.remove(),this.#xt=null,this.#Et&&this.#Et());const r=this.#Ct;if(!r)return;const i=this.#xt=document.createElement("span");i.classList.add("inboxsdk__custom_message_view_app_notice_content");const o=this.#wt.size;let s=null;if(t){const t=(0,m.A)(e,".adx span");if(s=Number(t.innerHTML),isNaN(s))throw new Error("Couldn't find number of native hidden messages in dom structure")}const a=r(o,s,new Promise(e=>{this.#Et=e}));if(!a)return;if(i.appendChild(a),!t){const t=document.createElement("span");t.classList.add("adx"),(0,m.A)(e,".G3").appendChild(t)}const l=(0,m.A)(e,".adx");l.classList.add("inboxsdk__custom_message_view_app_notice_container"),l.appendChild(i)}getSubject(){var e=this.#R.querySelector(".ha h2");return e?e.querySelector("img[data-emoji]")?Array.from(e.childNodes).map(e=>e instanceof HTMLElement&&"IMG"===e.nodeName?e.getAttribute("data-emoji"):"#text"===e.nodeName?e.wholeText:void 0).filter(e=>null!=e).join(""):e.textContent:""}getInternalID(){return this.#At||this.getThreadID()}getThreadID(){if(this.#K)return this.#K;const e=this.#R.querySelector("[data-legacy-thread-id]");if(!e)throw new Error("threadID element not found");const t=e.getAttribute("data-thread-perm-id");!this.#At&&t&&"undefined"!==t&&(this.#At=t);let n=e.getAttribute("data-legacy-thread-id");if(!n){const e=new Error("Failed to get id for thread: data-legacy-thread-id attribute missing");this.#t.getLogger().error(e)}if(!n)if(this.#_t)n=this.#t.getPageCommunicator().getCurrentThreadID(this.#R,!0);else{const e=this.#mt?this.#mt.getParams():null;if(!e||"string"!=typeof e.threadID){const e=new Error("Failed to get id for thread");throw this.#t.getLogger().error(e),e}n=e.threadID}return this.#K=n,n}async getThreadIDAsync(){if(this.#K)return this.#K;const e=this.#R.querySelector("[data-legacy-thread-id]");if(!e)throw new Error("threadID element not found");const t=e.getAttribute("data-thread-perm-id");if(!this.#At&&t&&"undefined"!==t&&(this.#At=t),this.#K=e.getAttribute("data-legacy-thread-id"),!this.#K&&this.#At&&(this.#K=await this.#t.getOldGmailThreadIdFromSyncThreadId(this.#At)),this.#K)return this.#K;throw new Error("Failed to get id for thread")}addLabel(){const e=this.#R.querySelector(".ha .J-J5-Ji");if(!e)throw new Error("Thread view label container not found");const t=document.createElement("span");e.appendChild(t);const n=new re.A(t),r=new MutationObserver(n=>{n.some(e=>"childList"===e.type&&e.removedNodes&&e.removedNodes.length&&e.removedNodes.length>0)&&(e.contains(t)||e.appendChild(t))});return r.observe(e,{childList:!0}),this.#e.takeUntilBy(u.fromEvents(n,"destroy")).onValue(()=>n.destroy()),u.fromEvents(n,"destroy").take(1).onValue(()=>{r.disconnect()}),n}addSubjectButton(e){const t=this.#R.querySelector(".V8djrc.byY");if(!t)throw new m.a(".V8djrc.byY",{cause:"Subject wrapper element not found"});const n={buttonView:new _.A(e),activateFunction:e.activateFunction,onClick:e.onClick},r=n.buttonView.getElement(),i=this.#Vt();i&&i.prepend(r);const o=new MutationObserver(e=>{if(e.some(e=>"childList"===e.type)){const e=this.#Vt();e&&!e.contains(r)&&e.prepend(r)}});return o.observe(t,{childList:!0,subtree:!0}),this.#e.takeUntilBy(u.fromEvents(r,"destroy")).onValue(()=>n.buttonView.destroy()),u.fromEvents(r,"destroy").take(1).onValue(()=>{o.disconnect()}),new g.A(n)}addFooterButton(e){const t="div.nH .aHU",n=this.#R.querySelector(t);if(!n)throw this.#t.getLogger().eventSdkPassive("Footer button selector fail",{html:(0,J.A)(this.#R)}),new m.a(t,{cause:"Last message footer element not found"});const r={buttonView:new _.A(e),activateFunction:e.activateFunction,onClick:e.onClick},i=r.buttonView.getElement(),o=this.#Rt();o&&o.appendChild(i);const s=new MutationObserver(e=>{if(e.some(e=>"childList"===e.type)){const e=this.#Rt();e&&!e.contains(i)&&e.appendChild(i)}});return s.observe(n,{childList:!0,subtree:!0}),this.#e.takeUntilBy(u.fromEvents(i,"destroy")).onValue(()=>r.buttonView.destroy()),u.fromEvents(i,"destroy").take(1).onValue(()=>{s.disconnect()}),new g.A(r)}#St(){const e=this.#Ot();if(!e){if((0,Ce.A)(this.#t.getAppId())){const e=document.querySelector(".nH.bkK");if(e instanceof HTMLElement)this.#t.getLogger().error(new Error("Thread view toolbar cannot be found"),{threadViewHtml:(0,xe.A)(e.innerHTML)});else{const e=document.querySelector(".nH");e instanceof HTMLElement?this.#t.getLogger().error(new Error("Thread view toolbar cannot be found"),{threadViewHtml:".nH.bkK cannot be found",pageHtml:(0,xe.A)(e.innerHTML)}):this.#t.getLogger().error(new Error("Thread view toolbar cannot be found"),{threadViewHtml:".nH.bkK cannot be found",pageHtml:".nH cannot be found"})}}throw new Error("No toolbar element found")}const t=e.parentElement;t&&t.classList.add("inboxsdk__thread_toolbar_parent"),this.#gt=new we(e,this.#t,this.#mt,this)}#Ot(){for(var e=document.querySelectorAll("[gh=tm]"),t=0;t<e.length;t++)if(this.#Pt(e[t]))return e[t].querySelector("[gh=mtb]");return null}#Vt(){return this.#R.querySelector(".bHJ")}#Rt(){var e=this.#R.querySelectorAll(".amn");for(const t of e){const e=null!==t.closest("table"),n="none"===window.getComputedStyle(t).display;if(!e&&!n)return t}return e[0]||null}#Pt(e){if(e.parentElement.parentElement===this.#R.parentElement.parentElement)return!0;if("main"!==e.parentElement.getAttribute("role")&&"main"!==this.#R.parentElement.getAttribute("role"))return!0;if("main"===e.parentElement.getAttribute("role")&&e.parentElement.querySelector(".if, .PeIF1d, .a98.iY")&&(e.parentElement.querySelector(".if, .PeIF1d, .a98.iY").parentElement===this.#R||e.parentElement.querySelector(".a98.iY")===this.#R)){let t="2018";return this.#R.matches(".a98.iY")?t="2023-11-16":e.parentElement.querySelector(".a98.iY")?t="2022-10-20":e.parentElement.querySelector(".PeIF1d")&&(t="2022-10-12"),this.#t.getLogger().eventSdkPassive("gmailThreadView_isToolbarContainerRelevant",{version:t}),!0}return!1}#It(){var e=this.#R.querySelector(".h7");if(e){var t=e.parentElement;this.#jt(t),this.#Ft(t)}else{var n=this;setTimeout(function(){n.#R&&n.#It()},500)}}#jt(e){var t=this,n=e.children;Array.prototype.forEach.call(n,function(e){t.#Ut(e)})}#Ft(e){this.#vt=new MutationObserver(this.#Ht.bind(this)),this.#vt.observe(e,{childList:!0})}#Ht(e){var t=this;e.forEach(function(e){Array.prototype.forEach.call(e.addedNodes,function(e){e.classList.contains("inboxsdk__custom_message_view")||t.#Ut(e)})})}#Ut(e){var t=new ee(e,this,this.#t);this.#M.plug(t.getEventStream()),this.#bt.push(t),this.#M.emit({type:"internal",eventName:"messageCreated",view:t})}getReadyStream(){return this.#Fe}async#kt(){if(Ee)return;function e(){const e=oe.A.getAddonSidebarContainerElement();if(!e)return null;const t={parent:e.parentElement?"none"===e.parentElement.style.display:null,self:"none"===e.style.display,children:Array.from(e.children).map(e=>e.style?"none"===e.style.display:null)},n=e.getBoundingClientRect();return{isDisplayNone:t,size:{width:n.width,height:n.height}}}const t={time:{}};t.time[0]=e(),await Promise.all([30,5e3].map(async n=>{await(0,te.A)(n),this.#e.stopped||(t.time[n]=e())})),this.#e.stopped||(this.#t.getLogger().eventSdkPassive("gmailSidebarElementInfo",t),Ee=!0)}#Tt(){const e=this.#R.querySelector("img.gx");if(e){const t=Z(e,e=>"button"===e.getAttribute("role"));t&&u.merge([u.fromEvents(t,"click"),u.fromEvents(t,"keydown").filter(e=>13===e.which)]).takeUntilBy(this.#e).onValue(()=>{for(const e of this.#yt)e.expand()})}const t=this.#R.querySelector("img.gq");if(t){const e=Z(t,e=>"button"===e.getAttribute("role"));e&&u.merge([u.fromEvents(e,"click"),u.fromEvents(e,"keydown").filter(e=>13===e.which)]).takeUntilBy(this.#e).onValue(()=>{for(const e of this.#yt)e.collapse()})}}},Se=new WeakMap;class Ie extends r.A{constructor(e){super();const t={threadRowViewDriver:e};Se.set(this,t),this.destroyed=!1,e.getEventStream().onEnd(()=>{this.destroyed=!0,this.emit("destroy")}),e.setUserView(this)}addLabel(e){(0,C.A)(Se,this).threadRowViewDriver.addLabel(e)}addImage(e){(0,C.A)(Se,this).threadRowViewDriver.addImage(e)}addButton(e){(0,C.A)(Se,this).threadRowViewDriver.addButton(e)}addActionButton(e){(0,C.A)(Se,this).threadRowViewDriver.addActionButton(e)}addAttachmentIcon(e){(0,C.A)(Se,this).threadRowViewDriver.addAttachmentIcon(e)}replaceDate(e){(0,C.A)(Se,this).threadRowViewDriver.replaceDate(e)}replaceDraftLabel(e){(0,C.A)(Se,this).threadRowViewDriver.replaceDraftLabel(e)}getElement(){return(0,C.A)(Se,this).threadRowViewDriver.getElement()}getSubject(){return(0,C.A)(Se,this).threadRowViewDriver.getSubject()}replaceSubject(e){(0,C.A)(Se,this).threadRowViewDriver.replaceSubject(e)}getDateString(){return(0,C.A)(Se,this).threadRowViewDriver.getDateString()}getThreadID(){return(0,C.A)(Se,this).threadRowViewDriver.getThreadID()}getThreadIDAsync(){return(0,C.A)(Se,this).threadRowViewDriver.getThreadIDAsync()}getThreadIDIfStable(){return this.getVisibleMessageCount()>0?this.getThreadID():null}getThreadIDIfStableAsync(){return this.getVisibleMessageCount()>0?this.getThreadIDAsync():Promise.resolve(null)}getDraftID(){return(0,C.A)(Se,this).threadRowViewDriver.getDraftID()}getVisibleDraftCount(){return(0,C.A)(Se,this).threadRowViewDriver.getVisibleDraftCount()}getVisibleMessageCount(){return(0,C.A)(Se,this).threadRowViewDriver.getVisibleMessageCount()}getContacts(){return(0,C.A)(Se,this).threadRowViewDriver.getContacts()}}var Te=n(7600),De=n(3737);const Be=class{#M=H()();#e=d()();getRouteType(){return"UNKNOWN"}getRouteID(){return"UNKNOWN"}getParams(){return{}}getEventStream(){return this.#M}getStopper(){return this.#e}destroy(){this.#M.end(),this.#e.destroy()}};var Me=n(321),Ne=n(5193),Le=n.n(Ne),Ve=n(6456),Re=n.n(Ve),Oe=n(6448);function Pe(e,t,n){const r={};n.forEach(function(t){const n=e.getAttribute(t);r[t]=null==n?null:Fe(n)??n});for(let e=0;e<t.length;e++){const i=t[e];if(je(r,i,n))return i}return null}function je(e,t,n){for(let r=0;r<n.length;r++){const i=n[r],o=t.getAttribute(i),s=null==o?null:Fe(o)??o;if(s>e[i])return!0;if(s<e[i])return!1}return!1}function Fe(e){const t=parseFloat(e);return!isNaN(t)&&isFinite(t)?t:null}function Ue(){let e,t;const n=new Promise((n,r)=>{e=n,t=r});return{resolve:e,reject:t,promise:n}}class He{_eventStream=H()();constructor(e){this._element=e,this._setupEventStream()}destroy(){this._element.remove(),this._eventStream.end()}getElement(){return this._element}getEventStream(){return this._eventStream}activate(){}deactivate(){}_setupEventStream(){const e=u.fromEvents(this._element,"click");e.onValue(e=>{e.stopPropagation(),e.preventDefault()}),this._eventStream.plug(e.map(e=>({eventName:"click",domEvent:e})))}}class ze extends He{constructor(){const e=document.createElement("div");e.setAttribute("class","aAE qi J-J5-Ji J-JN-M-I"),e.innerHTML='<div class="J-J5-Ji J-JN-M-I-JG">&nbsp;</div>',e.addEventListener("mouseenter",function(){e.classList.add("J-JN-M-I-JW")}),e.addEventListener("mouseleave",function(){e.classList.remove("J-JN-M-I-JW")}),super(e)}activate(){this.getElement().classList.add("J-JN-M-I-JO"),this.getElement().classList.add("J-JN-M-I-Kq")}deactivate(){this.getElement().classList.remove("J-JN-M-I-JO"),this.getElement().classList.remove("J-JN-M-I-Kq")}}var qe=n(6186),We=n.n(qe),Ye=n(2155),Ge=n.n(Ye),Qe=n(8626),$e=n.n(Qe),Ke=n(8990),Je=n.n(Ke),Ze=n(9827),Xe=n.n(Ze),et=n(9245),tt={};function nt(e){let t="";null!=e.iconHtml&&"string"==typeof e.iconHtml?t=p()`<div class="inboxsdk__resultsSection_result_icon inboxsdk__resultsSection_result_iconHtml">
        ${{__html:e.iconHtml}}
      </div>`:e.iconUrl?t=p()`<img class="inboxsdk__resultsSection_result_icon ${e.iconClass||""}" src="${e.iconUrl}">`:e.iconClass&&(t=p()`<div class="${e.iconClass}"></div>`);const n=Array.isArray(e.labels)?e.labels.map(rt).join(""):"",{isRead:r={text:!0},title:i,shortDetailText:o}=e,s="object"==typeof r&&r.text||!0===e.isRead;return['<td class="xY PF"></td>',`<td class="xY oZ-x3 ${et.Lm}">`,t,"</td>",`<td class="xY yX ${et.kk}">`,'<div class="yW">',`<span class="${et.Lf}${s?"":" zF"}">`,..."string"==typeof i?[ae()(i)]:[],"</span>","</div>","</td>",'<td class="xY a4W">','<div class="xS">','<div class="xT">','<div class="yi">',n,"</div>",`<div class="y6 ${et.UA}">`,`<span class="bog${s?"":" "+et.gy}">`,s?"":"<b>",ae()("body"in e&&e.body||""),s?"":"</b>","</span>","</div>",`<div class="${et.$r}"></div>`,"</div>","</div>","</td>",'<td class="xY xW">',`<span class="${et.Ad} ${s?et.gy:"bq3"}">`,..."string"==typeof o?[ae()(o)]:[],"</span>","</td>"].join("")}function rt(e){const t=e.backgroundColor||"rgb(194, 194, 194)",n=e.foregroundColor||"rgb(255, 255, 255)",r=e.maxWidth||"90px",i=[p()`<div class="ar as" data-tooltip="${e.title}">
      <div class="at" style="background-color: ${t}; border-color: ${t};">
        <div class="au" style="border-color: ${t};">`],o=e.iconBackgroundColor?p()`style="background-color: ${e.iconBackgroundColor}"`:"";return null!=e.iconHtml?i.push(p()`<div class="inboxsdk__resultsSection_label_icon inboxsdk__resultsSection_label_iconHtml"
        ${{__html:o}}
      >
        ${{__html:e.iconHtml}}
      </div>`):e.iconClass?i.push(p()`<div
        class="inboxsdk__resultsSection_label_icon ${e.iconClass||""}"
        ${{__html:o}}
        >
      </div>`):e.iconUrl&&i.push(p()`<img
        class="inboxsdk__resultsSection_label_icon"
        ${{__html:o}}
        src="${e.iconUrl}" />`),i.push(p()`
          <div class="av" style="color: ${n}; max-width: ${r}">
            ${e.title}
          </div>
        </div>
      </div>
    </div>
    `),i.join("")}tt.styleTagTransform=Xe(),tt.setAttributes=$e(),tt.insert=e=>{e.setAttribute("data-inboxsdk-version","2.2.11-1764118012397-e51ed7952926d731"),document.head.append(e)},tt.domAPI=Ge(),tt.insertStyleElement=Je(),We()(et.Ay,tt),et.Ay&&et.Ay.locals&&et.Ay.locals;const it=class{#zt;#qt;#Wt;#Yt={};#Gt;#R=null;#Qt=null;#$t=null;#Kt=null;#Jt=null;#Zt=null;#Xt=null;#en=null;#tn=null;#M;#pt=!1;#nn=null;#rn=null;#in=null;#t;constructor(e,t,n,r){this.#t=e,this.#Gt=n,this.#zt=t,this.#Wt=r,this.#M=H()(),this.#qt=Ue()}destroy(){this.#on(),this.#R?.remove(),this.#M&&this.#M.end(),this.#Qt?.remove(),this.#$t?.remove(),this.#Kt?.remove(),this.#Jt?.remove(),this.#Zt?.remove(),this.#Xt?.remove(),this.#en?.remove(),this.#nn?.destroy(),this.#rn?.destroy()}#on(){this.#in?.(),this.#in=null}getElement(){const e=this.#R;if(!e)throw new Error("tried to access element that does not exist");return e}get eventStream(){return this.#M}setCollapsibleSectionDescriptorProperty(e){const t=e.takeUntilBy(this.#M.filter(()=>!1).beforeEnd(()=>null));t.onValue(e=>this.#sn(e)),t.take(1).onValue(()=>this.#qt.resolve(this)),this.#t.gmailThemeStream.onValue(()=>{Object.keys(this.#Yt).length&&this.#sn(this.#Yt)})}setCollapsed(e){this.#Wt&&this.#qt.promise.then(()=>{e?this.#an():this.#ln()})}#sn(e){const t=this.#R;e?(t&&(t.style.display=""),t?this.#un(e):(this.#g(e),this.#cn()),this.#dn(e),this.#hn(e),this.#pn(e),this.#fn(e),this.#mn(e),this.#_n(e),this.#gn(e),this.#bn(e),this.#vn(e),this.#Yt=e):t&&(t.style.display="none")}#g(e){const t=this.#R=document.createElement("div");t.setAttribute("class","inboxsdk__resultsSection"),t.setAttribute("data-group-order-hint",String(this.#zt)),t.setAttribute("data-order-hint",String("number"==typeof e.orderHint?e.orderHint:0)),this.#Wt||t.classList.add("inboxsdk__resultsSection_nonCollapsible"),this.#An(e);const n=this.#Kt=document.createElement("div"),r=document.createElement("div");r.classList.add("zE"),n.appendChild(r),t.appendChild(n);const i=this.#Jt=document.createElement("div");r.appendChild(i);const o=this.#en=document.createElement("div");r.appendChild(o);const s=this.#Zt=document.createElement("div");r.appendChild(s),this.#yn(),this.#Wt&&this.#$t&&u.fromEvents(this.#$t,"click").onValue(()=>this.#wn()),u.fromEvents(t,"removeCollapsedContainer").onValue(()=>this.#Cn()),u.fromEvents(t,"readdToCollapsedContainer").onValue(()=>this.#xn()),this.#M.emit({type:"update",property:"orderHint",sectionDescriptor:e})}#An(e){const t=this.#Qt=document.createElement("div");t.classList.add("inboxsdk__resultsSection_header","Wg"),this.#En(t,e),this.#R&&this.#R.appendChild(t)}#En(e,t){const n=this.#$t=document.createElement("div");n.setAttribute("class","inboxsdk__resultsSection_title"),n.innerHTML=['<h3 class="Wr iR">','<img alt="" src="//ssl.gstatic.com/ui/v1/icons/mail/images/cleardot.gif" class="qi Wp Wq">',`<div class="Wn ${et.DD}">`,ae()(t.title),"</div>","</h3>"].join("");const r=document.createElement("div");r.classList.add("chp5lb"),e.appendChild(n),e.appendChild(r)}#yn(){const e=this.#tn=document.createElement("div");e.classList.add("inboxsdk__resultsSection_footer"),this.#Kt&&this.#Kt.appendChild(e)}#un(e){if(this.#Yt.orderHint!==e.orderHint){const t=this.#R;t&&t.setAttribute("data-order-hint",""+("number"==typeof e.orderHint?e.orderHint:0)),this.#M.emit({type:"update",property:"orderHint"})}}#dn(e){this.#Wt||e.title||e.subtitle||e.titleLinkText||e.hasDropdown?this.#Qt&&(this.#Qt.style.display=""):this.#Qt&&(this.#Qt.style.display="none")}#hn(e){this.#Yt.title!==e.title&&this.#$t&&((0,m.A)(this.#$t,"h3 > .Wn").textContent=e.title)}#pn(e){const t=this.#$t;if(!t)return;let n=t.getElementsByClassName(et.VA)[0];if(e.subtitle){if(this.#Yt.subtitle!==e.subtitle){if(!n&&(n=document.createElement("span"),n&&t)){n.classList.add(et.VA);const e=t.querySelector(".Wn");e&&e.prepend(n)}n.textContent=e.subtitle}}else n&&n.remove()}#fn(e){const t=this.#Qt;if(!t)return;let n=t.querySelector(".inboxsdk__resultsSection_header_summaryText");if(e.titleLinkText){if(e.titleLinkText!==this.#Yt.titleLinkText){if(!n){n=document.createElement("div"),n.setAttribute("class","inboxsdk__resultsSection_header_summaryText Wm"),n.innerHTML=['<span class="Di">&nbsp;','<div class="J-J5-Ji amH">','<span class="Dj">',"<span></span>","</span>","&nbsp;","</div>","</span>"].join(""),this.#M.plug(u.fromEvents(n,"click").map(()=>({eventName:"titleLinkClicked",sectionDescriptor:this.#Yt})));const e=n;n.addEventListener("mouseenter",function(){e.classList.add("aqi")}),n.addEventListener("mouseleave",function(){e.classList.remove("aqi")});const r=t.querySelector(".chp5lb");r&&r.insertAdjacentElement("afterbegin",n)}(0,m.A)(n,".Dj > *").textContent=e.titleLinkText}}else n&&n.remove()}#mn(e){if(e.hasDropdown&&e.onDropdownClick){if(e.hasDropdown&&e.onDropdownClick)if(this.#nn&&this.#rn)e.onDropdownClick!==this.#Yt.onDropdownClick&&this.#rn&&this.#rn.setDropdownShowFunction(e.onDropdownClick);else{const t=this.#nn=new ze;this.#rn=new he.A({buttonView:t,dropdownViewDriverClass:de.A,dropdownShowFunction:e.onDropdownClick});const n=this.#Qt;if(n){const e=n.querySelector(".chp5lb");e&&e.appendChild(t.getElement())}}}else this.#nn&&this.#nn.destroy(),this.#rn&&this.#rn.destroy()}#_n(e){const t=this.#Jt;t&&(t.innerHTML="",e.contentElement?(t.style.display="",t.appendChild(e.contentElement)):t.style.display="none")}#gn(e){const{tableRows:t}=e,n=this.#Zt;n&&(n.innerHTML="",t&&0!==t.length?(n.style.display="",this.#kn(t)):n.style.display="none")}#kn(e){const t=document.createElement("table");t.setAttribute("class","F cf zt"),t.innerHTML=["<colgroup>",'<col class="k0vOLb">','<col class="Ci">','<col class="y5">','<col class="WA">','<col class="yY">',"<col>",'<col class="xX">',"</colgroup>","<tbody>","</tbody>"].join(""),this.#Zt&&this.#Zt.appendChild(t);const n=t.querySelector("tbody"),r=this.#M;this.#on();const i=new Promise(e=>this.#in=e);for(const t of e){const e=document.createElement("tr"),{iconHtml:o,isRead:s={background:!1},title:a,shortDetailText:l,attachmentIcon:c}=t,d="object"==typeof s&&s.background||!0===s,h=[[o,et.Lm],[a,et.Lf],..."snippet"in t?[[t.snippet,et.UA]]:[],[c,et.$r],[l,et.Ad]];e.setAttribute("class","inboxsdk__resultsSection_tableRow zA "+(d?"yO":"zE")),e.innerHTML=nt(t);for(const[t,n]of h)t&&"string"!=typeof t&&t({el:(0,m.A)(e,`.${n}`),unmountPromise:i});if(!n)throw new Error("should not happen");n.appendChild(e),r.plug(u.fromEvents(e,"click").map(()=>({eventName:"rowClicked",rowDescriptor:t})))}}#bn(e){const t=this.#en;e.tableRows&&e.tableRows.length>0||e.contentElement?t&&(t.innerHTML="",t.style.display="none"):e.tableRows&&0===e.tableRows.length&&!e.contentElement&&this.#Sn()}#cn(){const e=this.#en;e&&(e.setAttribute("class","TB TC inboxsdk__resultsSection_loading"),e.innerHTML="loading...",e.style.display="")}#Sn(){const e=this.#en;e&&(e.setAttribute("class","TB TC"),e.innerHTML="No results found",e.style.display="")}#vn(e){const t=this.#tn;if(t)if(t.innerHTML="",e.footerLinkText||e.footerLinkIconUrl||e.footerLinkIconClass){t.style.display="";const n=document.createElement("span");n.setAttribute("class","e Wb"),n.textContent=e.footerLinkText,this.#M.plug(u.fromEvents(n,"click").map(()=>({eventName:"footerClicked",sectionDescriptor:this.#Yt}))),t.appendChild(n),t.insertAdjacentHTML("beforeend",'<br style="clear:both;">')}else t.style.display="none"}#wn(){this.#pt?this.#ln():this.#an()}#an(){const e=this.#R;if(e){if(e.classList.add("inboxsdk__resultsSection_collapsed"),this.#Gt||this.#xn(),this.#$t){const e=(0,m.A)(this.#$t,"h3 > img.Wp");e&&(e.classList.remove("Wq"),e.classList.add("Wo"))}this.#Kt&&(this.#Kt.style.display="none"),this.#pt=!0,this.#M.emit({eventName:"collapsed"})}}#ln(){const e=this.#R;if(e){if(e.classList.remove("inboxsdk__resultsSection_collapsed"),this.#Gt||this.#In(),this.#$t){const e=(0,m.A)(this.#$t,"h3 > img.Wp");e&&(e.classList.remove("Wo"),e.classList.add("Wq"))}this.#Kt&&(this.#Kt.style.display=""),this.#pt=!1,this.#M.emit({eventName:"expanded"})}}#xn(){const e=this.#R;if(e)if(this.#Tn(e.previousElementSibling)&&this.#Tn(e.nextElementSibling)){const t=e.nextElementSibling,n=e.previousElementSibling;if(!n)throw new Error("previousSibling does not exist");if(!t)throw new Error("otherCollapseContainer does not exist");n.children[0].appendChild(e);const r=Array.from(t.children[0].children).concat(Array.from(t.children[1].children));t&&this.#Dn(t),this.#Bn(r)}else this.#Mn()}#In(){const e=this.#R;if(!e)return;const t=e.parentElement;if(!t)return;const n=t.parentElement;if(!n||!n.classList.contains("inboxsdk__results_collapsedContainer"))return;const r=Array.from(n.children[0].children).concat(Array.from(n.children[1].children));this.#Dn(n),this.#Cn(),this.#Bn(r.filter(t=>t!==e))}#Dn(e){Array.from(e.children[0].children).forEach(t=>e.insertAdjacentElement("beforebegin",t)),Array.from(e.children[1].children).reverse().forEach(t=>e.insertAdjacentElement("afterend",t))}#Mn(){const e=this.#R;if(!e)return;if(this.#Xt)return void this.#Xt.children[0].insertBefore(e,this.#Xt.children[1].firstElementChild);let t,n;this.#Tn(e.previousElementSibling)?(n=!1,t=e.previousElementSibling):this.#Tn(e.nextElementSibling)?(n=!0,t=e.nextElementSibling):(n=!0,this.#Nn(),t=this.#Xt),n&&t?t.children[0].insertBefore(e,t.children[0].firstElementChild):t&&t.children[0].appendChild(e)}#Tn(e){return e&&e.classList.contains("inboxsdk__results_collapsedContainer")}#Bn(e){e.forEach(e=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("removeCollapsedContainer",!1,!1,null),e.dispatchEvent(t);const n=document.createEvent("CustomEvent");n.initCustomEvent("readdToCollapsedContainer",!1,!1,null),e.dispatchEvent(n)})}#Nn(){const e=this.#Xt=document.createElement("div");e.setAttribute("class","inboxsdk__results_collapsedContainer Wg"),e.innerHTML='<div class="inboxsdk__results_collapsedContainer_prepend"></div><div class="inboxsdk__results_collapsedContainer_append"></div>';const t=this.#R;t&&t.insertAdjacentElement("afterend",e)}#Cn(){this.#Xt&&(this.#Xt.remove(),this.#Xt=null)}};var ot=n(855),st=n.n(ot),at=n(960),lt=n(370);function ut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{censor:!0};try{const t=Array.from(document.styleSheets).flatMap(e=>{try{const t=`\n/* Stylesheet : ${e.href||"[inline styles]"} */`,n=Array.from(e.cssRules).map(e=>e.cssText);return n.splice(0,0,t),n}catch(e){return[]}}).join("\n").replaceAll('url("//','url("https://'),n=Array.from(document.querySelectorAll("link")).filter(e=>e.href?.includes("fonts")||"image"===e.as).map(e=>e.outerHTML).join("\n");let r=document.body.innerHTML;return r=r.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,""),e.censor&&(r=(0,xe.A)(r)),`\n      <!DOCTYPE html>\n      <html>\n          <head>\n            ${n}\n            <style>\n              ${t}\n            </style>\n          </head>\n          <body>\n            ${r}\n          </body>\n      </html>\n      `}catch(e){return`couldn't extract document html and css: ${e}`}}const ct=class{_stopper=d()();#t;#oe;#ne=!1;constructor(e,t,n){let{urlObject:r,type:i,routeID:o,cachedRouteData:s}=e;var a,l;this._type=i,this._hash=r.hash,this._name=r.name,this._paramsArray=r.params,this._customRouteID=o,this._cachedRouteData=s,this._stopper=d()(),this._rowListViews=[],this._gmailRouteProcessor=t,this.#t=n,this._eventStream=H()(),this._hasAddedCollapsibleSection=!1,this.#oe=(a=document.body,l=n.getLogger(),new(st())(a,{logError(e,t){const n={el:t,html:t?(0,J.A)(t):null};l.errorSite(e,n)},tags:{},watchers:[{sources:[null],tag:"rowListElementContainer",selectors:[{$map:()=>document.querySelector(".bGI.nH")?.parentElement}]},{sources:["rowListElementContainer"],tag:"rowListElement",selectors:[{$or:[[],[".bGI.nH",".bf5",".bv9",".bGC"]]},".bGI[role=main]","[gh=tl]"]}],finders:{rowListElementContainer:{fn:e=>[e.querySelector(".bGI.nH")?.parentElement].filter(at.A)},rowListElement:{fn:e=>e.querySelectorAll("[gh=tl]")}}})),"CUSTOM"===this._type?(this._setupCustomViewElement(),n.getStopper().takeUntilBy(this._stopper.delay(0)).onValue(()=>{n.showNativeRouteView(),window.location.hash="#inbox"})):Le()(["NATIVE","CUSTOM_LIST"],this._type)&&this._setupSubViews(),"CUSTOM_LIST"===this._type&&u.later(500,void 0).takeUntilBy(this._stopper).onValue(async()=>{if(await this.#Ln(),!this._stopper.stopped){var e=n.getLastCustomThreadListActivity();(!e||e.customRouteID!==this._customRouteID||Date.now()-e.timestamp>5e3)&&this.refresh()}})}destroy(){this.#ne=!0,this._stopper.destroy(),this._eventStream.end(),this.#oe.dump(),this._customViewElement&&this._customViewElement.remove();var e=this._rowListViews;this._rowListViews=[],e.forEach(e=>{e.destroy()}),this._threadView&&(this._threadView.destroy(),this._threadView=null)}getHash(){return this._hash}getEventStream(){return this._eventStream}getStopper(){return this._stopper}getCustomViewElement(){return this._customViewElement}getRowListViews(){return this._rowListViews}getThreadView(){return this._threadView}getType(){return"OTHER_APP_CUSTOM"===this._type?"CUSTOM":this._type}isCustomRouteBelongingToApp(){return"CUSTOM"===this._type}getParams=F()(()=>{let e;if(this._customRouteID)e=this._getCustomParams();else{e=this._getNativeParams();const t=this.getRouteID();if(t){const n=this._extractParamKeysFromRouteID(t),r={};n.forEach(function(t){e[t]&&(r[t]=e[t])}),e=r}}return Object.freeze(e)});addCollapsibleSection(e,t){return this.#Vn(e,t,!0)}addSection(e,t){return this.#Vn(e,t,!1)}#Vn(e,t,n){this._hasAddedCollapsibleSection=!0;var r=new it(this.#t,t,this.getRouteID()===this._gmailRouteProcessor.NativeRouteIDs.SEARCH,n);return u.combine([this.#Rn(),r.eventStream.filter(e=>"type"in e&&"update"===e.type&&"orderHint"===e.property)]).onValue(e=>{let[t]=e;const n=t.children,i=Pe(r.getElement(),n,["data-group-order-hint","data-order-hint"]);i?t.insertBefore(r.getElement(),i):t.appendChild(r.getElement())}),r.setCollapsibleSectionDescriptorProperty(e),r}hideSearchPageFilterToolbar(){(0,lt.A)(this.#oe.tree.getAllByTag("rowListElementContainer")).takeUntilBy(this._stopper).onValue(e=>{let{el:t,removalStream:n}=e;t.getValue().classList.add("inboxsdk__hide_filter_toolbar"),n.onValue(()=>{t.getValue().classList.remove("inboxsdk__hide_filter_toolbar")})})}_setupCustomViewElement(){this._customViewElement=document.createElement("div"),this._customViewElement.classList.add("inboxsdk__custom_view_element"),this._monitorLeftNavHeight(),this._setCustomViewElementHeight()}_monitorLeftNavHeight(){var e=oe.A.getLeftNavHeightElement();e&&(0,K.A)(e,{attributes:!0,attributeFilter:["style"]}).takeUntilBy(this._stopper).onValue(()=>{this._setCustomViewElementHeight()})}_setCustomViewElementHeight(){const e=oe.A.getLeftNavHeightElement(),t=oe.A.getGtalkButtons(),n=this._customViewElement;if(!e||!n)throw new Error("Should not happen");const r=oe.A.getContentSectionElement(),i=r?parseInt(getComputedStyle(r).marginBottom,10):0;n.style.height=parseInt(e.style.height,10)+(t?t.offsetHeight:0)-i+"px"}_setupSubViews(){w()(async()=>{this._eventStream&&(await this.#Ln(),this.#On(),this.#Pn(),this._setupScrollStream())})}async#Ln(){try{await(0,v.A)(()=>document.querySelector("[role=main]"),15e3)}catch{this.#t.getLogger().error(new m.a("[role=main]"),{html:ut()})}}#On(){(0,lt.A)(this.#oe.tree.getAllByTag("rowListElement")).takeUntilBy(this._stopper).onValue(e=>{let{el:t}=e;this._processRowListElement(t.getValue())})}_processRowListElement(e){var t=e.parentElement;if(!t)throw new Error("no rootElement");var n=new Ae(t,this,this.#t);this._rowListViews.push(n),this._eventStream.emit({eventName:"newGmailRowListView",view:n})}async#Pn(){const e=await this.#jn();if(!this.#ne)if(e?.threadContainerElement){var t=new ke(e.threadContainerElement,this,this.#t);this._threadView=t,this._eventStream.emit({eventName:"newGmailThreadView",view:t})}else e?.previewPaneContainerElement&&this.#Fn(e.previewPaneContainerElement)}async#jn(){let e=null;try{e=await(0,v.A)(()=>{if(this.#ne)return{};const e=this._getThreadContainerElement();if(e)return{threadContainerElement:e};const t=oe.A.getPreviewPaneContainerElement();return t?{previewPaneContainerElement:t}:null},15e3)}catch{}if(null===e){const e=this.#oe.tree.getAllByTag("rowListElement").values().size>0,t=!document.querySelector(".bGI[role=main] .Nu.S3.aZ6");if(e&&t);else{const e=new Error("Thread container element wasn't found");(0,Ce.A)(this.#t.getAppId())&&this.#t.getLogger().error(e,{html:ut()})}}return e}_setupScrollStream(){const e=oe.A.getScrollContainer(),{scrollTop:t}=this._cachedRouteData;e&&this._hasAddedCollapsibleSection&&(t&&(e.scrollTop=t),u.fromEvents(e,"scroll").throttle(100).map(e=>e.target.scrollTop).takeUntilBy(this._stopper).onValue(e=>{this._cachedRouteData.scrollTop=e}))}async#Fn(e){let t;const n="table.Bs > tr",r=".ao9:has(.a98.iY, .apa)";try{t=await(0,v.A)(()=>{if(this.#ne)return"destroyed";return e.querySelector(n)||e.querySelector(r)},15e3)}catch{const e=new m.a(`${n}, ${r}`,{cause:new Error("Thread container for preview pane wasn't found")});throw(0,Ce.A)(this.#t.getAppId())&&this.#t.getLogger().error(e,{html:ut()}),e}if("destroyed"===t)return;const i=(0,ge.A)(t).filter(e=>e.el.matches(".a98.iY"));var o;this._eventStream.plug(i.flatMap((o=e=>new ke(e,this,this.#t,!0),e=>{const t=o(e.el);return t?(e.removalStream.take(1).onValue(()=>{t.destroy()}),u.constant(t)):u.never()})).map(e=>(this._threadView=e,{eventName:"newGmailThreadView",view:e})))}#Rn(){return(0,lt.A)(this.#oe.tree.getAllByTag("rowListElementContainer")).takeUntilBy(this._stopper).take(1).map(e=>{let{el:t}=e;const n=t.getValue();let r=n.querySelector(".inboxsdk__custom_sections");return r?r.classList.contains("Wc")&&!this._isSearchRoute()&&r.classList.remove("Wc"):(r=document.createElement("div"),r.classList.add("inboxsdk__custom_sections"),n.insertBefore(r,n.firstChild)),r}).toProperty()}_getCustomParams(){var e=Object.create(null);if(!this._customRouteID)throw new Error("Should not happen, can't get custom params for non-custom view");return this._customRouteID.split("/").slice(1).forEach((t,n)=>{":"===t[0]&&(t=t.substring(1),this._paramsArray[n]&&(e[t]=this._paramsArray[n]))}),e}_getNativeParams(){return this._isSearchRoute()?this._getSearchRouteParams():this._isListRoute()?this._getListRouteParams():this._isThreadRoute()?this._getThreadRouteParams():this._isSettingsRoute()?this._getSettingsRouteParams():{}}_isSearchRoute(){return this.getRouteID()===this._gmailRouteProcessor.NativeRouteIDs.SEARCH}_isChatWelcomeRoute(){return this._hash===this._gmailRouteProcessor.NativeRouteIDs.CHAT_WELCOME}_isChatDmRoute(){return"chat"===this._name&&"dm"===this._paramsArray?.[0]&&!!this._paramsArray?.[1]}_isSpacesWelcomeRoute(){return this._hash===this._gmailRouteProcessor.NativeRouteIDs.SPACES_WELCOME}_isSpaceRoute(){return"chat"===this._name&&"space"===this._paramsArray?.[0]&&!!this._paramsArray?.[1]}_isMeetRoute(){return this._hash===this._gmailRouteProcessor.NativeRouteIDs.MEET}getRouteType(){return Le()(["CUSTOM","OTHER_APP_CUSTOM"],this._type)?this._gmailRouteProcessor.RouteTypes.CUSTOM:this._isListRoute()?this._gmailRouteProcessor.RouteTypes.LIST:this._isThreadRoute()?this._gmailRouteProcessor.RouteTypes.THREAD:this._isSettingsRoute()?this._gmailRouteProcessor.RouteTypes.SETTINGS:this._isChatWelcomeRoute()||this._isChatDmRoute()?this._gmailRouteProcessor.RouteTypes.CHAT:this._isSpacesWelcomeRoute()||this._isSpaceRoute()?this._gmailRouteProcessor.RouteTypes.SPACE:this._isMeetRoute()?this._gmailRouteProcessor.RouteTypes.MEET:this._gmailRouteProcessor.RouteTypes.UNKNOWN}_isThreadRoute(){return!!this._getThreadContainerElement()}_isListRoute(){return("CUSTOM_LIST"===this._type||this._gmailRouteProcessor.isListRouteName(this._name))&&!this._isThreadRoute()}_isSettingsRoute(){return this._gmailRouteProcessor.isSettingsRouteName(this._name)}_getSearchRouteParams(){return{query:this._paramsArray[0],includesDriveResults:"apps"===this._name,page:this._getPageParam()}}_getListRouteParams(){var e={page:this._getPageParam()};return this.getRouteID()===this._gmailRouteProcessor.NativeRouteIDs.LABEL&&this._paramsArray[0]&&(e.labelName=this._paramsArray[0]),e}_getThreadRouteParams(){if(this._paramsArray&&this._paramsArray.length>0){const e=Re()(this._paramsArray);if(e&&(16===e.length||"#"===e[0]))return{threadID:e.replace("#","")}}const e=this._getThreadContainerElement();let t;if(e)try{t=this.#t.getPageCommunicator().getCurrentThreadID(e)}catch(e){}return t||(t=(0,Oe.parse)(document.location.search,null,null).th||""),{threadID:t}}_getSettingsRouteParams(){return{tabName:this._paramsArray[0]}}_getPageParam(){for(var e=1;e<this._paramsArray.length;e++)if(this._paramsArray[e].match(/p\d+/))return parseInt(this._paramsArray[e].replace(/[a-zA-Z]/,""),10);return 1}getRouteID(){return this._customRouteID?this._customRouteID:this._isThreadRoute()?this._gmailRouteProcessor.NativeRouteIDs.THREAD:this._isChatWelcomeRoute()?this._gmailRouteProcessor.NativeRouteIDs.CHAT_WELCOME:this._isChatDmRoute()?this._gmailRouteProcessor.NativeRouteIDs.CHAT_DM:this._isSpacesWelcomeRoute()?this._gmailRouteProcessor.NativeRouteIDs.SPACES_WELCOME:this._isSpaceRoute()?this._gmailRouteProcessor.NativeRouteIDs.SPACE:this._gmailRouteProcessor.getRouteID(this._name)}refresh(){var e=oe.A.getToolbarElement().querySelector("div.T-I.nu");if(e){var t=document.activeElement,n=e.className;(0,b.jp)(e),e.className=n,t?t.focus():e.blur()}}setFullWidth(){}_extractParamKeysFromRouteID(e){return e.split("/").filter(e=>":"===e[0]).map(e=>e.substring(1))}_getThreadContainerElement(){return oe.A.getThreadContainerElement()}};var dt=n(8278),ht=n.n(dt);const pt=Object.freeze({destroy:Object.freeze(function(){})}),ft=new WeakMap;class mt{constructor(e,t){const n={driver:t,messagesByKey:new Map,queuedPackets:[]};ft.set(this,n)}showMessage(e){ht()(e,{priority:0,time:15e3,hideOnViewChanged:!0,persistent:!1}),this.hideMessage(e.messageKey);const t=(0,C.A)(ft,this),n=t.driver.getButterBarDriver(),r=Date.now()+"-"+Math.random();{let t=n.getSharedMessageQueue();if(t.unshift({messageId:r,priority:e.priority,persistent:e.persistent}),t=P()(t,e=>-e.priority),t=t.filter((e,t)=>0===t||e.persistent),n.setSharedMessageQueue(t),!l()(t,e=>e.messageId===r))return pt}const i=H()();e.hideOnViewChanged&&i.plug(u.default.later(0,null).flatMap(()=>t.driver.getRouteViewDriverStream().changes()).map(()=>null)),isFinite(e.time)&&i.plug(u.default.later(e.time,null));const o=new Error("Butter bar message timed out");i.plug(u.default.later(12e4,null).map(e=>(t.driver.getLogger().errorApp(o),e))),i.take(1).onValue(()=>{e.messageKey&&t.messagesByKey.delete(e.messageKey);const i=n.getSharedMessageQueue();n.setSharedMessageQueue(i.filter(e=>e.messageId!==r))}),n.getNoticeAvailableStream().toProperty(()=>null).takeUntilBy(i).filter(()=>{const e=n.getSharedMessageQueue();return e[0]||i.value(void 0),e[0]&&e[0].messageId===r}).onValue(()=>{const t=n.showMessage(e);i.take(1).onValue(()=>{t.destroy()})});const s={destroy(){i.value(void 0)}};return e.messageKey&&t.messagesByKey.set(e.messageKey,s),s}showLoading(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ht()(e,{text:"Loading...",priority:-3,time:1/0,persistent:!0,hideOnViewChanged:!0}),e.time=1/0,this.showMessage(e)}showError(e){return ht()(e,{priority:100,className:"inboxsdk__butterbar_error"}),this.showMessage(e)}showSaving(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ht()(e,{text:"Saving...",confirmationText:"Saved",confirmationTime:1e3,priority:-2,time:1/0,persistent:!0,hideOnViewChanged:!1,showConfirmation:!0});const t=this.showMessage(e),n=Ue();return n.promise.then(()=>{t.destroy(),e.showConfirmation&&this.showMessage({text:e.confirmationText,messageKey:e.messageKey,time:e.confirmationTime,priority:200})},()=>{t.destroy()}),n}hideMessage(e){if(e){const t=(0,C.A)(ft,this).messagesByKey.get(e);t&&t.destroy()}}hideGmailMessage(){(0,C.A)(ft,this).driver.getButterBarDriver().hideGmailMessage()}}var _t=n(1140),gt=n(1351);class bt extends r.A{destroyed=!1;constructor(e){super(),this._driver=e.driver,this._modalViewDriver=e.modalViewDriver,e.modalViewDriver.getEventStream().filter(e=>"closeClick"===e.eventName).onValue(()=>{this.close()}),e.modalViewDriver.getEventStream().onEnd(()=>{var e;this._modalViewDriver=null,this.destroyed=!0,e=this,At&&At.modalView===e?(At=null,wt.length>0?wt.pop().show():vt&&vt.destroy()):wt.indexOf(e)>-1&&wt.splice(wt.indexOf(e),1),this.emit("destroy")})}show(){const e=this._modalViewDriver;if(!e)throw new Error("Modal can not be shown after being hidden");const t=u.default.merge([u.default.fromEvents(this,"destroy"),yt.filter(e=>e===this)]);document.body.appendChild(e.getModalContainerElement()),e.getModalContainerElement().focus(),u.default.fromEvents(document.body,"keydown").filter(e=>27===e.keyCode).takeUntilBy(t).onValue(e=>{e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),this.close()}),function(e,t){At?(yt.emit(At.modalView),wt.push(At.modalView),At.modalViewDriver.getModalContainerElement().remove()):vt||(vt=e._driver.createBackdrop(502),vt.getStopper().onValue(()=>{vt=null,wt.slice().forEach(e=>{e.close()}),At&&At.modalView.close()})),At={modalView:e,modalViewDriver:t}}(this,e)}setTitle(e){if(!this._modalViewDriver)throw new Error("Modal can not be shown after being hidden");this._modalViewDriver.setTitle(e)}close(){this._modalViewDriver&&this._modalViewDriver.destroy()}addButton(){throw new Error("not implemented")}}let vt=null,At=null;const yt=H()(),wt=[],Ct=bt,xt=new WeakMap;class Et extends r.A{destroyed=!1;constructor(e){super();const t={driver:e.moleViewDriver};xt.set(this,t),t.driver.getEventStream().onValue(e=>{this.emit(e.eventName)}),t.driver.getEventStream().onEnd(()=>{this.destroyed=!0,this.emit("destroy")})}close(){(0,C.A)(xt,this).driver.destroy()}setTitle(e){(0,C.A)(xt,this).driver.setTitle(e)}setMinimized(e){(0,C.A)(xt,this).driver.setMinimized(e)}getMinimized(){return(0,C.A)(xt,this).driver.getMinimized()}}class kt extends r.A{destroyed=!1;constructor(e){super(),this._driver=e,this._driver.getSlideAnimationDone().onValue(()=>{this.emit("slideAnimationDone")}),this._driver.getClosingStream().onValue(()=>{this.emit("closing")}),this._driver.getClosedStream().onValue(()=>{this.destroyed=!0,this.emit("destroy")}),this._driver.getPreAutoCloseStream().onValue(e=>{this.emit("preautoclose",e)}),document.dispatchEvent(new CustomEvent("inboxSDKcloseDrawers",{bubbles:!1,cancelable:!1,detail:null})),u.default.fromEvents(document,"inboxSDKcloseDrawers").takeUntilBy(u.default.fromEvents(this,"closing")).onValue(()=>{this.close()})}close(){this._driver.close()}associateComposeView(e,t){if(!(e instanceof Te.A))throw new Error("argument was not a ComposeView");this._driver.associateComposeView(e,t)}disassociateComposeView(){this._driver.disassociateComposeView()}}const St=kt,It=new WeakMap;class Tt extends r.A{constructor(e){super();const t={driver:e.topMessageBarViewDriver};It.set(this,t)}remove(){(0,C.A)(It,this).driver.remove()}}const Dt=F()(()=>![...document.styleSheets].find(e=>{try{if(e.cssRules)return[...e.cssRules].find(e=>e instanceof CSSStyleRule&&".Hl"===e.selectorText&&"24px"===e.style.width)}catch(e){}return!1})),Bt=new Map,Mt=class{constructor(e,t){const n={driver:t};Bt.set(this,n)}showModalView(e){e.buttons&&(e.buttons=e.buttons.map(e=>{if(e.onClick){const t=e.onClick;return{...e,onClick(){t({modalView:r})}}}return e}));const{driver:t}=(0,C.A)(Bt,this),n=t.createModalViewDriver(e),r=new Ct({driver:t,modalViewDriver:n});return r.show(),r}showMoleView(e){const t=(0,C.A)(Bt,this).driver.createMoleViewDriver(e),n=new Et({moleViewDriver:t});return t.show(),n}showTopMessageBarView(e){const t=(0,C.A)(Bt,this).driver.createTopMessageBarDriver(E()(u.default,e));return new Tt({topMessageBarViewDriver:t})}showDrawerView(e){if((0,C.A)(Bt,this).driver.getLogger().eventSdkActive("Widgets.showDrawerView used",{keys:Object.keys(e)}),e.composeView&&!(e.composeView instanceof Te.A))throw new Error("composeView option was not a ComposeView");const t=(0,C.A)(Bt,this).driver.createDrawerViewDriver(e);return new St(t)}isMoleViewTitleBarLightColor(){return Dt()}},Nt=class{#t;#Un;constructor(e,t,n){this.#t=t,this.#Un=n}show(e){const t=this.#t;this.#Un.REQUESTED_API_VERSION<2&&t.getLogger().deprecationWarning("Modal.show","Widgets.showModalView");const n=t.createModalViewDriver(e),r=new Ct({driver:t,modalViewDriver:n});return r.show(),r}createModalView(e){const t=this.#t;t.getLogger().deprecationWarning("Modal.createModalView","Widgets.showModalView");const n=t.createModalViewDriver(e);return new Ct({driver:t,modalViewDriver:n})}},Lt=new WeakMap;class Vt{ActionButtonTypes=Rt;constructor(e,t,n){const r={appId:e,driver:t,membrane:n,threadRowViewRegistry:new D.A};Lt.set(this,r),t.getStopper().onValue(()=>{r.threadRowViewRegistry.dumpHandlers()}),r.driver.getThreadRowViewDriverStream().onValue(e=>{const t=n.get(e);r.threadRowViewRegistry.addTarget(t)})}registerThreadRowViewHandler(e){return(0,C.A)(Lt,this).threadRowViewRegistry.registerHandler(e)}getSelectedThreadRowViews(){const e=(0,C.A)(Lt,this);return e.driver.getSelectedThreadRowViewDrivers().map(t=>e.membrane.get(t))}registerThreadRowViewSelectionHandler(e){return(0,C.A)(Lt,this).driver.registerThreadRowViewSelectionHandler(e)}}const Rt=Object.freeze({LINK:"LINK",DROPDOWN:"DROPDOWN",ACTION:"ACTION"});var Ot=n(1470),Pt=n.n(Ot);const jt=Object.freeze({NAVIGATION:"NAVIGATION",LINK:"LINK",GROUPER:"GROUPER",MANAGE:"MANAGE",SECTION:"SECTION"});class Ft extends r.A{#Se;#t;#Hn;#zn=[];#qn=null;#Wn;destroyed=!1;constructor(e,t,n,r){super(),this.#Se=e,this.#t=t,this.#Hn=n,this.#Wn=r,t.getStopper().onValue(this.remove.bind(this)),r.then(e=>{if(this.destroyed||!e)return;const t=this.#t;this.#qn=e,this.#Hn.sampledBy(e.getEventStream(),(e,t)=>[e,t]).onValue(t=>this.#Yn(e,t)),u.default.combine([this.#Hn,t.getRouteViewDriverStream()]).takeUntilBy(e.getEventStream().filter(()=>!1).beforeEnd(()=>null)).onValue(t=>{!function(e,t){let[n,r]=t,i=!1;n&&(i=[{routeID:n.routeID,routeParams:n.routeParams},...n.secondaryRoutes||[]].some(e=>r.getRouteID()===e.routeID&&Pt()(r.getParams(),e.routeParams||{}))),e.setActive(i)}(e,t)}),this.emit("inserted")})}addNavItem(e){if(this.destroyed)throw new Error("this nav item view does not exist");const t=this.#t,n=this.#Se,r=this.#zn,i=E()(u.default,e).toProperty(),o=new Ft(n,t,i,this.#Wn.then(e=>e.addNavItem(this.#Se,i)));return r.push(o),o}remove(){if(this.destroyed)return;const e=this.#zn;this.destroyed=!0,this.emit("destroy"),e.forEach(function(e){e.remove()}),this.#Wn.then(e=>{e.destroy()})}isCollapsed(){const e=this.#qn;return!!e&&e.isCollapsed()}setCollapsed(e){this.#Wn.then(t=>{t.setCollapsed(e)})}getElement(){return this.#Wn.then(e=>e.getElement())}#Yn(e,t){let[n,r]=t;switch(r.eventName){case"click":if(n.type===jt.GROUPER)return;if("function"==typeof n.onClick){let e=!1;const t={preventDefault(){e=!0}};if(n.onClick(t),e)break}n.routeID?this.#t.goto(n.routeID,n.routeParams):e.toggleCollapse();break;case"expanded":case"collapsed":this.emit(r.eventName)}}}const Ut=new WeakMap;class Ht extends r.A{constructor(e,t,n,r){super();const i={appId:e,driver:t,labelName:n,navItemViews:[],navItemViewDriver:null,navItemViewDriverPromise:r};Ut.set(this,i),r.then(e=>{e&&(i.navItemViewDriver=e,e.getEventStream().onValue(e=>function(e,t){switch(t.eventName){case"expanded":case"collapsed":e.emit(t.eventName)}}(this,e)),this.emit("inserted"))})}addNavItem(e){const t=(0,C.A)(Ut,this),n=E()(u,e).toProperty(),r=new Ft(t.appId,t.driver,n,t.navItemViewDriverPromise.then(e=>e.addNavItem(t.appId,n)));return t.navItemViews.push(r),r}isCollapsed(){return"collapsed"===localStorage.getItem("inboxsdk__nativeNavItem__state_"+(0,C.A)(Ut,this).labelName)}setCollapsed(e){const t=(0,C.A)(Ut,this);t.navItemViewDriver?t.navItemViewDriver.setCollapsed(e):localStorage.setItem("inboxsdk__nativeNavItem__state_"+t.labelName,e?"collapsed":"expanded")}}const zt=new WeakMap;class qt{NavItemTypes=jt;constructor(e,t){const n={appId:e,driver:t,navItemViews:[]};zt.set(this,n),this.SENT_MAIL=function(e,t){return new Ht(e,t,"sent",t.getSentMailNativeNavItem())}(e,t)}addNavItem(e){const t=(0,C.A)(zt,this),n=E()(u.default,e).toProperty(),r=new Ft(t.appId,t.driver,n,t.driver.addNavItem(t.appId,n));return t.navItemViews.push(r),r}static SENT_MAIL=null}var Wt=n(5755),Yt=n.n(Wt),Gt=n(4785);const Qt=/^rgba?\s*\(\s*(\d+),\s*(\d+),\s*(\d+)\s*(,\s*(0\.)?\d+)?\)/,$t=".aio";function Kt(){return document.querySelector($t)}function Jt(e){const t=Qt.exec(e);if(t)return{r:+t[1],g:+t[2],b:+t[3]};q.A.error(new Error("Failed to read color string"),{colorString:e})}function Zt(){const e=Kt();if(!e)return q.A.error(new Error("Failed to find nav item")),!1;const t=getComputedStyle(e).getPropertyValue("color"),{r:n}=Jt(t)??{};return void 0!==n&&n>128}const Xt=H()();var en=n(5215),tn=n.n(en);const nn="Xa",rn="inboxsdk__appMenuItem",on=`${nn} ${rn}`,sn="V6 CL",an=".V6.CL";class ln extends Gt.EventEmitter{static elementCss={HOVER:"aIk",ACTIVE:"apV",SDK_ACTIVE:"inboxsdk__appMenuItem_active"};#Gn;#R;#ne=!1;#t;get element(){return this.#R}set menuItemDescriptor(e){this.#Gn=e,this.#Qn()}get menuItemDescriptor(){return this.#Gn}constructor(e,t){super(),this.#R=this.#g(),this.#t=e,this.#Gn=t,this.#Qn(),Xt.skipDuplicates((e,t)=>tn()(e,t)).onValue(e=>{let{type:t}=e;"theme"===t&&this.#Qn()}),e.getStopper().onValue(()=>this.remove()),this.#R.addEventListener("click",e=>this.#$n(e)),this.#R.addEventListener("mouseleave",this.#Kn),(0,m.A)(this.#R,an).addEventListener("mouseenter",this.#Jn)}remove(){this.#ne||(this.#ne=!0,this.element?.remove(),this.emit("destroy"))}#g(){const e=document.createElement("div");return e.className=on,e.innerHTML=`\n      <div class="${sn}" aria-label="" role="link" tabindex="-1"></div>\n      <div class="apW" role="heading" aria-level="2"></div>\n    `.trim(),e}#Qn(){const e=this.element;if(!e)return;const t=Object.values(ln.elementCss).filter(t=>e.classList.contains(t));e.className=Yt()(on,this.#Gn?.className,...t),this.#Zn(e),this.#Xn(e),this.#er(e)}#Zn(e){(0,m.A)(e,".apW").textContent=this.#Gn?.name??""}static#tr=new Set;#Xn(e){const t=(0,m.A)(e,an),{iconUrl:n,iconClassName:r}=this.#Gn??{};if(n){const e=oe.A.isDarkTheme()?n.darkTheme:n.lightTheme;if(!e)return;const r="string"==typeof e?e:e.default,o="string"==typeof e?e:e.active;for(const e of[r,o])if(!ln.#tr.has(e)){ln.#tr.add(e);var i=document.createElement("link");i.rel="preload",i.as="image",i.href=e,document.head.appendChild(i)}t.style.setProperty("--background-image",`url(${r})`),t.style.setProperty("--background-image--active",`url(${o})`)}t.className=Yt()(sn,r)}#er(e){(0,m.A)(e,an).setAttribute("aria-label",this.#Gn?.name??"")}#$n(e){this.emit("click",e),this.#Gn?.onClick?.(e),this.#Gn?.routeID&&this.#t.goto(this.#Gn.routeID,this.#Gn.routeParams)}#Kn=e=>{this.emit("blur",e)};#Jn=e=>{this.emit("hover",e),this.#Gn?.onHover?.(e)}}const un="aqn",cn=`${un} inboxsdk__collapsiblePanel oy8Mbf`,dn="inboxsdk__collapsiblePanel_navItems",hn="T-I T-I-KE L3",pn=".T-I.T-I-KE.L3",fn="inboxsdk__collapsiblePanel_loading_container",mn=`${fn}--active`,_n=`.${fn}`,gn=`.${dn}`;class bn extends r.A{static elementSelectors={NATIVE:".aqn.oy8Mbf",CUSTOM:".inboxsdk__collapsiblePanel"};static elementCss={ACTIVE:"apV",COLLAPSED:"aBA",HOVER:"aJu",COLLAPSED_HOVER:"bym",PANEL_LESS:"a3W",TOGGLE_OPEN_STATE:"aak",SDK_ACTIVE:"inboxsdk__collapsiblePanel_active"};#nr;#R;#ne=!1;#rr=Math.random().toFixed(3);#t;#ir;#or=`collapsible-panel-${this.#rr}-nav-item`;get loading(){return this.#ir}setLoading(e){const t=this.#ir!==e;this.#ir=e,t&&this.#Qn()}get panelDescriptor(){return this.#nr}set panelDescriptor(e){this.#nr=e,this.#Qn()}get element(){return this.#R}get scrollablePaneElement(){return this.element.querySelector(".at9")}constructor(e,t){super(),this.#t=e,this.#nr=t,this.#ir=null!=t.loadingIcon,this.#R=this.#g(),this.#R.addEventListener("mouseleave",e=>{this.emit("blur",e)}),Xt.skipDuplicates((e,t)=>tn()(e,t)).onValue(e=>{let{type:t}=e;"theme"===t&&this.#Qn()})}remove(){this.#ne||(this.#ne=!0,this.element.remove(),this.emit("destroy"))}addNavItem(e){this.setLoading(!1);const{element:t}=this,n=this.#or,r=E()(u,e).toProperty(),i=this.#t.addNavItemToPanel(n,r,t);return new Ft(n,this.#t,r,i)}#sr(){const{iconUrl:e}=this.panelDescriptor.primaryButton??{};if(!e)return;const t=oe.A.isDarkTheme()?e.darkTheme:e.lightTheme;return t?"string"==typeof t?{panelHovered:t,panelDefault:t}:{panelDefault:t.panelDefault,panelHovered:t.panelHovered}:void 0}#g(){const{panelDescriptor:e}=this,{loadingIcon:t}=e,{className:n,name:r=""}=e?.primaryButton??{},i=document.createElement("div");i.className=Yt()(cn,this.panelDescriptor.className);const o=Yt()(hn,n),s=Yt()(fn,{[mn]:this.#ir}),{panelDefault:a,panelHovered:l}=this.#sr()??{};i.innerHTML=p()`
      <div class="aBO">
        <div class="aic">
          <div class="z0">
            <div class="${o}" style="user-select: none" role="button" tabindex="0">
              ${r}
            </div>
          </div>
        </div>
        <div class="${"at9"}">
          <div class="${s}">${t?{__html:t}:""}</div>
          <div class="Ls77Lb aZ6">
            <div class="pp" style="user-select: none;">
              <div>
                <div class="${`nM ${dn}`}">
                  <div class="aic"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="aTV"></div>
    `.trim();const u=(0,m.A)(i,pn);return u.style.setProperty("--background-image",a?`url(${a})`:"unset"),u.style.setProperty("--background-image--hover",l?`url(${l})`:"unset"),u.addEventListener("click",this.#ar),i}#ar=e=>{this.panelDescriptor.primaryButton?.onClick?.(e)};#Qn(){const e=this.element;if(!e)return;const t=Object.values(bn.elementCss).filter(t=>e.classList.contains(t));e.className=Yt()(cn,this.panelDescriptor.className,...t),this.#Zn(e),this.#Xn(e),this.#lr(e)}static#tr=new Set;#Xn(e){const t=(0,m.A)(e,pn),{panelDefault:n,panelHovered:r}=this.#sr()??{};for(const e of[r,n])if(e&&!bn.#tr.has(e)){bn.#tr.add(e);var i=document.createElement("link");i.rel="preload",i.as="image",i.href=e,document.head.appendChild(i)}for(const[e,i]of Object.entries({"--background-image--hover":r,"--background-image":n}))i?t.style.setProperty(e,`url(${i})`):t.style.removeProperty(e);const{className:o}=this.panelDescriptor.primaryButton??{};t.className=Yt()(hn,o)}#Zn(e){const t=e.querySelector(pn);t&&(t.textContent=this.panelDescriptor.primaryButton?.name??"")}#lr(e){const t=e.querySelector(_n);t&&(this.loading?t.classList.add(mn):t.classList.remove(mn))}}const vn=F()(async()=>{if(!oe.A.isStandalone())try{return await(0,v.A)(()=>oe.A.getAppMenuContainer())}catch(e){q.A.error(e)}});var An=function(e){return e.MAIL="XJ",e.CHAT="ao4",e.SPACES="aIt",e.MEET="adZ",e}(An||{});const yn=new Map([[An.MAIL,"aIH"],[An.CHAT,"arL"],[An.SPACES,"arM"],[An.MEET,void 0]]),wn=Object.fromEntries([...["inbox/:page"].map(e=>[e,An.MAIL]),...["chat/welcome","chat/dm/:chatID"].map(e=>[e,An.CHAT]),...["rooms/welcome","chat/space/:spaceID"].map(e=>[e,An.SPACES]),...["calls"].map(e=>[e,An.MEET])]);class Cn extends r.A{static#ur=u.default.pool();static#cr=H()();static#dr=Ue();static#hr;static#pr=new Map;static#fr=new Set;static getAllPanels(){const e=oe.A.getAppMenuContainer(),t=e?.querySelectorAll(`.${un}`);return Array.from(t??[])}static getActivePanel(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=oe.A.getAppMenuContainer(),{ACTIVE:n,SDK_ACTIVE:r}=bn.elementCss,i=t?.querySelector(e?`.${un}.${n}.${r}`:`.${un}.${n}`);return i}static deactivatePanel(e){const{ACTIVE:t,HOVER:n,SDK_ACTIVE:r}=bn.elementCss;e.style.removeProperty("height"),e.classList.contains(n)&&e.classList.remove(n),e.classList.contains(t)&&e.classList.remove(t),e.classList.contains(r)&&e.classList.remove(r)}static isMenuItem(e){return e.classList.contains(nn)}static getAllMenuItems(){const e=oe.A.getAppMenuContainer();return Array.from(e?.querySelectorAll(`.${nn}`)??[])}static getActiveMenuItem(){const e=oe.A.getAppMenuContainer(),{ACTIVE:t,SDK_ACTIVE:n}=ln.elementCss,r=e?.querySelector(`.${nn}.${t}.${n}`);return r}static deactivateMenuItem(e){const{ACTIVE:t,HOVER:n,SDK_ACTIVE:r}=ln.elementCss;e.classList.contains(n)&&e.classList.remove(n),e.classList.contains(t)&&e.classList.remove(t),e.classList.contains(r)&&e.classList.remove(r)}static#mr(){return!Cn.getActivePanel(!1)}static#_r(){const e=oe.A.getAppMenu();for(const t of e?.querySelectorAll(`.${nn}`)??[]){const e=Cn.#pr.get(t);if(!e)continue;const n=e?.querySelector("* > .aTV"),r=t?.querySelector(".V6"),i=r?.getBoundingClientRect(),o=(r?.offsetTop??0)+.5*(i?.height??0)-17*Math.sqrt(2)/4;n&&o&&(n.style.top=`${o}px`)}}static#gr(){if(document.querySelector(".inboxsdk__menu"))return!0;const e=document.querySelector(".JM");if(e&&"none"!==e.style.display)return!0;const t=document.querySelector(".tP");return!(!t||"none"===t.style.display)}static#br(e){Cn.#hr||(Cn.#hr=e.getRouteViewDriverStream(),Cn.#hr.onValue(async e=>{const t=e.getRouteID(),n=e.getRouteType(),r=Array.from(Cn.#fr,async e=>{const t=await e.#vr;return[t.menuItemDescriptor,t]}),i=await Promise.all(r),[,o]=i.find(t=>{let[n]=t;return n?.isRouteActive(e)})??[];if(o?.element)return void Cn.#cr.emit(["route-activated",o.element]);let s="";t&&(s=wn[t]),t&&s||"CUSTOM"===n||(s=An.MAIL);const a=s&&document.querySelector(`.${s}`);a&&Cn.#cr.emit(["route-activated",a])}))}static#Ar=async function(){if(await oe.A.getAppMenuAsync()){Cn.#ur.plug(Cn.#cr);for(const[e,t]of yn){const n=document.querySelector(`.${nn}.${e}`),r=t?document.querySelector(`.${un}.${t}`):null;n&&Cn.#pr.set(n,r??void 0)}}}();static#yr=Cn.#dr.promise.then(()=>{const e=oe.A.getAppMenuContainer();for(const t of e?.querySelectorAll(`.${nn}:not(.${rn})`)??[]){const e=t.querySelector(".V6.CL");e?.addEventListener("mouseenter",e=>{e.stopImmediatePropagation(),Cn.#cr.emit(["mouseenter",t,e])},!0),t.addEventListener("mouseleave",e=>{e.stopImmediatePropagation(),Cn.#cr.emit(["mouseleave",t,e])},!0),t.addEventListener("click",()=>{Cn.#cr.emit(["click",t])});const n=Cn.#pr.get(t);n?.addEventListener("mouseleave",e=>{e.stopImmediatePropagation(),Cn.#cr.emit(["mouseleave",t,e])})}});static#wr=Cn.#ur.onValue(async e=>{const[t,n,r]=e,{HOVER:i}=ln.elementCss;function o(){const e=oe.A.getAppMenuContainer();for(const t of e?.querySelectorAll(`.${nn}`)??[]){Cn.deactivateMenuItem(t);const e=t.querySelector(an);e&&(e.tabIndex=t===n?0:-1)}!function(e){const{ACTIVE:t,SDK_ACTIVE:n}=ln.elementCss;e.classList.contains(t)||e.classList.add(t),e.classList.contains(n)||e.classList.add(n)}(n);const t=Cn.#pr.get(n);if(t){const e=Cn.getAllPanels().filter(e=>e!==t);for(const t of e)Cn.deactivatePanel(t);xn(t)}}switch(t){case"mouseenter":{const e=Cn.#pr.get(n),t=Cn.getActiveMenuItem(),r=Cn.getActivePanel(),o=oe.A.isAppBurgerMenuOpen();if(t===n&&r===e&&o)return;if(r&&Cn.deactivatePanel(r),e){const t=window.innerHeight-e.getBoundingClientRect().top;if(e.style.cssText=`height: ${t}px;`,xn(e,{hover:!0}),n.classList.contains(i)||n.classList.add(i),!o)for(const e of document.querySelectorAll(bn.elementSelectors.NATIVE)??[])e.classList.add(bn.elementCss.COLLAPSED_HOVER)}else{const e=t&&Cn.#pr.get(t);e&&xn(e)}break}case"mouseleave":{if(Cn.#gr())return;const e=Cn.getActiveMenuItem(),t=Cn.getActivePanel(),o=e&&Cn.#pr.get(e);if(r.relatedTarget instanceof Node&&(n.contains(r.relatedTarget)||t?.contains(r.relatedTarget)))return;const s=oe.A.isAppBurgerMenuOpen();if(t===o&&s)return;n.classList.contains(i)&&n.classList.remove(i);for(const e of document.querySelectorAll(bn.elementSelectors.NATIVE)??[])e.classList.remove(bn.elementCss.COLLAPSED_HOVER);t&&Cn.deactivatePanel(t),o&&xn(o);break}case"click":{o();const e=Cn.#mr();for(const t of document.querySelectorAll(bn.elementSelectors.NATIVE)??[])t.classList.toggle(bn.elementCss.PANEL_LESS,e);oe.A.getAppMenu()?.classList.toggle("aTO",e),oe.A.getAppHeader()?.classList.toggle("aTO",e);break}case"route-activated":o()}});get menuItemDescriptor(){return this.#Gn}#t;#ne=!1;#vr;#Cr;#Gn;constructor(e,t){super(),this.#t=e,this.#Gn=t;const n=this.#t.addAppMenuItem(t);this.#vr=n,n.then(e=>{if(this.#ne||!e)return;const t=e.element;t&&(Cn.#pr.set(t,void 0),Cn.#_r()),e.on("destroy",()=>{this.remove()}),e.on("click",()=>{Cn.#cr.emit(["click",t]),this.emit("click")}),e.on("hover",e=>{Cn.#cr.emit(["mouseenter",t,e]),this.emit("hover")}),e.on("blur",e=>{Cn.#cr.emit(["mouseleave",t,e]),this.emit("blur")})}),Cn.#br(e),Cn.#dr.resolve(void 0),Cn.#fr.add(this)}async addCollapsiblePanel(e){const t={...e,className:Yt()(e.className,{[bn.elementCss.COLLAPSED]:!oe.A.isAppBurgerMenuOpen(),[bn.elementCss.PANEL_LESS]:Cn.#mr()})},n=await async function(e,t,n){const r=await vn(),i=new bn(e,t);if(!r||!i.element)return;if(!await oe.A.getAppMenuAsync())return;const o=r.querySelectorAll(bn.elementSelectors.NATIVE)??[],s=Number.isInteger(n)?o[n]??null:null;return s?s.insertAdjacentElement("beforebegin",i.element):[...o].at(-1)?.insertAdjacentElement("afterend",i.element),i}(this.#t,t,this.menuItemDescriptor.insertIndex);return n&&this.#vr.then(e=>{const t=e.element;t&&(n.on("blur",e=>{Cn.#cr.value(["mouseleave",t,e])}),Cn.#pr.set(t,n.element),Cn.#_r())}),this.#Cr=n,n}async update(e){(await this.#vr).menuItemDescriptor=e,this.#Gn=e}remove(){this.#ne||(this.#ne=!0,this.emit("destroy"),this.#Cr?.remove(),this.#vr.then(e=>{e.element&&Cn.#pr.delete(e.element),e.remove(),Cn.#_r()}),Cn.#fr.delete(this))}}function xn(e,t){const{ACTIVE:n,HOVER:r,SDK_ACTIVE:i}=bn.elementCss;e.classList.contains(n)||e.classList.add(n),e.classList.contains(i)||e.classList.add(i),t?.hover?e.classList.contains(r)||e.classList.add(r):e.classList.contains(r)&&e.classList.remove(r)}class En{#t;#xr=(0,u.stream)(e=>{(async()=>{if(!await this.isShown())return;const t=await oe.A.getAppMenuAsync();t&&u.default.merge(["transitionstart","transitioncancel","transitionend"].map(e=>u.default.fromEvents(t.parentElement,e))).onValue(async t=>{const{TOGGLE_OPEN_STATE:n}=bn.elementCss,{target:r,type:i}=t;r instanceof HTMLElement&&r.matches(bn.elementSelectors.NATIVE)&&("transitionstart"===i&&r.classList.contains(n)||"transitioncancel"===i||"transitionend"===i)&&e.emit({name:"collapseToggled",event:t})})})()});constructor(e){this.#t=e,En.#Er()}get events(){return this.#xr}isMenuOpen(){return oe.A.isAppBurgerMenuOpen()}addMenuItem(e){return new Cn(this.#t,e)}async isShown(){return!!await oe.A.getAppMenuAsync()}static#kr=!1;static async#Er(){this.#kr||(this.#kr=!0,u.default.fromPromise(oe.A.getAppMenuAsync()).filter(at.A).flatMap(e=>(0,K.A)(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]}).delay(0)).filter(e=>e.some(e=>e.target instanceof HTMLElement&&Cn.isMenuItem(e.target))).throttle(10,{leading:!0,trailing:!0}).map(()=>{const e=Cn.getActiveMenuItem();e&&Cn.getAllMenuItems().filter(t=>t!==e).map(e=>Cn.deactivateMenuItem(e));const t=Cn.getActivePanel();t&&Cn.getAllPanels().filter(e=>e!==t).map(e=>Cn.deactivatePanel(e))}).onValue(()=>{}))}}var kn=n(4225),Sn=n.n(kn);class In extends r.A{#Sr;constructor(e,t){super(),this.#Sr=e,this.destroyed=!1,function(e,t,n){t.eventStream.onValue(t=>{if(!("eventName"in t))return;const{eventName:n}=t;e.emit(n)}),t.eventStream.onValue(e=>{if(!("eventName"in e)||"rowClicked"!==e.eventName)return;const{rowDescriptor:t}=e;t.routeID&&n.goto(t.routeID,t.routeParams),"function"==typeof t.onClick&&t.onClick()}),t.eventStream.onValue(t=>{if(!("eventName"in t)||"titleLinkClicked"!==t.eventName)return;const{sectionDescriptor:n}=t;n.onTitleLinkClick&&n.onTitleLinkClick(e)}),t.eventStream.onValue(t=>{if(!("eventName"in t)||"footerClicked"!==t.eventName)return;const{sectionDescriptor:n}=t;n.onFooterLinkClick&&n.onFooterLinkClick(e)}),t.eventStream.onEnd(()=>{e.destroyed=!0,e.emit("destroy")})}(this,e,t)}setCollapsed(e){this.#Sr.setCollapsed(e)}remove(){this.destroy()}destroy(){this.#Sr.destroy(),this.removeAllListeners()}}const Tn=In;class Dn extends r.A{#Ir;constructor(e,t){super(),this.#Ir=e,this.destroyed=!1,function(e,t,n){t.eventStream.onValue(t=>{null!=t&&"eventName"in t&&e.emit(t.eventName)}),t.eventStream.onValue(e=>{if(!("eventName"in e)||"rowClicked"!==e.eventName)return;const{rowDescriptor:t}=e;t.routeID&&n.goto(t.routeID,t.routeParams),"function"==typeof t.onClick&&t.onClick()}),t.eventStream.onValue(t=>{if(!("eventName"in t)||"titleLinkClicked"!==t.eventName)return;const{sectionDescriptor:n}=t;n.onTitleLinkClick&&n.onTitleLinkClick(e)}),t.eventStream.onValue(t=>{if(!("eventName"in t)||"footerClicked"!==t.eventName)return;const{sectionDescriptor:n}=t;n?.onFooterLinkClick&&n.onFooterLinkClick(e)}),t.eventStream.onEnd(()=>{e.destroyed=!0,e.emit("destroy")})}(this,e,t)}remove(){this.destroy()}destroy(){this.#Ir.destroy(),this.removeAllListeners()}}const Bn=Dn;class Mn extends Me.A{#mt;#t;#Se;#Tr=[];constructor(e,t,n){super(e),this.#mt=e,this.#t=t,this.#Se=n,this.#Ve()}addCollapsibleSection(e){const t=this.#mt.addCollapsibleSection(E()(u.default,e).toProperty(),this.#Se),n=new Tn(t,this.#t);return this.#Tr.push(n),n}addSection(e){const t=this.#mt.addSection(E()(u.default,e).toProperty(),this.#Se),n=new Bn(t,this.#t);return this.#Tr.push(n),n}hideSearchPageFilterToolbar(){this.#mt.hideSearchPageFilterToolbar()}refresh(){this.#mt.refresh()}#Ve(){this.#mt.getEventStream().onEnd(()=>{this.#Tr.forEach(e=>{e.destroy()})})}}const Nn=Mn;var Ln=n(6341),Vn=n(6280);const Rn=class{NativeRouteIDs=Vn.Vi;NativeListRouteIDs=Vn.Kc;RouteTypes=Vn.Cs;#Se;#t;#Dr;#Br;#Mr=[];#De;#Nr={};constructor(e,t,n){this.#Se=e,this.#t=t,this.#Dr=new Be,this.#Br=new D.A,this.#De=n,Object.values(Vn.Kc).forEach(e=>{this.#Nr[e]=new D.A}),t.getRouteViewDriverStream().onValue(e=>{t.getLogger().trackFunctionPerformance(()=>this.#Lr(e),.01,{type:"handleRouteViewChange",routeID:e.getRouteID()})}),t.getStopper().onValue(()=>{this.#Br.dumpHandlers(),Object.values(this.#Nr).forEach(e=>{e.dumpHandlers()})})}createLink(e,t){return this.#t.createLink(e,t)}goto(e,t){if("string"!=typeof e)throw new Error("routeID must be a string");const n=this.#t;return"string"==typeof t&&n.getLogger().deprecationWarning("Router.goto param string","param object (e.g. {param: value})"),n.goto(e,t)}handleCustomRoute(e,t){const n={routeID:e,onActivate:t},r=this.#t.addCustomRouteID(e),i=this.#Mr,o=this.#t;return i.push(n),o.getLogger().eventSdkPassive("Router.handleCustomRoute"),function(){r();const e=i.indexOf(n);e>-1&&i.splice(e,1)}}handleAllRoutes(e){return this.#Br.registerHandler(e)}handleListRoute(e,t){const n=this.#Nr;if(!n[e])throw new Error("Invalid routeID specified");return n[e].registerHandler(t)}handleCustomListRoute(e,t){return this.#t.addCustomListRouteID(e,t)}getCurrentRouteView(){return this.#De.get(this.#Dr)}#Lr(e){this.#Dr instanceof Be&&this.#Dr.destroy(),this.#Dr=e;const t=this.#De.get(e);if(this.#Vr(e),t.getRouteType()===Vn.Cs.CUSTOM&&this.#Rr(e,t),this.#Br.addTarget(t),t.getRouteType()===Vn.Cs.LIST){const n=new Nn(e,this.#t,this.#Se),r=this.#Nr[t.getRouteID()];r&&r.addTarget(n),this.#Nr[Vn.Vi.ANY_LIST].addTarget(n)}}#Rr(e,t){const n=t.getRouteID(),r=Array.isArray(n)?n:[n],i=this.#Mr.find(e=>Sn()(Array.isArray(e.routeID)?e.routeID:[e.routeID],r).length);if(i){const t=new Ln.A(e),n=e.getCustomViewElement();if(!n)throw new Error("should not happen");this.#t.showCustomRouteView(n);try{i.onActivate(t)}catch(e){this.#t.getLogger().error(e)}}}#Vr(e){this.#t.setShowNativeNavMarker(e.getType()!==Vn.Cs.CUSTOM),this.#t.setShowNativeAddonSidebar(e.getType()!==Vn.Cs.CUSTOM)}};class On{#t;constructor(e,t){this.#t=t}registerSearchSuggestionsProvider(e){if("function"!=typeof e)throw new Error("Incorrect arguments");this.#t.registerSearchSuggestionsProvider(e)}registerSearchQueryRewriter(e){if("function"!=typeof e.termReplacer||"string"!=typeof e.term)throw new Error("Incorrect arguments");if(!e.term.match(/^(app|has):/))throw new Error("Custom search term must begin with 'app:'");this.#t.registerSearchQueryRewriter(e)}}const Pn=new WeakMap;class jn extends r.A{constructor(e,t){super();const n={appToolbarButtonViewDriverPromise:t,appToolbarButtonViewDriver:null};Pn.set(this,n),this.destroyed=!1,n.appToolbarButtonViewDriverPromise.then(e=>{n.appToolbarButtonViewDriver=e,e.getStopper().onValue(()=>{this.destroyed=!0,this.emit("destroy")})}),e.getStopper().onValue(()=>{this.remove()})}open(){(0,C.A)(Pn,this).appToolbarButtonViewDriverPromise.then(function(e){e.open()})}close(){(0,C.A)(Pn,this).appToolbarButtonViewDriverPromise.then(function(e){e.close()})}remove(){(0,C.A)(Pn,this).appToolbarButtonViewDriverPromise.then(function(e){e.destroy()})}}class Fn extends r.A{#t;#De;#Un;SectionNames=ye;constructor(e,t,n,r){super(),this.#t=t,this.#De=n,this.#Un=r}registerThreadButton(e){"OTHER"!==e.listSection&&"OTHER"!==e.threadSection||!e.hasDropdown||(this.#t.getLogger().errorApp(new Error("registerThreadButton does not support listSection=OTHER or threadSection=OTHER and hasDropdown=true together")),e={...e,hasDropdown:!1});const{hideFor:t,...n}=e,r=()=>this.#t.registerThreadButton({...n,onClick:e=>{n.onClick&&n.onClick({position:e.position,dropdown:e.dropdown,selectedThreadViews:e.selectedThreadViewDrivers.map(e=>this.#De.get(e)),selectedThreadRowViews:e.selectedThreadRowViewDrivers.map(e=>this.#De.get(e))})}});if(t){const e=d()();let n=null;return this.#t.getRouteViewDriverStream().takeUntilBy(e).onValue(e=>{const i=this.#De.get(e);t(i)?n&&(n(),n=null):n||(n=r())}),()=>{e.destroy(),n&&(n(),n=null)}}return r()}registerToolbarButtonForList(e){return this.registerThreadButton({positions:["LIST"],listSection:e.section,title:e.title,iconUrl:e.iconUrl,iconClass:e.iconClass,onClick:t=>{if(!e.onClick)return;const n=this.#t;e.onClick({dropdown:t.dropdown,selectedThreadRowViews:t.selectedThreadRowViews,get threadRowViews(){return n.getLogger().deprecationWarning("Toolbars.registerToolbarButtonForList onClick event.threadRowViews","Toolbars.registerToolbarButtonForList onClick event.selectedThreadRowViews"),t.selectedThreadRowViews}})},hasDropdown:e.hasDropdown,orderHint:e.orderHint,hideFor:e.hideFor,keyboardShortcutHandle:e.keyboardShortcutHandle})}registerToolbarButtonForThreadView(e){return this.registerThreadButton({positions:["THREAD"],threadSection:e.section,title:e.title,iconUrl:e.iconUrl,iconClass:e.iconClass,onClick:t=>{if(1!==t.selectedThreadViews.length)throw new Error("should not happen");e.onClick&&e.onClick({dropdown:t.dropdown,threadView:t.selectedThreadViews[0]})},hasDropdown:e.hasDropdown,orderHint:e.orderHint,hideFor:e.hideFor,keyboardShortcutHandle:e.keyboardShortcutHandle})}setAppToolbarButton(e){if(this.#t.getLogger().deprecationWarning("Toolbars.setAppToolbarButton","Toolbars.addToolbarButtonForApp"),1!==this.#Un.REQUESTED_API_VERSION)throw new Error("This method was discontinued after API version 1");return this.addToolbarButtonForApp(e)}addToolbarButtonForApp(e){const t=E()(u.default,e),n=this.#t.addToolbarButtonForApp(t);return new jn(this.#t,n)}}class Un{#t;#Un;constructor(e,t){this.#t=e,this.#Un=t}getEmailAddress(){return this.#t.getUserEmailAddress()}isConversationViewDisabled(){return this.#t.isConversationViewDisabled()}isUsingGmailMaterialUI(){return this.#t.getLogger().deprecationWarning("User.isUsingGmailMaterialUI"),!0}getLanguage(){return this.#t.getUserLanguage()}getUserContact(){if(this.#t.getLogger().deprecationWarning("User.getUserContact","User.getEmailAddress"),1!==this.#Un.REQUESTED_API_VERSION)throw new Error("This method was discontinued after API version 1");return this.#t.getUserContact()}getAccountSwitcherContactList(){this.#t.getLogger().deprecationWarning("User.getAccountSwitcherContactList","User.getEmailAddress");let e=this.#t.getAccountSwitcherContactList();const t=this.getEmailAddress();return!!l()(e,e=>e.emailAddress===t)||(e=e.concat([{name:t,emailAddress:t}])),e}getPersonDetails(e){return this.#t.getPersonDetails(e)}}class Hn{#t;constructor(e,t){this.#t=t}get gmailTheme(){return this.#t.gmailTheme}async addSidebarContentPanel(e){const t=E()(u.default,e).toProperty();this.#t.getLogger().eventSdkPassive("global.addSidebarContentPanel");const n=await this.#t.addGlobalSidebarContentPanel(t);return n?new S(n):null}addSupportItem(e){return this.#t.getLogger().eventSdkPassive("global.addSupportItem"),this.#t.addSupportItem(e)}}var zn=n(3507),qn=n.n(zn),Wn=n(6046),Yn=n.n(Wn),Gn=n(745);class Qn{constructor(){this.ajaxInterceptStream=u.default.fromEvents(document,"inboxSDKajaxIntercept").map(e=>e.detail)}getUserEmailAddress(){const e=document.head.getAttribute("data-inboxsdk-user-email-address");if("string"!=typeof e)throw new Error("should not happen");return e}getUserLanguage(){const e=document.head.getAttribute("data-inboxsdk-user-language");if("string"!=typeof e)throw new Error("should not happen");return e}getIkValue(){const e=document.head.getAttribute("data-inboxsdk-ik-value");if(e)return e;if(window.opener){const e=window.opener.document.head.getAttribute("data-inboxsdk-ik-value");if(e)return e;throw new Error("Failed to look up parent window 'ik' value")}throw new Error("Failed to look up 'ik' value")}async getXsrfToken(){const e=document.head.getAttribute("data-inboxsdk-xsrf-token");if(e)return e;{await this.ajaxInterceptStream.filter(e=>{let{type:t}=e;return"xsrfTokenHeaderReceived"===t}).take(1).toPromise();const e=document.head.getAttribute("data-inboxsdk-xsrf-token");if(!e)throw new Error("Failed to look up XSRF token");return e}}async getBtaiHeader(){const e=document.head.getAttribute("data-inboxsdk-btai-header");if(e)return e;{await this.ajaxInterceptStream.filter(e=>{let{type:t}=e;return"btaiHeaderReceived"===t}).take(1).toPromise();const e=document.head.getAttribute("data-inboxsdk-btai-header");if(!e)throw new Error("Failed to look up BTAI header");return e}}resolveUrlRedirects(e){return this.pageAjax({url:e,method:"HEAD"}).then(e=>e.responseURL)}pageAjax(e){const t=`${Date.now()}-${Math.random()}`,n=u.default.fromEvents(document,"inboxSDKpageAjaxDone").filter(e=>e.detail&&e.detail.id===t).take(1).flatMap(e=>{if(e.detail.error){const t=Object.assign(new Error(e.detail.message||"Connection error"),{status:e.detail.status});return e.detail.stack&&(t.stack=e.detail.stack),u.default.constantError(t)}return u.default.constant({text:e.detail.text,responseURL:e.detail.responseURL})}).toPromise();return document.dispatchEvent(new CustomEvent("inboxSDKpageAjax",{bubbles:!1,cancelable:!1,detail:Object.assign({},e,{id:t})})),n}silenceGmailErrorsForAMoment(){document.dispatchEvent(new CustomEvent("inboxSDKsilencePageErrors",{bubbles:!1,cancelable:!1,detail:null}));const e=new Error("Forgot to unsilence page errors");let t=!1;const n=F()(()=>{t=!0,document.dispatchEvent(new CustomEvent("inboxSDKunsilencePageErrors",{bubbles:!1,cancelable:!1,detail:null}))});return w()(()=>{t||(q.A.error(e),n())}),n}registerAllowedHashLinkStartTerm(e){document.dispatchEvent(new CustomEvent("inboxSDKregisterAllowedHashLinkStartTerm",{bubbles:!1,cancelable:!1,detail:{term:e}}))}async getMessageDate(e,t){return this._getMessageData(e,t,"data-inboxsdk-sortdate","inboxSDKtellMeThisMessageDate")}async getMessageRecipients(e,t){return this._getMessageData(e,t,"data-inboxsdk-recipients","inboxSDKtellMeThisMessageRecipients")}async _getMessageData(e,t,n,r){let i=t.getAttribute(n);if(!i){const[o,s]=await Promise.all([this.getBtaiHeader(),this.getXsrfToken()]);t.dispatchEvent(new CustomEvent(r,{bubbles:!0,cancelable:!1,detail:{threadId:e,ikValue:this.getIkValue(),btaiHeader:o,xsrfToken:s}})),i=t.getAttribute(n),i||(await(0,K.A)(t,{attributes:!0,attributeFilter:[n]}).take(1).toPromise(),i=t.getAttribute(n))}return i&&"error"!==i?JSON.parse(i):null}getThreadIdForThreadRowByDatabase(e){let t=e.getAttribute("data-inboxsdk-threadid");return t||(e.dispatchEvent(new CustomEvent("inboxSDKtellMeThisThreadIdByDatabase",{bubbles:!0,cancelable:!1,detail:null})),t=e.getAttribute("data-inboxsdk-threadid")),t}getThreadIdForThreadRowByClick(e){let t=e.getAttribute("data-inboxsdk-threadid");return t||(e.dispatchEvent(new CustomEvent("inboxSDKtellMeThisThreadIdByClick",{bubbles:!0,cancelable:!1,detail:null})),t=e.getAttribute("data-inboxsdk-threadid")),t}getCurrentThreadID(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.dispatchEvent(new CustomEvent("inboxSDKtellMeCurrentThreadId",{bubbles:!0,cancelable:!1,detail:{isPreviewedThread:t}}));const n=e.getAttribute("data-inboxsdk-currentthreadid");if(null==n)throw new Error("Failed to read value");return n}getUserOriginalPreviewPaneMode(){return document.head.getAttribute("data-inboxsdk-user-preview-pane-mode")}getActionTokenValue(){const e=document.head.getAttribute("data-inboxsdk-action-token-value");if(null==e)throw new Error("Failed to read value");return e}isConversationViewDisabled(){return new Promise(e=>{u.default.fromEvents(document,"inboxSDKgmonkeyResponse").take(1).onValue(t=>{e(t.detail)}),document.dispatchEvent(new CustomEvent("inboxSDKtellMeIsConversationViewDisabled",{bubbles:!1,cancelable:!1,detail:null}))})}getGoogleRequestHeaders(){document.dispatchEvent(new CustomEvent("inboxSDKgetGoogleRequestHeaders",{bubbles:!1,cancelable:!1,detail:null}));const e=document.head.getAttribute("data-inboxsdk-google-headers");if(document.head.removeAttribute("data-inboxsdk-google-headers"),!e)throw new Error("Failed to get Google request auth headers");return JSON.parse(e)}registerSuggestionsModifier(e){document.dispatchEvent(new CustomEvent("inboxSDKregisterSuggestionsModifier",{bubbles:!1,cancelable:!1,detail:{providerID:e}}))}provideAutocompleteSuggestions(e,t,n){document.dispatchEvent(new CustomEvent("inboxSDKprovideSuggestions",{bubbles:!1,cancelable:!1,detail:{providerID:e,query:t,suggestions:JSON.parse(JSON.stringify(n))}}))}setupCustomListResultsQuery(e){document.dispatchEvent(new CustomEvent("inboxSDKcustomListRegisterQuery",{bubbles:!1,cancelable:!1,detail:{query:e}}))}setCustomListNewQuery(e){document.dispatchEvent(new CustomEvent("inboxSDKcustomListNewQuery",{bubbles:!1,cancelable:!1,detail:e}))}setCustomListResults(e,t){document.dispatchEvent(new CustomEvent("inboxSDKcustomListResults",{bubbles:!1,cancelable:!1,detail:{query:e,newResults:t}}))}createCustomSearchTerm(e){document.dispatchEvent(new CustomEvent("inboxSDKcreateCustomSearchTerm",{bubbles:!1,cancelable:!1,detail:{term:e}}))}setSearchQueryReplacement(e,t){document.dispatchEvent(new CustomEvent("inboxSDKsearchReplacementReady",{bubbles:!1,cancelable:!1,detail:{query:e,newQuery:t}}))}registerComposeRequestModifier(e,t){const n=(new Date).getTime()+"_"+t+"_"+Math.random(),r={modifierId:n};return r.draftID=e,document.dispatchEvent(new CustomEvent("inboxSDKregisterComposeRequestModifier",{detail:r,bubbles:!1,cancelable:!1})),n}unregisterComposeRequestModifier(e,t){document.dispatchEvent(new CustomEvent("inboxSDKunregisterComposeRequestModifier",{detail:{keyId:e,modifierId:t},bubbles:!1,cancelable:!1}))}modifyComposeRequest(e,t,n){const r={modifierId:t,composeParams:n,draftID:e};document.dispatchEvent(new CustomEvent("inboxSDKcomposeRequestModified",{detail:r,bubbles:!1,cancelable:!1}))}}const $n=F()(()=>(document.head.hasAttribute("data-inboxsdk-script-injected")||(document.head.setAttribute("data-inboxsdk-script-injected","true"),window.chrome.runtime.sendMessage({type:"inboxsdk__injectPageWorld"},e=>{if(!e)throw new Error("Couldn't inject pageWorld.js. Check that the extension is using MV3 and has the correct permissions and host_permissions in its manifest.")})),u.default.later(0,null).merge((0,K.A)(document.head,{attributes:!0})).filter(()=>document.head.hasAttribute("data-inboxsdk-user-email-address")).take(1).map(()=>null).toPromise())),Kn=class{_stopper=d()();constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;const n=document.createElement("div");if(n.className="Kj-JD-Jh inboxsdk__modal_overlay",n.style.zIndex=String(e),!t)throw new Error("no target");t.appendChild(n),this._stopper.onValue(()=>{n.remove()})}getStopper(){return this._stopper}destroy(){this._stopper.destroy()}};var Jn=n(652);class Zn{constructor(e){this._eventStream=H()();const t=n.g.ResizeObserver;t&&(this._resizeObserver=new t(()=>{this.setTopMessageBarHeight()})),e.takeUntilBy(this._eventStream.filter(()=>!1).beforeEnd(()=>null)).onValue(e=>{if(e){if(e){var t=this._element;t||((t=this._element=document.createElement("div")).classList.add("inboxsdk__topMessageBar"),document.body.insertBefore(t,document.body.firstChild),document.body.classList.add("inboxsdk__hasTopMessageBar"),(0,Jn.A)()),e.el!==t.children[0]&&(t.innerHTML="",e.el&&(t.appendChild(e.el),this._resizeObserver&&this._resizeObserver.observe(t),this.setTopMessageBarHeight()))}}else this._element&&(this._element.remove(),this._element=null)})}destroy(){this._element&&(this._element.remove(),this._element=null),this._eventStream.end(),this._resizeObserver&&this._resizeObserver.disconnect(),0===document.querySelectorAll(".inboxsdk__topMessageBar").length?document.body.classList.remove("inboxsdk__hasTopMessageBar"):this.setTopMessageBarHeight(),(0,Jn.A)()}getEventStream(){return this._eventStream}remove(){this.destroy()}setTopMessageBarHeight(){const e=[...document.querySelectorAll(".inboxsdk__topMessageBar")].reduce((e,t)=>e+t.offsetHeight,0);document.body.style.setProperty("--inboxsdk__topMessageBar-height",`${e}px`)}}class Xn{_element=document.createElement("button");_eventStream=H()();constructor(e){this._isEnabled=!1!==e.enabled,this._title=e.text||e.title,this._tooltip=e.tooltip||e.title,this._buttonColor=e.buttonColor||"default",this._createElement(e),this._eventStream=H()(),this._setupEventStream()}addClass(e){}removeClass(e){}activate(){}deactivate(){}destroy(){this._element.remove(),this._eventStream.end()}getElement(){return this._element}getEventStream(){return this._eventStream}setEnabled(e){this._setEnabled(e)}update(){throw new Error("not implemented")}isEnabled(){return this._isEnabled}_createElement(e){e.isPrimary&&this._element.classList.add("J-at1-auR"),this._element.innerText=e.text||e.title||"",e.tooltip&&this._element.setAttribute("aria-label",e.tooltip),this._element.setAttribute("role","button"),this._element.setAttribute("tabindex","0"),(e.tooltip||e.title)&&this._element.setAttribute("data-tooltip",String(e.tooltip||e.title))}_setEnabled(e){this._isEnabled!==e&&(this._isEnabled=e,this._isEnabled?this._element.classList.remove("inboxsdk__button_disabled"):this._element.classList.add("inboxsdk__button_disabled"),this._eventStream.emit({eventName:"enabledChanged",isEnabled:this._isEnabled}))}_setupEventStream(){const e=u.fromEvents(this._element,"click");e.onValue(function(e){e.stopPropagation(),e.preventDefault()}),this._eventStream.plug(e.filter(()=>this.isEnabled()).map(function(e){return{eventName:"click",domEvent:e}}));const t=u.fromEvents(this._element,"keydown").filter(()=>this.isEnabled()).filter(e=>Le()([32,13],e.which));this._eventStream.plug(t.map(function(e){return{eventName:"click",domEvent:e}})),t.onValue(function(e){e.stopPropagation(),e.preventDefault()})}}const er=class{constructor(e){this._setupModalContainerElement(e),this._processOptions(e),this._eventStream=H()(),this._setupEventStream()}destroy(){this._modalContainerElement.remove(),this._eventStream.end()}getModalContainerElement(){return this._modalContainerElement}getEventStream(){return this._eventStream}_processOptions(e){this.setTitle(e.title),this.setContentElement(e.el),this.setButtons(e.buttons||[]),this.setChromeClass(e.chrome,e.showCloseButton,(e.buttons||[]).length>0)}setTitle(e){const t=(0,m.A)(this._modalContainerElement,"[role=heading]");e?(t.style.display="",t.textContent=e):t.style.display="none"}setContentElement(e){const t=(0,m.A)(this._modalContainerElement,".inboxsdk__modal_content");t.innerHTML="","string"==typeof e?t.innerHTML=e:e instanceof Element&&t.appendChild(e)}setButtons(e){const t=(0,m.A)(this._modalContainerElement,".inboxsdk__modal_buttons");t.innerHTML="",0===e.length?(t.style.display="none",this._modalContainerElement.classList.add("inboxsdk__modal_content_no_buttons")):(t.style.display="",this._modalContainerElement.classList.remove("inboxsdk__modal_content_no_buttons")),P()(e,e=>e.orderHint||0).forEach(this._addButton.bind(this,t))}setChromeClass(e,t,n){this._modalContainerElement.classList.remove("inboxsdk__modal_hideSides"),this._modalContainerElement.classList.remove("inboxsdk__modal_hideTop"),this._modalContainerElement.classList.remove("inboxsdk__modal_hideBottom"),!1===e&&(this._modalContainerElement.classList.add("inboxsdk__modal_hideSides"),t||this._modalContainerElement.classList.add("inboxsdk__modal_hideTop"),n||this._modalContainerElement.classList.add("inboxsdk__modal_hideBottom"))}_setupModalContainerElement(e){const t=e.constrainTitleWidth?"inboxsdk__modal_toprow--constrain-title-width":"";this._modalContainerElement=document.createElement("div"),this._modalContainerElement.className="inboxsdk__modal_fullscreen";var n=`\n    <div class="Kj-JD inboxsdk__modal_container" tabindex="0" role="alertdialog">\n      <div class="Kj-JD-K7 Kj-JD-K7-GIHV4 inboxsdk__modal_toprow ${t}">\n        <span class="Kj-JD-K7-K0" role="heading"></span>\n        <span class="Kj-JD-K7-Jq inboxsdk__modal_close" tabindex="0" role="button"></span>\n      </div>\n      <div class="Kj-JD-Jz inboxsdk__modal_content">\n      </div>\n      <div class="Kj-JD-Jl inboxsdk__modal_buttons"></div>\n    </div>\n    `;this._modalContainerElement.innerHTML=n}_addButton(e,t){const n={...t};["blue","red","green"].includes(t.color)&&t.color,n.isPrimary="PRIMARY_ACTION"===t.type;const r=new Xn(n);n.buttonView=r,new g.A(n),"PRIMARY_ACTION"===t.type?e.insertBefore(r.getElement(),e.firstElementChild):e.appendChild(r.getElement())}_setupEventStream(){(0,m.A)(this._modalContainerElement,".inboxsdk__modal_close").addEventListener("click",e=>{this._eventStream.emit({eventName:"closeClick",domEvent:e})})}};var tr=n(8558),nr={};nr.styleTagTransform=Xe(),nr.setAttributes=$e(),nr.insert=e=>{e.setAttribute("data-inboxsdk-version","2.2.11-1764118012397-e51ed7952926d731"),document.head.append(e)},nr.domAPI=Ge(),nr.insertStyleElement=Je(),We()(tr.Ay,nr),tr.Ay&&tr.Ay.locals&&tr.Ay.locals;class rr{static#oe;static#Or=H()();static#Pr;static#Ar=(()=>{this.#oe=new(st())(document,{logError(e,t){const n={el:t,html:t?(0,J.A)(t):null};e.message.includes("found element missed by watcher")||e.message.includes("watcher found element already found by finder")||console.log(e,n)},tags:{mole:{ownedBy:["moleParent"]}},watchers:[{tag:"mole",selectors:['.dw .nH > .nH > .no > *:not([style*="order: 0;"], [style*="order: 2147483647;"], .aJl)'],sources:["moleParent"]},{tag:"moleParent",selectors:[".dw .nH > .nH > .no"],sources:[null]}],finders:{moleParent:{fn:e=>[e.querySelector(".dw .nH > .nH > .no")].filter(at.A),interval:(e,t)=>t<=15e3&&0===e?100:5e3},mole:{fn:e=>e.querySelectorAll('.dw .nH > .nH > .no > *:not([style*="order: 0;"], [style*="order: 2147483647;"], .aJl)'),interval:(e,t)=>t<=5e3&&0===e?100:5e3}}});const e=this.#oe.tree.getAllByTag("moleParent").subscribe(t=>{for(const n of t)if("add"===n.type){const t=n.value.getValue();this.#Pr=t,this.#Or.emit(t),e.unsubscribe()}});this.#oe.tree.getAllByTag("mole").subscribe(e=>{for(const t of e)switch(t.type){case"add":{const e=t.value.getValue();e.matches('.dw .nH > .nH > .no > *:not([style*="order: 0;"], [style*="order: 2147483647;"], .aJl).nn.nH')&&this.#jr(e);break}}})})();static#jr(e){const t=e.parentElement?.lastElementChild;t instanceof HTMLElement&&t.insertAdjacentElement("beforebegin",e)}#t;#M=H()();#e=d()();#R;constructor(e,t){if(this.#t=e,this.#R=Object.assign(document.createElement("div"),{className:Yt()("inboxsdk__mole_view",tr.iW,t.className),innerHTML:or(t)}),!1===t.chrome)this.#R.classList.add("inboxsdk__mole_view_chromeless");else{(0,m.A)(this.#R,".inboxsdk__mole_view_titlebar").addEventListener("click",e=>{this.setMinimized(!this.getMinimized()),e.preventDefault(),e.stopPropagation()}),(0,m.A)(this.#R,".Hl").addEventListener("click",e=>{this.setMinimized(!0),e.preventDefault(),e.stopPropagation()}),(0,m.A)(this.#R,".Hk").addEventListener("click",e=>{this.setMinimized(!1),e.preventDefault(),e.stopPropagation()}),(0,m.A)(this.#R,".Ha").addEventListener("click",e=>{this.destroy(),e.preventDefault(),e.stopPropagation()}),t.titleEl?this.#Fr(t.titleEl):this.setTitle(t.title||""),t.minimizedTitleEl&&this.#Ur(t.minimizedTitleEl);const e=t.titleButtons;if(e){const t=(0,m.A)(this.#R,".inboxsdk__mole_title_buttons"),n=t.lastElementChild;e.forEach(e=>{const r=document.createElement("img");e.iconClass&&(r.className=e.iconClass),r.setAttribute("data-tooltip",e.title),r.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation(),e.onClick.call(null)}),e.iconUrl&&(r.src=e.iconUrl),t.insertBefore(r,n)})}}(0,m.A)(this.#R,".inboxsdk__mole_view_content").appendChild(t.el)}#Hr=e=>{const t=e.lastElementChild;if(t instanceof HTMLElement)e.insertBefore(this.#R,t);else{if(t)return void this.#t.logger.error(new Error("Mole show invariant violated. `lastMole` is not an HTMLElement"));e.appendChild(this.#R)}const n=e.closest("div.dw");n&&n.classList.add("inboxsdk__moles_in_use",tr.jq)};show(){const e=rr.#Pr;if(e)return void this.#Hr(e);const t=rr.#Or.takeUntilBy(this.#e).onValue(this.#Hr);u.fromPromise(oe.A.waitForGmailModeToSettle()).flatMap(()=>this.#t.delayToTimeAfterReady(5e3)).takeUntilBy(t).takeUntilBy(this.#e).onValue(async()=>{this.#t.getLogger().eventSdkActive("mole parent force load");try{document.body.classList.add(tr.iy),(await this.#t.openNewComposeViewDriver()).discard()}finally{document.body.classList.remove(tr.iy)}})}#zr(){if(this.#R.getBoundingClientRect().left>=0)return;const e=this.#R.parentElement?.lastElementChild;e instanceof HTMLElement&&e.insertAdjacentElement("beforebegin",this.#R)}setMinimized(e){e?(this.#R.classList.add("inboxsdk__minimized"),this.#M.emit({eventName:"minimize"})):(this.#R.classList.remove("inboxsdk__minimized"),this.#zr(),this.#M.emit({eventName:"restore"}))}getMinimized(){return this.#R.classList.contains("inboxsdk__minimized")}setTitle(e){const t=this.#R.querySelector(".inboxsdk__mole_view_titlebar h2.inboxsdk__mole_default");t&&(t.textContent=e)}#Fr(e){const t=this.#R.querySelector(".inboxsdk__mole_view_titlebar h2.inboxsdk__mole_default");t&&(t.textContent="",t.appendChild(e))}#Ur(e){const t=this.#R.querySelector(".inboxsdk__mole_view_titlebar h2.inboxsdk__mole_minimized");t&&(this.#R.classList.add("inboxsdk__mole_use_minimize_title"),t.textContent="",t.appendChild(e))}getEventStream(){return this.#M}destroy(){this.#R.remove(),this.#M.end(),this.#e.destroy()}}const ir=rr;function or(e){const t=!Dt();return`\n    <div class="inboxsdk__mole_view_inner ${t?"inboxsdk__original_view":""}">\n      ${function(e){if(!1===e.chrome)return"";{const e=!Dt();return`\n      <div class="inboxsdk__mole_view_titlebar${e?" inboxsdk__original_view":""}">\n        <div class="inboxsdk__mole_title_buttons${e?" inboxsdk__original_view":""}">\n          <img class="Hl" src="images/cleardot.gif" alt="Minimize" aria-label="Minimize" data-tooltip-delay="800" data-tooltip="Minimize"><img class="Hk" id=":rp" src="images/cleardot.gif" alt="Minimize" aria-label="Maximize" data-tooltip-delay="800" data-tooltip="Maximize">\x3c!--<img class="Hq aUG" src="images/cleardot.gif" alt="Pop-out" aria-label="Full-screen (Shift for Pop-out)" data-tooltip-delay="800" data-tooltip="Full-screen (Shift for Pop-out)">--\x3e<img class="Ha" src="images/cleardot.gif" alt="Close" aria-label="Close" data-tooltip-delay="800" data-tooltip="Close">\n        </div>\n        <h2 class="inboxsdk__mole_default"></h2>\n        <h2 class="inboxsdk__mole_minimized"></h2>\n      </div>`}}(e)}\n      <div class="inboxsdk__mole_view_content ${t?"inboxsdk__original_view":""}"></div>\n    </div>\n  `}const sr=class{_preAutoCloseStream=H()();_stopper=d()();constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;const n=this._el=document.createElement("div");if(n.className="inboxsdk__inbox_backdrop",n.style.zIndex=String(e),u.fromEvents(n,"click").filter(e=>{let t=!1;const n={type:"outsideInteraction",cause:e,cancel:()=>{t=!0}};return this._preAutoCloseStream.emit(n),!t}).onValue(()=>{this.destroy()}),!t)throw new Error("no target");t.appendChild(n),this._stopper.onValue(()=>{n.classList.remove("inboxsdk__active"),u.fromEvents(n,"transitionend").merge(u.later(200,void 0)).take(1).onValue(()=>{n.remove()})}),n.offsetHeight,n.classList.add("inboxsdk__active")}getElement(){return this._el}getPreAutoCloseStream(){return this._preAutoCloseStream}getStopper(){return this._stopper}destroy(){this._preAutoCloseStream.end(),this._stopper.destroy()}},ar="inboxSDKdrawerViewTakingOver",lr=class{_backdrop=null;_closing=d()();_closed=d()();_composeChanges=H()();_preAutoCloseStream=H()();constructor(e){this._chrome="boolean"!=typeof e.chrome||e.chrome;let t=document.body,n=null;const{composeView:r,closeWithCompose:i}=e;if(r){const e=this._setupComposeInsertionTarget(r,i);t=e.insertionTarget,n=e.composeRect}this._setupElement(e,t);let o=0;if(r){if(!n)throw new Error("should not happen");o=this._setupComposeAnimation(r,n,!0)}this._el.offsetHeight,this._el.classList.add("inboxsdk__active"),this._slideAnimationDone=u.fromEvents(this._el,"transitionend").take(1).takeUntilBy(this._closing).map(()=>null),r&&this._positionCompose(r,o),(0,f.A)(document,"keydown").filter(e=>e.key?"Escape"===e.key:27===e.which).takeUntilBy(this._closing).onValue(e=>{const t=e.preventDefault;e.preventDefault=function(){return this._defaultPreventedInContext=!0,t.call(this)}}),u.fromEvents(document,"keydown").filter(e=>e.key?"Escape"===e.key:27===e.which).filter(e=>!e._defaultPreventedInContext).filter(e=>{let t=!1;const n={type:"escape",cause:e,cancel:()=>{t=!0}};return this._preAutoCloseStream.emit(n),!t}).takeUntilBy(this._closing).onValue(()=>{this.close()})}_setupComposeInsertionTarget(e,t){if(e.isMinimized())throw new Error("Can't attach DrawerView to minimized ComposeView");if(e.isInlineReplyForm())throw new Error("Can't attach DrawerView to inline ComposeView");e.isFullscreen()&&e.setFullscreen(!1);const n=[u.fromEvents(e,"restored"),u.later(10,void 0).flatMap(()=>u.fromEvents(e,"fullscreenChanged"))];t&&n.push(u.fromEvents(e,"destroy"),u.fromEvents(e,"minimized")),u.merge(n).takeUntilBy(this._closing.merge(this._composeChanges)).onValue(()=>this.close());const r=e.getElement(),i=r.getBoundingClientRect(),o=r.offsetParent;if(!(o instanceof HTMLElement))throw new Error("should not happen");const s=Z(o,e=>"auto"!==window.getComputedStyle(e).getPropertyValue("z-index")&&0===e.getBoundingClientRect().left)||document.body;return r.dispatchEvent(new CustomEvent(ar,{bubbles:!1,cancelable:!1,detail:null})),o.dispatchEvent(new CustomEvent(ar,{bubbles:!1,cancelable:!1,detail:null})),s.dispatchEvent(new CustomEvent(ar,{bubbles:!1,cancelable:!1,detail:null})),s.classList.add("inboxsdk__drawers_in_use"),s.style.zIndex=String(500),o.hasAttribute("data-drawer-old-zindex")||o.setAttribute("data-drawer-old-zindex",o.style.zIndex),o.style.zIndex=String(502),this._closed.takeUntilBy(u.fromEvents(s,ar)).onValue(()=>{s.style.zIndex=""}),this._closed.merge(this._composeChanges).takeUntilBy(u.fromEvents(o,ar)).onValue(()=>{o.style.zIndex=o.getAttribute("data-drawer-old-zindex")||"",o.removeAttribute("data-drawer-old-zindex")}),{composeRect:i,insertionTarget:s}}_setupElement(e,t){const n=this._backdrop=new sr(500,t);if(this._preAutoCloseStream.plug(n.getPreAutoCloseStream()),n.getStopper().takeUntilBy(this._closing).onValue(()=>{this.close()}),this._containerEl=document.createElement("div"),this._containerEl.className="inboxsdk__drawer_view_container",this._containerEl.style.zIndex=String(501),this._el=document.createElement("div"),this._el.setAttribute("role","dialog"),this._el.tabIndex=0,this._el.className="inboxsdk__drawer_view",e.matchSidebarContentPanelWidth&&this._el.classList.add("inboxsdk__match_sidebar_content_panel_width"),this._containerEl.appendChild(this._el),this._chrome){const t=document.createElement("div");t.className="inboxsdk__drawer_title_bar";const n=document.createElement("button");n.type="button",n.title="Close",n.className="inboxsdk__close_button",n.addEventListener("click",()=>{this.close()}),t.appendChild(n);const r=document.createElement("div");r.className="inboxsdk__drawer_title",r.setAttribute("role","heading"),r.textContent=e.title||"",t.appendChild(r),this._el.appendChild(t)}this._el.appendChild(e.el),t.appendChild(this._containerEl),this._closing.onValue(()=>{this._backdrop&&this._backdrop.destroy(),this._el.classList.remove("inboxsdk__active"),u.fromEvents(this._el,"transitionend").merge(u.later(200,void 0)).take(1).onValue(()=>{this._closed.destroy(),this._containerEl.remove()})})}_setupComposeAnimation(e,t,n){const r=e.getElement().parentElement,i=this._el.getBoundingClientRect(),o=parseInt(r.style.left)||0,s=t.right-o-(window.innerWidth-i.width-24);return s>0&&(r.style.position="relative",r.style.transition="left 150ms cubic-bezier(.4,0,.2,1)",r.style.left="0",n&&r.offsetHeight),s}_positionCompose(e,t){if(t>0){const n=e.getElement(),r=n.parentElement;r.style.left=-t+"px",this._closing.takeUntilBy(this._composeChanges).takeUntilBy(u.fromEvents(n,ar)).onValue(()=>{r.style.left="0"}).flatMap(()=>u.fromEvents(r,"transitionend").merge(u.later(200,void 0))).merge(this._composeChanges).take(1).takeUntilBy(u.fromEvents(n,ar)).onValue(()=>{r.style.position="",r.style.left="",r.style.transition=""})}}associateComposeView(e,t){this._composeChanges.emit(null);const{insertionTarget:n,composeRect:r}=this._setupComposeInsertionTarget(e,t);this._backdrop&&n.appendChild(this._backdrop.getElement()),this._containerEl.parentElement!==n&&n.appendChild(this._containerEl);const i=this._setupComposeAnimation(e,r,!1);this._positionCompose(e,i)}disassociateComposeView(){this._composeChanges.emit(null)}getSlideAnimationDone(){return this._slideAnimationDone}getClosingStream(){return this._closing}getClosedStream(){return this._closed}getPreAutoCloseStream(){return this._preAutoCloseStream}close(){this._closing.destroy()}};class ur{_routeNameToRouteIDMap=null;_routeNameToRouteIDMaps=null;_compatibleRouteIDMap=null;constructor(){this._setupRouteNameToRouteIDMap(),this._setupCompatibleRouteIDMap()}NativeRouteIDs=Vn.Vi;NativeListRouteIDs=Vn.Kc;RouteTypes=Vn.Cs;isListRouteName(e){var t=this.getRouteID(e);return!!t&&Le()(Object.values(Vn.Kc),t)}isSettingsRouteName(e){return this._routeNameToRouteIDMap[e]===this.NativeRouteIDs.SETTINGS}isContactRouteName(e){return this._routeNameToRouteIDMap[e]===this.NativeRouteIDs.CONTACTS||this._routeNameToRouteIDMap[e]===this.NativeRouteIDs.CONTACT}getRouteID(e){return this._routeNameToRouteIDMap[e]||null}getRouteName(e){for(var t in this._routeNameToRouteIDMaps)if(this._routeNameToRouteIDMap[t]===e)return t;return null}isNativeRoute(e){return!!this._routeNameToRouteIDMap[e]}getCompatibleRouteID(e){return this._compatibleRouteIDMap[e]||e}_setupRouteNameToRouteIDMap(){this._routeNameToRouteIDMap={inbox:this.NativeRouteIDs.INBOX,section_query:this.NativeRouteIDs.SEARCH,all:this.NativeRouteIDs.ALL_MAIL,imp:this.NativeRouteIDs.IMPORTANT,contacts:this.NativeRouteIDs.CONTACTS,contact:this.NativeRouteIDs.CONTACT,sent:this.NativeRouteIDs.SENT,starred:this.NativeRouteIDs.STARRED,snoozed:this.NativeRouteIDs.SNOOZED,drafts:this.NativeRouteIDs.DRAFTS,label:this.NativeRouteIDs.LABEL,category:this.NativeRouteIDs.LABEL,search:this.NativeRouteIDs.SEARCH,"advanced-search":this.NativeRouteIDs.SEARCH,trash:this.NativeRouteIDs.TRASH,spam:this.NativeRouteIDs.SPAM,apps:this.NativeRouteIDs.SEARCH,circle:this.NativeRouteIDs.LABEL,settings:this.NativeRouteIDs.SETTINGS,chats:this.NativeRouteIDs.CHATS,scheduled:this.NativeRouteIDs.SCHEDULED,chat:this.NativeRouteIDs.CHAT_WELCOME,rooms:this.NativeRouteIDs.SPACES_WELCOME,calls:this.NativeRouteIDs.MEET}}_setupCompatibleRouteIDMap(){this._compatibleRouteIDMap={},this._compatibleRouteIDMap[this.NativeRouteIDs.INBOX]="inbox/p:page",this._compatibleRouteIDMap[this.NativeRouteIDs.ALL_MAIL]="all/p:page",this._compatibleRouteIDMap[this.NativeRouteIDs.SENT]="sent/p:page",this._compatibleRouteIDMap[this.NativeRouteIDs.STARRED]="starred/p:page",this._compatibleRouteIDMap[this.NativeRouteIDs.DRAFTS]="drafts/p:page",this._compatibleRouteIDMap[this.NativeRouteIDs.LABEL]="label/:labelName/p:page",this._compatibleRouteIDMap[this.NativeRouteIDs.TRASH]="trash/p:page",this._compatibleRouteIDMap[this.NativeRouteIDs.SPAM]="spam/p:page",this._compatibleRouteIDMap[this.NativeRouteIDs.IMPORTANT]="imp/p:page",this._compatibleRouteIDMap[this.NativeRouteIDs.SEARCH]="search/:query/p:page",this._compatibleRouteIDMap[this.NativeRouteIDs.THREAD]=this.NativeRouteIDs.THREAD,this._compatibleRouteIDMap[this.NativeRouteIDs.CHATS]="chats/p:page",this._compatibleRouteIDMap[this.NativeRouteIDs.CHAT]=this.NativeRouteIDs.CHAT,this._compatibleRouteIDMap[this.NativeRouteIDs.CONTACTS]="contacts/p:page",this._compatibleRouteIDMap[this.NativeRouteIDs.CONTACT]=this.NativeRouteIDs.CONTACT,this._compatibleRouteIDMap[this.NativeRouteIDs.SETTINGS]=this.NativeRouteIDs.SETTINGS}}class cr{constructor(){this._appId=null,this._appName=null,this._appIconUrl=null,this._stopper=d()(),this._shortcuts=new Set,this._monitorKeyboardHelp()}destroy(){this._stopper.destroy(),this._shortcuts.clear()}set(e,t,n,r){this._initializeAppValues(t,n,r),this._shortcuts.add(e)}delete(e){this._shortcuts.delete(e)}_initializeAppValues(e,t,n){this._appId||(this._appId=e),this._appName||(this._appName=t),this._appIconUrl||(this._appIconUrl=n)}_monitorKeyboardHelp(){(0,ge.A)(document.body).map(e=>e.el).filter(e=>e&&e.classList&&e.classList.contains("wa")).flatMap(e=>(0,K.A)(e,{attributes:!0,attributeFilter:["class"]}).filter(()=>!e.classList.contains("aou")).toProperty(()=>null).map(()=>e)).takeUntilBy(this._stopper).onValue(e=>this._renderHelp(e))}_renderHelp(e){if(0===this._shortcuts.size)return;this._shortcuts.keys();var t=this._renderHeader(),n=this._renderTable(),r=n.querySelectorAll("tbody tbody"),i=0;this._shortcuts.forEach(e=>{this._renderShortcut(r[i%2],e),i++});const o=(0,m.A)(e,".aov"),s=o.parentElement;if(!s)throw new Error("Could not find parent");s.insertBefore(t,o),s.insertBefore(n,o)}_renderHeader(){const e=document.createElement("div");if(e.setAttribute("class","aov  aox"),e.innerHTML=['<div class="aow">','<span class="inboxsdk__shortcutHelp_title">',ae()(this._appName||this._appId)+" keyboard shortcuts","</span>","</div>"].join(""),this._appIconUrl){const t=document.createElement("img");this._appIconUrl&&(t.src=this._appIconUrl),t.setAttribute("class","inboxsdk__icon");const n=(0,m.A)(e,".inboxsdk__shortcutHelp_title");n.insertBefore(t,n.firstChild)}return e}_renderTable(){var e=document.createElement("table");return e.setAttribute("cellpadding","0"),e.setAttribute("class","cf wd inboxsdk__shortcutHelp_table"),e.innerHTML=["<tbody>","<tr>",'<td class="Dn">','<table cellpadding="0" class="cf">',"<tbody>","<tr><th>&nbsp;</th><th>&nbsp;</th></tr>","</tbody>","</table>","</td>",'<td class="Dn">','<table cellpadding="0" class="cf">',"<tbody>","<tr><th>&nbsp;</th><th>&nbsp;</th></tr>","</tbody>","</table>","</td>","</tr","</tbody>"].join(""),e}_renderShortcut(e,t){var n=document.createElement("tr");n.innerHTML=['<td class="wg Dn"> ',dr(t.chord),"</td>",'<td class="we Dn"> ',ae()(t.description||""),"</td>"].join(""),e.appendChild(n)}}function dr(e){const t=[],n=e.split(/[\s+]/g),r=e.match(/[\s+]/g);for(var i=0;i<n.length;i++)t.push('<span class="wh">'+ae()(hr(n[i]))+"</span>"),r&&r[i]&&t.push(pr(r[i]));return t.push(" :"),t.join("")}function hr(e){switch(e.toLowerCase()){case"shift":return"<Shift>";case"ctrl":return"<Ctrl>";case"alt":return"<Alt>";case"meta":case"command":return"<>";case"mod":return/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"<>":"<Ctrl>";default:return e}}function pr(e){switch(e){case" ":return'<span class="wb">then</span> ';case"+":return' <span class="wb">+</span> ';default:return""}}var fr=n(6743),mr=n(6408),_r=n(2313).Buffer,gr=n(2903),br=n(6305);async function vr(e,t){const n=(await(0,gr.A)(e,{oldGmailMessageID:t})).match(/^Message-ID:\s+(\S+)\s*$/im);if(!n)throw new Error("Failed to find rfc id for gmail thread id. Message may not exist in user's account.");return(0,br.A)(n[1])}var Ar=n(8496),yr=n.n(Ar);class wr{#qr;constructor(e){this.#qr=e.getUserEmailAddress()}getUserName(){const e=document.querySelector("div.gb_w div.gb_B .gb_D");if(e)return e.textContent;const t=l()(this.getAccountSwitcherContactList(),e=>e.emailAddress===this.#qr);return t&&null!=t.name?t.name:this.#qr}getAccountSwitcherContactList(){const e=Array.from(document.querySelectorAll('[role=banner] div[aria-label] div div a[href^="https://myaccount.google."]')).slice(0,1).map(e=>{const t=e.parentElement,n=t.children[0],r=t.children[1];return n&&r?{name:n.textContent,emailAddress:r.textContent}:null}).filter(at.A),t=Array.from(document.querySelectorAll('[role=banner] div[aria-label] div > a[target="_blank"] > img + div')).map(e=>{const t=e.children[1].textContent.match(/\S+/);if(!t)throw new Error("Failed to match");return{name:e.children[0].textContent,emailAddress:t[0]}});return yr()(e.concat(t),e=>e.emailAddress.toLowerCase())}}const Cr=(0,le.A)(()=>document.body.querySelector('div.b8[role="alert"]')).map(e=>{const t=(0,m.A)(e,".vh:not(.inboxsdk__butterbar)");let n=e.querySelector(".vh.inboxsdk__butterbar");if(!n){n=document.createElement("div"),n.classList.add("vh","inboxsdk__butterbar"),n.style.display="none";const e=document.createElement("span");e.classList.add("aT");const r=document.createElement("span");r.classList.add("inboxsdk__butterbar-text","bAq");const i=document.createElement("span");i.classList.add("inboxsdk__butterbar-buttons","bAo"),i.innerHTML="&nbsp;&nbsp;";const o=document.createElement("div");o.classList.add("inboxsdk__butterbar-close","bBe"),o.innerHTML='<div class="bBf"></div>',o.setAttribute("role","button"),o.tabIndex=0,e.appendChild(r),e.appendChild(i),n.appendChild(e),n.appendChild(o);const s=t.parentNode;if(!s)throw new Error("parentNode not found");s.insertBefore(n,t.nextSibling)}return{noticeContainer:e,googleNotice:t,sdkNotice:n}}).toProperty(),xr=Cr.flatMapLatest(e=>{let{googleNotice:t}=e;return(0,K.A)(t,{childList:!0})}),Er=xr.filter(e=>e.some(e=>e.addedNodes.length>0)),kr=xr.filter(e=>!e.some(e=>e.addedNodes.length>0)),Sr=Cr.flatMapLatest(e=>{let{sdkNotice:t}=e;return(0,K.A)(t,{attributes:!0,attributeFilter:["data-inboxsdk-id"]}).map(()=>t.getAttribute("data-inboxsdk-id"))}).filter(e=>null==e),Ir=u.merge([kr,Sr]);function Tr(e,t,n){t.style.display="",e.style.top="-10000px",e.style.position="relative",e.classList.remove("bAp"),n.style.display="none",n.removeAttribute("data-inboxsdk-id")}class Dr{constructor(){u.combine([Cr,Er]).onValue(e=>{let[{googleNotice:t,sdkNotice:n}]=e;t.style.display="",n.style.display="none",n.setAttribute("data-inboxsdk-id","gmail")}),Ir.onValue(()=>{})}getNoticeAvailableStream(){return Ir}getSharedMessageQueue(){const e=document.head.getAttribute("data-inboxsdk-butterbar-queue");return e?JSON.parse(e):[]}setSharedMessageQueue(e){const t=JSON.stringify(e);document.head.setAttribute("data-inboxsdk-butterbar-queue",t)}showMessage(e){const t=Date.now()+"-"+Math.random(),n=()=>{Cr.take(1).onValue(n=>{let{noticeContainer:r,googleNotice:i,sdkNotice:o}=n;o.getAttribute("data-inboxsdk-id")===t&&(e.className&&o.classList.remove(e.className),Tr(r,i,o))})};return Cr.take(1).onValue(r=>{let{noticeContainer:i,googleNotice:o,sdkNotice:s}=r;i.style.visibility="visible",i.style.top="",i.classList.add("bAp"),o.style.display="none",s.className=o.className,s.classList.add("inboxsdk__butterbar");const a=(0,m.A)(s,".inboxsdk__butterbar-text");for(;a.firstChild;)a.removeChild(a.firstChild);const l=(0,m.A)(s,".inboxsdk__butterbar-buttons");for(;l.firstChild;)l.removeChild(l.firstChild);e.html?a.innerHTML=e.html:e.el?a.appendChild(e.el):a.textContent=e.text,e.buttons&&e.buttons.forEach(e=>{const t=document.createElement("span");t.classList.add("ag","a8k"),t.onclick=t=>e.onClick(t),t.setAttribute("role","button"),t.tabIndex=0,t.textContent=e.title,l.appendChild(t)});const c=(0,m.A)(s,".inboxsdk__butterbar-close");c&&u.fromEvents(c,"click").take(1).onValue(n),e.className&&s.classList.add(e.className),s.style.display="",s.setAttribute("data-inboxsdk-id",t)}),{destroy:n}}hideGmailMessage(){Cr.take(1).onValue(e=>{let{noticeContainer:t,googleNotice:n,sdkNotice:r}=e;"gmail"===r.getAttribute("data-inboxsdk-id")&&Tr(t,n,r)})}}let Br=!1;var Mr=n(5187),Nr=n(5609),Lr=n(1433),Vr=n(1158),Rr=n(9844),Or=n.n(Rr),Pr=n(876);class jr extends He{_isActive=!1;constructor(){super(document.createElement("div"));const e=this._element;e.setAttribute("class","nL aig");const t=document.createElement("div");t.setAttribute("class","pM aj0"),e.appendChild(t),e.addEventListener("click",()=>{this._isActive=!0}),e.addEventListener("mouseenter",()=>{t.classList.add("aj1")}),e.addEventListener("mouseleave",()=>{this._isActive||t.classList.remove("aj1")})}activate(){this.getElement().children[0].classList.add("aj1")}deactivate(){this.getElement().children[0].classList.remove("aj1"),this._isActive=!1}}class Fr{_element=document.createElement("div");_eventStream=H()();_stopper=d()();constructor(){this._setupElement(),this._setupEventStream()}addClass(e){}removeClass(e){}activate(){const e=this._element.firstElementChild;e&&e.classList.add("aj1")}deactivate(){const e=this._element.firstElementChild;e&&e.classList.remove("aj1")}destroy(){this._element.remove(),this._eventStream.end(),this._stopper.destroy()}getElement(){return this._element}getEventStream(){return this._eventStream}setEnabled(){throw new Error("not implemented")}update(){}_setupElement(){this._element.setAttribute("class","Yh inboxsdk__navItem_parent_accessory_button"),this._element.setAttribute("role","button"),this._element.setAttribute("tabindex","0"),this._element.setAttribute("type","button")}_setupEventStream(){const e=u.fromEvents(this._element,"click");e.onValue(e=>{e.stopPropagation(),e.preventDefault()}),this._eventStream.plug(e.map(e=>({eventName:"click",domEvent:e})))}}class Ur extends Fr{constructor(){super(),this.getElement().style.backgroundImage="url(https://www.gstatic.com/images/icons/material/system_gm/2x/more_vert_black_20dp.png)"}}class Hr{_element=document.createElement("div");_eventStream=H()();_stopper=d()();constructor(){this._setupElement(),this._setupEventStream()}addClass(e){}removeClass(e){}update(){}setEnabled(){throw new Error("not implemented")}destroy(){this._eventStream.end(),this._stopper.destroy(),this._element.remove()}getElement(){return this._element}getEventStream(){return this._eventStream}activate(){const e=this._element.firstElementChild;e&&e.classList.add("aj1")}deactivate(){const e=this._element.firstElementChild;e&&e.classList.remove("aj1")}_setupElement(){this._element.setAttribute("class","nL aig"),this._element.setAttribute("style","left: 7px"),this._element.innerHTML=['<div class="pM aRw" style="display: inline-flex; margin-left: 16px;" role="button">','<div class="p6">','<div class="p8"></div>',"</div>","</div>"].join("")}_setupEventStream(){const e=u.fromEvents(this._element,"click");e.onValue(e=>{e.stopPropagation(),e.preventDefault()}),this._eventStream.plug(e.map(e=>({eventName:"click",domEvent:e})))}}var zr=n(2621);const qr="inboxsdk__navItem_section_list",Wr=e=>`.${qr}[data-section-key="${e}"]`,Yr="inboxsdk__navItem_section_list_items",Gr=e=>`.${Yr}[data-section-key="${e}"]`;function Qr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const i=document.createElement("div");i.classList.add("yJ",qr),i.dataset.sectionKey=e,t&&i.setAttribute("data-group-order-hint",t),n&&i.setAttribute("data-order-hint",n.toString()),r&&i.setAttribute("data-insertion-order-hint",r.toString());const o=Math.random().toFixed(3);return i.innerHTML=p()`
    <div class="ajl aib aZ6" aria-labelledby="${o}">
      <h2 class="aWk" id="${o}">Labels</h2>
      <div class="wT">
        <div class="n3">
          <div class="byl">
            <div class="TK ${Yr}" data-section-key="${e}"></div>
          </div>
        </div>
      </div>
    </div>
  `,i}let $r=0;class Kr{_accessory=null;_accessoryViewController=null;#M;_expandoElement=null;_iconSettings={};_isActive=!1;_isCollapsed=!1;_itemContainerElement=null;_name="";_type=null;_collapseKey=null;#Wr;get sectionKey(){return this.#Wr}constructor(e,t,n){this._driver=e,this.#M=H()(),this._level=n||0,this._navItemNumber=++$r,this._orderGroup=t,this._isNewLeftNavParent=!oe.A.shouldAddNavItemsInline()&&1===this._level,this._element=this.#g()}#g(e){return this._isNewLeftNavParent&&e?.type!==jt.SECTION?this._setupParentElement():e?.type===jt.SECTION?this.#Yr():this._setupChildElement()}addNavItem(e,t){const n=this._type===jt.GROUPER||this.isSection()?this._level:this._level+1,r=new Kr(this._driver,e,n);return r.getEventStream().filter(e=>"orderChanged"===e.eventName).onValue(()=>this._addNavItemElement(r)),r.setNavItemDescriptor(t),this._isNewLeftNavParent&&!r.isSection()&&this._createExpandoParent(),r}#Gr(){this._accessoryViewController&&this._accessoryViewController.destroy(),this._expandoElement&&this._expandoElement.remove(),this._itemContainerElement&&this._itemContainerElement.remove()}destroy(){this._element.remove(),this.#M&&this.#M.end(),this.#Gr()}getElement(){return this._element}getEventStream(){return this.#M}getNavItemDescriptor(){return this._navItemDescriptor}getOrderGroup(){return this._orderGroup}getOrderHint(){return this._orderHint}getName(){return this._name}isCollapsed(){return this._isCollapsed}isSection(){return this._type===jt.SECTION}remove(){this.destroy()}setActive(e){if(!this._element||this._type===jt.LINK||this._type===jt.MANAGE||this._isActive===e||this._isNewLeftNavParent||this.isSection())return;const t=(0,m.A)(this._element,".TO");e?(this._element.classList.add("ain"),t.classList.add("nZ"),t.classList.add("aiq")):(this._element.classList.remove("ain"),t.classList.remove("nZ"),t.classList.remove("aiq")),this._setHeights(),this._isActive=e}setCollapsed(e){this._isCollapsed=e,this._isCollapsible()&&(e?this._collapse():this._expand());try{const e="inboxsdk__navitem_collapsed__"+this._collapseKey;this._isCollapsed?localStorage.setItem(e,"true"):localStorage.removeItem(e)}catch(e){console.error("Caught error",e)}}setNavItemDescriptor(e){e.takeUntilBy(this.#M.filter(()=>!1).beforeEnd(()=>null)).onValue(e=>this.#sn(e))}toggleCollapse(){this.setCollapsed(!this._isCollapsed)}_addNavItemElement(e){const t=this._getItemContainerElement(),n=Pe(e.getElement(),t.children,["data-group-order-hint","data-order-hint","data-insertion-order-hint"]);if(t.insertBefore(e.getElement(),n),e.isSection()||this.isSection())return;const r=this._type===jt.GROUPER||this._isNewLeftNavParent?this._level-1:this._level,i=e.getElement();oe.A.shouldAddNavItemsInline()?(0,m.A)(i,".TN").style.marginLeft=12*r+"px":(0,m.A)(i,".TN").style.marginLeft=6*r+"px",this._setHeights()}_collapse(){if(this._isCollapsed=!0,this._isNewLeftNavParent)this._element.classList.remove("Xr");else{const e=this._expandoElement;if(e)e.classList.remove("aih"),e.classList.add("aii");else if(this._type===jt.GROUPER){const e=this._element.firstElementChild;e&&e.classList.remove("air")}this._itemContainerElement&&(this._itemContainerElement.style.display="none"),this._setHeights()}this.#M.emit({eventName:"collapsed"})}_createAccessory(e){switch(e.type){case"CREATE":this._createCreateAccessory(e);break;case"ICON_BUTTON":this._createIconButtonAccessory(e);break;case"DROPDOWN_BUTTON":this._createDropdownButtonAccessory(e);break;case"SETTINGS_BUTTON":this._driver.getLogger().deprecationWarning("SettingsButtonAccessoryDescriptor","DropdownButtonAccessoryDescriptor"),this._createDropdownButtonAccessory({...e,type:"DROPDOWN_BUTTON"})}}_createCreateAccessory(e){this._createPlusButtonAccessory(e)}_createDropdownButtonAccessory(e){if(this._isNewLeftNavParent){const t={...e};t.buttonView=new Ur,t.dropdownViewDriverClass=de.A,t.dropdownPositionOptions={position:"right",hAlign:"left",vAlign:"top"},t.dropdownShowFunction=e=>{let{dropdown:n}=e;n.el.style.marginLeft="24px",t.onClick({dropdown:n})};const n=new he.A(t);this._accessoryViewController=n;const r=(0,m.A)(this._element,".Yh:not(.inboxsdk__navItem_parent_accessory_button)");return t.buttonView.getElement().classList.add(...r.classList),r.style.display="none",r.parentNode.appendChild(t.buttonView.getElement()),void(this._iconSettings.iconElement=null)}const t={...e};t.buttonView=new jr,t.dropdownViewDriverClass=de.A,t.dropdownPositionOptions={position:"bottom",hAlign:"left",vAlign:"top"};const n=oe.A.getLeftNavContainerElement();if(!n)throw new Error("leftNavContainer not found");t.dropdownShowFunction=e=>{if(n.classList.contains("bhZ")){const t=u.fromEvents(e.dropdown,"destroy");(0,K.A)(n,{attributes:!0,attributeFilter:["class"]}).takeUntilBy(t).toProperty(()=>null).onValue(()=>{n.classList.contains("bym")||n.classList.add("bym")}),t.onValue(()=>{n.classList.remove("bym")})}t.onClick(e),e.dropdown.on("destroy",()=>{t.buttonView.deactivate()})};const r=new he.A(t);this._accessoryViewController=r;const i=(0,m.A)(this._element,".TO");i.addEventListener("mouseenter",()=>i.classList.add("inboxsdk__navItem_hover")),i.addEventListener("mouseleave",()=>i.classList.remove("inboxsdk__navItem_hover")),(0,m.A)(this._element,".TN").appendChild(t.buttonView.getElement()),this._setupContextClickHandler(r)}_createExpando(){if(this._type===jt.GROUPER)return;const e=this._expandoElement=document.createElement("div");e.setAttribute("class","TH aih J-J5-Ji inboxsdk__expando"),e.setAttribute("role","link"),e.title=`Expand ${this._name||""}`,e.addEventListener("click",e=>{this.toggleCollapse(),e.stopPropagation()});const t=this._element.querySelector(".TN.aik");t&&t.insertAdjacentElement("afterbegin",e),this._isCollapsed?this._collapse():this._expand()}_createExpandoParent(){const e=(0,m.A)(this._element,".XR");e.style.visibility="visible",this._expandoElement=e,this._isCollapsed?this._collapse():this._expand()}_createIconButtonAccessory(e){if(this._driver.getLogger().deprecationWarning("IconButtonAccessoryDescriptor accessory for a parent level NavItemView","CreateAccessoryDescriptor or DropdownButtonAccessoryDescriptor"),this._isNewLeftNavParent)return;const t={...e,buttonColor:"pureIcon"};t.buttonView=new _.A(t),this._accessoryViewController=new g.A(t),(0,m.A)(this._element,".TN").appendChild(t.buttonView.getElement())}_createItemContainerElement(){const e=this._itemContainerElement=document.createElement("div");return e.classList.add("inboxsdk__navItem_container"),this._element.appendChild(e),this._isCollapsible()&&(this._isCollapsed?this._collapse():this._expand()),e}_createLinkButtonAccessory(e){const t=document.createElement("div");t.setAttribute("class","inboxsdk__navItem_link");const n=document.createElement("a");n.classList.add("CK"),n.textContent=e.name,t.appendChild(n),n.href="#",n.addEventListener("click",t=>{t.stopPropagation(),t.preventDefault(),e.onClick()}),(0,m.A)(this._element,".aio").appendChild(t)}_createPlusButtonAccessory(e){if(this._isNewLeftNavParent){const t={...e};t.buttonView=new Fr,this._accessoryViewController=new g.A(t);const n=(0,m.A)(this._element,".Yh:not(.inboxsdk__navItem_parent_accessory_button)");return t.buttonView.getElement().classList.add(...n.classList),n.style.display="none",n.parentNode.appendChild(t.buttonView.getElement()),void(this._iconSettings.iconElement=null)}const t={...e};t.buttonView=new Hr,this._accessoryViewController=new g.A(t),(0,m.A)(this._element,".TN").appendChild(t.buttonView.getElement())}_expand(){if(this._isNewLeftNavParent)this._element.classList.add("Xr");else{const e=this._expandoElement;if(e)e.classList.add("aih"),e.classList.remove("aii");else if(this._type===jt.GROUPER){const e=this._element.firstElementChild;e&&e.classList.add("air")}this._itemContainerElement&&(this._itemContainerElement.style.display=""),this._setHeights()}this._isCollapsed=!1,this.#M.emit({eventName:"expanded"})}_getItemContainerElement(){if(this.isSection())return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;const o=e.parentElement;if(!o.querySelector(Wr(t))){const e=Qr(t,n,r,i);(0,ue.A)(o,e)}return(0,m.A)(o,Gr(t))}(this._element,this.#Wr,this._orderGroup.toString(),this._orderHint.toString(),this._navItemNumber.toString());if(this._isNewLeftNavParent)return(0,m.A)(this._element,".TK");{let e=this._itemContainerElement;return e||(e=this._createItemContainerElement(),this._createExpando()),e}}_isCollapsible(){return Boolean(this._expandoElement)||this._type===jt.GROUPER}_makeEventMapper(e){return function(t){return t.stopPropagation(),t.preventDefault(),{eventName:e,domEvent:t}}}_setHeights(){if(1==this._level)return;const e=(0,m.A)(this._element,".TO");if(this._element.classList.contains("ain")&&this._itemContainerElement){this._element.style.height="";const t=this._element.clientHeight,n=e.clientHeight;this._element.style.height=n+"px",this._element.style.overflow="visible",this._element.style.marginBottom=t-n+"px"}else this._element.style.height="",this._element.style.overflow="",this._element.style.marginBottom=""}_setHighlight(e){this._element&&this._type!==jt.LINK&&this._type!==jt.MANAGE&&(e?(0,m.A)(this._element,".TO").classList.add("NQ"):(0,m.A)(this._element,".TO").classList.remove("NQ"))}_setupContextClickHandler(e){u.fromEvents(this._element,"contextmenu").takeWhile(()=>this._accessoryViewController===e).onValue(t=>{t.stopPropagation(),t.preventDefault(),e.showDropdown()})}#Yr(){const e=document.createElement("div");e.classList.add("aAw","FgKVne","inboxsdk__navItem_section"),e.dataset.sectionKey=this.#Wr,e.innerHTML=['<span class="aAv inboxsdk__navItem_name" role="heading">',"Labels","</span>",'<div class="aAu arN" aria-label="" data-tooltip="" role="button" tabindex="0" type="button">',"</div>"].join("");const t=(0,m.A)(e,".aAu");return this.#M.plug(u.fromEvents(t,"click").map(this._makeEventMapper("click"))),e}_setupChildElement(){const e=document.createElement("div");e.setAttribute("class","aim inboxsdk__navItem"),e.innerHTML=['<div class="TO">','<div class="TN aik">','<div class="qj" style="">',"</div>",'<div class="aio aip">','<span class="nU" role="link">',"</span>",'<span class="bsU">',"</span>","</div>","</div>","</div>"].join("");const t=(0,m.A)(e,".TO");return u.merge([u.fromEvents(t,"mouseenter").map(this._makeEventMapper("mouseenter")),u.fromEvents(t,"mouseleave").map(this._makeEventMapper("mouseleave"))]).onValue(e=>{this._updateHighlight(e)}),this.#M.plug(u.fromEvents(t,"click").map(this._makeEventMapper("click"))),e}_setupParentElement(){const e=document.createElement("div");e.className="Xa wT W8 XJ inboxsdk__navItem",e.innerHTML=['<div class="V6 CL Y2">','<div class="XR" role="button" tabindex="0" type="button" style="visibility: hidden">',"</div>",'<span class="XS">','<span class="WW inboxsdk__navItem_name" role="heading" aria-level="2">',"</span>",'<span class="XU" aria-hidden="true" style="display: none">',"</span>","</span>",'<div class="Yh">',"</div>","</div>",'<div class="V3 ada">','<div class="wT">','<div class="TK">',"</div>","</div>","</div>"].join("");const t=(0,m.A)(e,".V3");u.fromEvents(t,"scroll").debounce(10).onValue(()=>{t.scrollTop>0?t.classList.add("adh"):t.classList.remove("adh")});const n=(0,m.A)(e,".XR");u.fromEvents(n,"click").map(this._makeEventMapper("click")).onValue(()=>{this.toggleCollapse()});const r=(0,m.A)(e,".V6.CL");return this.#M.plug(u.fromEvents(r,"click").map(this._makeEventMapper("click"))),e}_setupGrouper(){const e=this._element.firstElementChild;e&&(e.classList.add("n4"),e.addEventListener("click",e=>{e.stopPropagation(),this.toggleCollapse()}),this._isCollapsed?this._collapse():this._expand()),(0,m.A)(this._element,".qj").innerHTML='<div class="G-asx T-I-J3 J-J5-Ji">&nbsp;</div>'}_updateAccessory(e){this._accessory!==e&&(this._accessoryViewController&&(this._accessoryViewController.destroy(),this._accessoryViewController=null),e&&this._createAccessory(e),this._accessory=e)}_updateClickability(e){e.type===jt.LINK||e.type===jt.MANAGE?this._element.classList.add("inboxsdk__navItem_nonClickable"):this._element.classList.remove("inboxsdk__navItem_nonClickable")}_updateHighlight(e){let{eventName:t}=e;switch(t){case"mouseenter":this._setHighlight(!0);break;case"mouseleave":this._setHighlight(!1)}}_updateIcon(e){if(this.isSection())return;const t=this._isNewLeftNavParent?(0,m.A)(this._element,".Yh"):(0,m.A)(this._element,".qj");if(e.iconElement)!function(e,t,n){let r=e.querySelector(".inboxsdk__button_icon");r||(r=document.createElement("div"),r.classList.add("inboxsdk__button_icon"),r.appendChild(t)),n?e.appendChild(r):e.insertBefore(e,e.firstElementChild)}(t,e.iconElement,"BEFORE_NAME"!==e.iconPosition);else if((0,zr.A)(this._iconSettings,t,"BEFORE_NAME"!==e.iconPosition,e.iconClass,e.iconUrl,void 0,void 0,e.iconLiga),e.backgroundColor){const n=e.backgroundColor;t.style.borderColor=n}}_updateName(e){if(this._name===e)return;const t=(0,m.A)(this._element,".inboxsdk__navItem_name");if(t.textContent=e,t.setAttribute("title",e),this._name=e,!this.isSection()&&(this._expandoElement&&(this._expandoElement.title=`Expand ${e}`),this._navItemDescriptor?.tooltipAlignment)){const t=this._navItemDescriptor?.tooltipAlignment[0];this._element.firstElementChild?.setAttribute("data-tooltip",e),this._element.firstElementChild?.setAttribute("data-tooltip-align",t)}}_updateOrder(e){this._element.setAttribute("data-group-order-hint",""+this._orderGroup),this._element.setAttribute("data-insertion-order-hint",""+this._navItemNumber),e.orderHint=e.orderHint||0===e.orderHint?e.orderHint:Number.MAX_SAFE_INTEGER,e.orderHint!==this._orderHint&&(this._element.setAttribute("data-order-hint",""+e.orderHint),this.#M.emit({eventName:"orderChanged"})),this._orderHint=e.orderHint}_updateRole(e){if(this.isSection())return;const t=(0,m.A)(this._element,".V6.CL");e?t.setAttribute("role","link"):(t.setAttribute("role","group"),t.classList.add("X9"))}_updateSubtitle(e){this._isNewLeftNavParent||this.isSection()||e.accessory&&!["SETTINGS_BUTTON","DROPDOWN_BUTTON"].includes(e.accessory.type)&&e.type!==jt.GROUPER||((0,m.A)(this._element,".bsU").innerHTML=p()`${e.subtitle||""}`)}_updateType(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt.NAVIGATION;if(!this._element)return;if(e=e||jt.NAVIGATION,this._type===e)return;let t=this._element.querySelector(".inboxsdk__navItem_name");switch(t&&t.closest(".inboxsdk__navItem")!==this._element&&(t=null),e){case jt.GROUPER:case jt.NAVIGATION:t&&"SPAN"===t.tagName||((0,m.A)(this._element,".nU").innerHTML+=p()`<span class="inboxsdk__navItem_name">${this._name}</span>`);break;case jt.LINK:case jt.MANAGE:t&&"A"===t.tagName||((0,m.A)(this._element,".nU").innerHTML+=p()`<a href="#" class="CK inboxsdk__navItem_name">${this._name}</a>`)}this._type=e}#Qr(e){this._isNewLeftNavParent||this._element.classList.toggle("yJ",!!e.spacingAfter)}#$r(e){if(!this.isSection())return;const t=e.sectionTooltip;t&&(this._element.querySelector(".aAu")?.setAttribute("data-tooltip",t),this._element.querySelector(".aAu")?.setAttribute("aria-label",t))}#sn(e){e.type!==jt.SECTION||this.#Wr||(this.#Wr=(1e4*Math.random()).toFixed(0)),this._navItemDescriptor?.type!==e.type&&(this._element.remove(),this.#Gr(),this._element=this.#g(e)),this._navItemDescriptor=e,null==this._collapseKey&&(this._collapseKey=e.key||`${e.name}`,this._isCollapsed="true"===localStorage.getItem("inboxsdk__navitem_collapsed__"+this._collapseKey)),this._updateType(e.type),this._updateName(e.name),this._updateSubtitle(e),this._updateOrder(e),this.#Qr(e),this._isNewLeftNavParent&&this._updateRole(e.routeID),this._type!==jt.GROUPER?(this._updateAccessory(e.accessory),this._updateIcon(e),this._updateClickability(e),this.#$r(e)):this._setupGrouper()}}function Jr(e,t){try{const n=function(e,t){return t?()=>{(0,ue.A)(t,e.getElement())}:oe.A.shouldAddNavItemsInline()?function(){(0,ue.A)(function(){const e=document.querySelector(".inboxsdk__navMenu");return e?(0,m.A)(e,".TK"):function(){const e=document.createElement("div");e.setAttribute("class","LrBjie inboxsdk__navMenu"),e.innerHTML='<div class="TK"></div>';const t=oe.A.getSameSectionNavItemMenuInjectionContainer();if(!t)throw new Error("should not happen");return t.insertBefore(e,t.children[2]),(0,$.A)(e,{attributes:!0,attributeFilter:["class"]}).onValue(function(){e.classList.contains("TA")&&e.classList.remove("TA")}),(0,m.A)(e,".TK")}()}(),e.getElement())}:function(){const t=oe.A.getSeparateSectionNavItemMenuInjectionContainer();if(!t)throw new Error("should not happen");Array.from(document.querySelectorAll(".Xa.wT:not([data-group-order-hint])")).slice(1).forEach(e=>{e.dataset.groupOrderHint="zz_gmail"}),(0,ue.A)(t,e.getElement())}}(e,t);n(),e.getEventStream().filter(e=>"orderChanged"===e.eventName).onValue(n)}catch(e){q.A.error(e)}}const Zr=F()(async()=>{await oe.A.getAppMenuAsync()||await Xr()}),Xr=F()(async()=>{oe.A.isStandalone()||(await oe.A.waitForGmailModeToSettle(),await(0,v.A)(()=>document.querySelector(".aeN[role=navigation], .aeN [role=navigation]")),await(0,v.A)(()=>document.querySelector(".Ls77Lb.aZ6 > .pp")))});class ei{_stopper=d()();_insertElementContainer=null;constructor(e,t){this._driver=e,this._setup(t)}destroy(){this._stopper.destroy(),this._insertElementContainer&&(this._insertElementContainer.remove(),this._insertElementContainer=null)}_setup(e){const t=this._driver.getTagTree().getAllByTag("supportMenu").subscribe(t=>{t.forEach(t=>{"add"===t.type?this._addSupportElement(t.value.getValue(),e):"remove"===t.type&&this._insertElementContainer&&(this._insertElementContainer.remove(),this._insertElementContainer=null)})});this._stopper.onValue(()=>t.unsubscribe())}_addSupportElement(e,t){const n=document.createElement("div"),r=e.children.item(0).attributes;for(const e of r)if("aria-label"!==e.name){if("class"===e.name){const t=`${e.value} inboxsdk__support_menuItem`;n.setAttribute(e.name,t);continue}n.setAttribute(e.name,e.value)}n.append(t.element);let i=null;for(const t of e.children)"separator"===t.getAttribute("role")&&(i=t);i?i.insertAdjacentElement("beforebegin",n):e.append(n),n.onclick=n=>{n.preventDefault(),n.stopPropagation(),t.onClick(),this._closeSupportMenu(e)},n.onkeypress=n=>{"Enter"===n.key&&(t.onClick(),this._closeSupportMenu(e))}}_closeSupportMenu(e){if("true"!=e.getAttribute("aria-hidden")){const t=e.previousElementSibling;t&&t.click()}}}var ti=n(7101),ni=n(6811),ri=n(2996),ii=n.n(ri);const oi=new Map;function si(e,t){return e.length>50&&t.error(new Error("Received more than the maximum number of threads specified by handler, ignoring additional threads (https://www.inboxsdk.com/docs/#Router).")),e.slice(0,50)}function ai(e,t){return console.log("Failed to find id for thread",e,t),null}function li(e){if("string"==typeof e)return"<"==e[0]?{rfcId:e}:{gtid:e};if(e){const t={gtid:"string"==typeof e.gmailThreadId&&e.gmailThreadId,rfcId:"string"==typeof e.rfcMessageId&&e.rfcMessageId};if(t.gtid||t.rfcId)return t}}var ui=n(3759);var ci=n(7032);var di=n(6908);const hi=class{constructor(e){this._driver=e,this._composeViews=new Set,this._driver.getComposeViewDriverStream().onValue(e=>{this._composeViews.add(e),e.getStopper().onValue(()=>{this._composeViews.delete(e)})})}getThreadIdForThreadRow(e,t){{const e=this._driver.getPageCommunicator().getThreadIdForThreadRowByDatabase(t[0]);if(e)return e}if(0==e.getVisibleMessageCount()&&e.getVisibleDraftCount()>0){const t=this._findComposeForThreadRow(e);if(t)return t.getMessageID()}return null}async getDraftIdForThreadRow(e){if(e.getVisibleMessageCount()>0||0==e.getVisibleDraftCount())return Promise.resolve(null);const t=this._findComposeForThreadRow(e);if(t)return t.getDraftID();const{draftID:n}=await this._driver.getDraftIDForMessageID(e.getThreadID());return n}_findComposeForThreadRow(e){const t=[],n=e.getSubject();for(const e of this._composeViews)n===e.getSubject()&&t.push(e);return 1==t.length?t[0]:null}};var pi=n(2268),fi=n(4806),mi=n(3046);class _i{_element=null;constructor(e,t){this._driver=e,this._stopper=d()(),this._iconSettings={},t.takeUntilBy(this._stopper).onValue(e=>{try{this._handleButtonDescriptor(e)}catch(e){this._driver.getLogger().error(e)}}),function(){const e=n.g.ResizeObserver;if(!e)return;const t=document.body;if(!t)return;const r=t.querySelector("[role=banner]");r&&(r.hasAttribute("inboxsdk__resize_claimed")||(r.setAttribute("inboxsdk__resize_claimed","true"),new e(()=>{r.clientWidth<900?t.classList.add("inboxsdk__searchIsNarrow"):t.classList.remove("inboxsdk__searchIsNarrow")}).observe(r)))}()}destroy(){this._stopper.destroy(),this._element&&this._element.remove(),this._activeDropdown&&this._activeDropdown.close()}getStopper(){return this._stopper}getElement(){return this._element}open(){try{this._activeDropdown||this._handleClick()}catch(e){this._driver.getLogger().error(e)}}close(){try{this._activeDropdown&&this._handleClick()}catch(e){this._driver.getLogger().error(e)}}_handleButtonDescriptor(e){if(!e)throw new Error("The application passed an invalid value for buttonDescriptor");const t=this._element=this._element||function(e,t){const n=document.createElement("div");n.setAttribute("class","inboxsdk__appButton"),n.innerHTML='<a href="#">\n               <span class="inboxsdk__appButton_title"></span>\n             </a>',n.addEventListener("click",e=>{e.preventDefault(),t()});const r=oe.A.getTopAccountContainer();if(!r){const t=new Error("Could not make button"),n=document.querySelector("[role=banner]");throw e.getLogger().error(t,{type:"failed to make appToolbarButton",gbsfwPresent:!!document.getElementById("gbsfw"),bannerHtml:n&&(0,J.A)(n)}),t}const i=r;if(!i){const t=new Error("Could not make button");throw e.getLogger().error(t,{type:"failed to make appToolbarButton",topAccountContainerHTML:(0,J.A)(r)}),t}try{return oe.A.isGplusEnabled()||n.classList.add("inboxsdk__appButton_noGPlus"),i.insertBefore(n,i.lastElementChild),n}catch(t){throw e.getLogger().error(t,{type:"failed to make appToolbarButton",insertionElementHTML:(0,J.A)(i)}),t}}(this._driver,()=>{this._handleClick()});this._buttonDescriptor=e,(0,zr.A)(this._iconSettings,(0,m.A)(t,"a"),!1,e.iconClass,e.iconUrl),function(e,t){e.textContent=t.title,e.className=`inboxsdk__appButton_title ${t.titleClass||""}`}((0,m.A)(t,"span"),e)}_handleClick(){const e=this._element;if(!e)return;const t=this._buttonDescriptor;if(!t)throw new Error("app toolbar button clicked before receiving button descriptor");if(this._activeDropdown)this._activeDropdown.close();else{var n={},r=new fi.A;r.getContainerElement().classList.add("inboxsdk__appButton_tooltip"),r.getContentElement().innerHTML="",t.arrowColor&&((0,m.A)(r.getContainerElement(),".T-P-atC").style.borderTopColor=t.arrowColor),n.dropdown=this._activeDropdown=new mi.A(r,e,{manualPosition:!0}),n.dropdown.on("destroy",()=>{this._activeDropdown=null}),t.onClick&&t.onClick.call(null,n),this._element&&r.anchor(this._element,{position:"bottom",offset:{top:8}})}}}function gi(e){const t=e.match(/#([^?]*)(?:\?(.*))?/);if(!t)return{name:"inbox",params:[],hash:"",query:void 0};const n=t[1],r=n.split("/");return{name:decodeURIComponent(r[0]),params:r.slice(1).map(e=>e.replace(/\+/g," ")).map(decodeURIComponent),query:t[2],hash:n}}var bi=n(9513),vi=n.n(bi),Ai=n(5098),yi=n.n(Ai);const wi=vi()(e=>new RegExp("^"+yi()(e).replace(/\/:[^/]+/g,"/([^/]+)")+"/?$"));function Ci(e,t){const n=Array.isArray(e)?e:[e];return l()(n,e=>t.match(wi(e)))}class xi{_activeMarkerElement=null;_isActive=!1;_itemContainerElement=null;constructor(e,t,n){this._driver=e,this._element=t,this._eventStream=H()(),this._elementBus=H()(),this._elementStream=this._elementBus.toProperty(()=>this._element),this._navItemName=n;const r=this._element.parentElement;r&&(0,K.A)(r,{childList:!0}).map(()=>r.querySelector(`.aim a[href*="#${this._navItemName}"]`)).filter(at.A).map(e=>Z(e,e=>e.classList.contains("aim"))).filter(at.A).filter(e=>e!==this._element).onValue(e=>{if(e){const t=this._itemContainerElement;t&&(t.remove(),this._itemContainerElement=null),this._elementBus.emit(e)}}),this._elementStream.onValue(e=>{this._element=e,this._monitorElementForActiveChanges(),this.setActive(this._isActive)})}destroy(){this._element.classList.remove("inboxsdk__navItem_claimed"),this._eventStream.end(),this._elementBus.end(),this._activeMarkerElement&&this._activeMarkerElement.remove(),this._itemContainerElement&&this._itemContainerElement.remove()}getElement(){return this._element}getEventStream(){return this._eventStream}addNavItem(e,t){const n=new Kr(this._driver,e,2);return u.merge([n.getEventStream().filter(e=>"orderChanged"===e.eventName),this._elementStream]).onValue(()=>this._addNavItemElement(n)),n.setNavItemDescriptor(t),n}setActive(e){this._isActive=e;const t=(0,m.A)(this._element,".TO");e?(this._element.classList.add("ain"),t.classList.add("nZ"),t.classList.add("aiq")):(this._element.classList.remove("ain"),t.classList.remove("nZ"),t.classList.remove("aiq")),this._setHeights()}toggleCollapse(){this._toggleCollapse()}setCollapsed(e){localStorage["inboxsdk__nativeNavItem__state_"+this._navItemName]=e,this._element.querySelector(".inboxsdk__expando")&&(e?this._collapse():this._expand())}remove(){}_monitorElementForActiveChanges(){this._element.classList.add("inboxsdk__navItem_claimed");const e=this._element,t=(0,K.A)(e,{attributes:!0,attributeFilter:["class"]}).takeUntilBy(this._eventStream.filter(()=>!1).beforeEnd(()=>null)).toProperty(()=>[]).map(()=>e);t.filter(e=>e.classList.contains("ain")).onValue(()=>this._createActiveMarkerElement()),t.filter(e=>!e.classList.contains("ain")).onValue(()=>this._removeActiveMarkerElement())}_addNavItemElement(e){const t=this._getItemContainerElement(),n=Pe(e.getElement(),t.children,["data-group-order-hint","data-order-hint","data-insertion-order-hint"]);if(t.insertBefore(e.getElement(),n),!e.isSection()){const t=e.getElement();(0,m.A)(t,".TN").style.marginLeft="12px"}this._setHeights()}_getItemContainerElement(){let e=this._itemContainerElement;return e||(e=this._itemContainerElement=this._element.querySelector(".inboxsdk__navItem_container"),e||(e=this._createItemContainerElement(),this._createExpando())),e}_createItemContainerElement(){const e=this._itemContainerElement=document.createElement("div");return e.classList.add("inboxsdk__navItem_container"),this._element.appendChild(e),e}_createExpando(){const e=this._element.querySelector("a"),t=document.createElement("div");t.setAttribute("class","TH aih J-J5-Ji inboxsdk__expando"),t.setAttribute("role","link"),t.title=`Expand ${e?e.title||e.textContent:""}`,t.addEventListener("click",e=>{this._toggleCollapse(),e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},!0);const n=this._element.querySelector(".TN");n&&n.insertAdjacentElement("afterbegin",t),"collapsed"===localStorage["inboxsdk__nativeNavItem__state_"+this._navItemName]?this._collapse():this._expand()}_toggleCollapse(){this._element.querySelector(".inboxsdk__expando")?"collapsed"===localStorage["inboxsdk__nativeNavItem__state_"+this._navItemName]?this._expand():this._collapse():"collapsed"===localStorage["inboxsdk__nativeNavItem__state_"+this._navItemName]?localStorage["inboxsdk__nativeNavItem__state_"+this._navItemName]="expanded":localStorage["inboxsdk__nativeNavItem__state_"+this._navItemName]="collapsed"}_collapse(){const e=(0,m.A)(this._element,".inboxsdk__expando");e.classList.remove("aih"),e.classList.add("aii"),this._itemContainerElement&&(this._itemContainerElement.style.display="none"),localStorage.setItem("inboxsdk__nativeNavItem__state_"+this._navItemName,"collapsed"),this._eventStream.emit({eventName:"collapsed"}),this._setHeights()}_expand(){const e=(0,m.A)(this._element,".inboxsdk__expando");e.classList.add("aih"),e.classList.remove("aii"),this._itemContainerElement&&(this._itemContainerElement.style.display=""),localStorage.setItem("inboxsdk__nativeNavItem__state_"+this._navItemName,"expanded"),this._eventStream.emit({eventName:"expanded"}),this._setHeights()}_isExpanded(){return!!this._element.querySelector(".inboxsdk__expando.aih")}_setHeights(){if(this._element.classList.contains("ain")&&this._itemContainerElement){const e=(0,m.A)(this._element,".TO");this._element.style.height="";const t=this._element.clientHeight,n=e.clientHeight;this._element.style.height=n+"px",this._element.style.overflow="visible",this._element.style.marginBottom=t-n+"px"}else this._element.style.height="",this._element.style.overflow="",this._element.style.marginBottom=""}_createActiveMarkerElement(){this._removeActiveMarkerElement();const e=this._activeMarkerElement=document.createElement("div");e.classList.add("inboxsdk__navItem_marker"),e.classList.add("ain"),e.innerHTML="&nbsp;",this._element.insertBefore(e,this._element.firstElementChild)}_removeActiveMarkerElement(){const e=this._activeMarkerElement;e&&(e.remove(),this._activeMarkerElement=null)}}var Ei=n(2893),ki=n(8105);var Si=n(2180),Ii=n.n(Si),Ti=n(2436),Di=n.n(Ti);function Bi(e){return new(Di())({read(){throw new Error("should not happen; liveset was inactive")},listen(t,n){t(new Set);const r=e.observe({value(e){let{el:t,removalStream:r}=e;n.add(t),r.take(1).onValue(()=>{n.remove(t)})}});return()=>{r.unsubscribe()}}})}const Mi=class{#Kr={isDarkMode:{frame:!1,body:!1}};#Se;#Jr;#Zr;#Xr;#ei=new Set;#ti=new Map;#ni=new Map;#ri=new Map;#ii;#oi;#si;#oe;#ai;#li;#ui;#ci;#hr;#di;#hi;#pi;#fi;#mi;#_i;#gi;#e=d()();#bi=H()();#vi=H()();#Ai;#yi;#wi;#Ci;#xi;#Dr;#Ei=null;constructor(e,t,r,i,o,s){this.#Se=e,this.#Jr=i,this.#Zr=o,this.#Xr=s,this.#oe=(0,Gn.A)(this,document),this.#e.onValue(()=>this.#oe.dump());{const e=new(Or())({key:"inboxsdk__cached_thread_ids",getAfromB:e=>async function(e,t){const n={ui:2,ik:e.getPageCommunicator().getIkValue(),view:"cv",th:t,nsc:1,mb:0,rt:"j",search:"all"},r=await(0,Nr.A)({method:"POST",url:document.location.origin+document.location.pathname+"?"+Oe.stringify(n),canRetry:!0}),i=Lr.Yl(r.text);if(1!==Object.keys(i).length)throw new Error(`Expected to find 1 thread/message ID pair, but got ${Object.keys(i).length}`);const o=i[t];if(!o)throw new Error("Could not find a message ID for given thread ID");return vr(e,o)}(this,e),getBfromA:e=>(0,Mr.A)(this,e)});this.getGmailThreadIdForRfcMessageId=t=>e.getBfromA(t),this.getRfcMessageIdForGmailThreadId=t=>e.getAfromB(t)}{const e=new(Or())({key:"inboxsdk__cached_sync_thread_id_old_gmail_thread_id",getAfromB:e=>async function(e,t){const{threads:n,_text:r}=await(0,fr.A)(e,"threadid:"+new(Ii())(t,16).toString(10)),i=n[0];if(null==i){console.error(`Thread with ID ${t} not found by Gmail`);const n=(0,Ce.A)(e.getAppId()),i=new Error("Thread not found by getSyncThreadForOldGmailThreadId");throw e.getLogger().error(i,{oldGmailThreadId:n?t:null,responseText:n?r:null}),i}return i}(this,e).then(e=>{let{syncThreadID:t}=e;return t}),getBfromA:e=>async function(e,t){const[n,r]=await Promise.all([e.getPageCommunicator().getBtaiHeader(),e.getPageCommunicator().getXsrfToken()]);return async function(e,t,n){let r=null;try{const{text:i}=await(0,Nr.A)({method:"POST",url:`https://mail.google.com/sync${(0,ki.A)()}/i/fd`,headers:{"Content-Type":"application/json","X-Framework-Xsrf-Token":n,"X-Gmail-BTAI":t,"X-Google-BTD":"1"},data:JSON.stringify({1:[{1:e,2:1}]})});r=i}catch(i){const{text:o}=await(0,Nr.A)({method:"POST",url:`https://mail.google.com/sync${(0,ki.A)()}/i/fd?rt=r&pt=ji`,headers:{"Content-Type":"application/json","X-Framework-Xsrf-Token":n,"X-Gmail-BTAI":t,"X-Google-BTD":"1"},data:JSON.stringify([[[e,1]],2])});r=o}const i=(0,ni.gb)(r);if(i.length>0){const e=i[0];if(e.oldGmailThreadID)return e}return null}(t,n,r)}(this,e).then(e=>{if(e)return e.oldGmailThreadID;throw new Error("syncThread not found")})});this.getSyncThreadIdForOldGmailThreadId=t=>e.getAfromB(t),this.getOldGmailThreadIdFromSyncThreadId=t=>e.getBfromA(t),this.removeCachedOldGmailThreadIdFromSyncThreadId=t=>e.removeAfromCache(t)}{const e=new(Or())({key:"inboxsdk__cached_gmail_and_inbox_message_ids_3",getAfromB:e=>(0,Vr.A)(this,e),getBfromA(){throw new Error("should not happen")}});this.getGmailMessageIdForSyncMessageId=t=>e.getAfromB(t),this.removeCachedGmailMessageIdForSyncMessageId=t=>e.removeBfromCache(t),this.getGmailMessageIdForSyncDraftId=e=>(0,Vr.A)(this,e)}this.#oi=new ur,this.#si=new cr,this.#ci=new Dr,u.later(45e3,void 0).takeUntilBy((0,lt.A)(this.#oe.tree.getAllByTag("supportMenu"))).onValue(()=>{this.#Jr.errorSite(new Error("Failed to find gmail supportMenu"))}),this.#ki(),this.onready.then(()=>{var e,t;(function(e){e.getComposeViewDriverStream().onValue(t=>{var n=function(e,t){var n=e.getLogger(),r={isInlineReply:t.isInlineReplyForm(),isReply:t.isReply()};return function(e,t){n.eventSite(e,{...r,...t})}}(e,t);n("compose open"),function(e,t){(function(e,t){var n=e.getElement().querySelector(".a1");n&&u.default.fromEvents(n,"mousedown").takeUntilBy(e.getStopper()).onValue(()=>{t("attachment button clicked"),function(e,t){(0,ge.A)(document.body).map(e=>e.el).filter(e=>e&&"file"===e.type).take(1).flatMap(t=>u.default.fromEvents(t,"change").map(()=>!0).merge(u.default.fromEvents(e.getBodyElement(),"focus").map(()=>!1).delay(1e3))).take(1).filter(Boolean).takeUntilBy(e.getStopper()).onValue(()=>t("attachment uploaded"))}(e,t)})})(e,t),function(e,t){var n=e.getElement().querySelector(".aA7");n&&u.default.fromEvents(n,"mousedown").takeUntilBy(e.getStopper()).onValue(()=>{t("drive button clicked"),function(e,t){var n=e.getBodyElement().querySelectorAll(".gmail_drive_chip").length;(0,ge.A)(document.body).map(e=>e.el).filter(e=>e&&e.classList.contains("picker-dialog")).take(1).flatMap(t=>u.default.fromEvents(e.getBodyElement(),"focus").delay(1e3).map(()=>e.getBodyElement()?e.getBodyElement().querySelectorAll(".gmail_drive_chip").length:0).map(e=>n<e).take(1)).take(1).filter(Boolean).takeUntilBy(e.getStopper()).onValue(()=>t("drive file added"))}(e,t)})}(e,t)}(t,n)})})(t=this),function(e){(0,ge.A)(document.body).map(e=>e.el).filter(e=>e.getAttribute&&"alertdialog"===e.getAttribute("role")).takeUntilBy(e.getStopper()).onValue(t=>{var n=t.querySelector("[role=heading]");if(n&&n.textContent.indexOf("exceeds the 25MB")>-1)e.getLogger().eventSite("large attachment suggest drive");else{var r=t.querySelector(".Kj-JD-Jz");r&&r.textContent.indexOf("exceeds the maximum")>-1&&e.getLogger().eventSite("large attachment from drag and drop")}})}(t),function(e){e.getComposeViewDriverStream().flatMapLatest(()=>u.default.fromEvents(document.body,"dragenter").filter(e=>e.toElement).filter(e=>e.toElement.classList.contains("aC7")||e.toElement.classList.contains("aC9")).take(1)).takeUntilBy(e.getStopper()).onValue(()=>e.getLogger().eventSite("compose drag file")),e.getComposeViewDriverStream().flatMapLatest(()=>u.default.fromEvents(document.body,"drop").filter(e=>e.toElement).filter(e=>e.toElement.classList.contains("aC7")||e.toElement.classList.contains("aC9")).take(1)).takeUntilBy(e.getStopper()).onValue(()=>e.getLogger().eventSite("compose drop file"))}(t),async function(e){const t=e.getPageCommunicator(),n=await t.isConversationViewDisabled();await Zr();const r=await async function(){try{await(0,v.A)(()=>Kt())}catch(e){if(e instanceof v.D)return null;throw e}return Zt()}(),i=await async function(){const e=".brC-aT5-aOt-Jw[role=complementary]";try{await(0,v.A)(()=>document.querySelector(e),1e4),await(0,v.A)(()=>document.querySelector(".aT5-aOt-I[role=button]"))}catch(e){if(e instanceof v.D)return null;throw e}return null!=document.querySelector(`${e}[style*="display: none;"]`)}(),o=performance?.timing;e.logger.eventSite("gmailSettings",{isGmailIntegratedView:(0,di.Ay)(),isCollapsiblePanelHidden:(0,di.HW)(),isGoogleChatEnabled:(0,di.Zu)(),isSidePanelCollapsed:i,isDarkTheme:r,screenWidth:window.screen?.width,screenHeight:window.screen?.height,windowWidth:window.innerWidth,windowHeight:window.innerHeight,language:t.getUserLanguage(),previewPane:t.getUserOriginalPreviewPaneMode(),isConversationViewDisabled:n,wasAccountSwitcherReadyAtStart:e.getEnvData().wasAccountSwitcherReadyAtStart,timings:{responseStart:o?.responseStart,responseEnd:o?.responseEnd,domLoading:o?.domLoading,domInteractive:o?.domInteractive,domComplete:o?.domComplete,domContentLoadedEventStart:o?.domContentLoadedEventStart,domContentLoadedEventEnd:o?.domContentLoadedEventEnd,domainLookupEnd:o?.domainLookupEnd,domainLookupStart:o?.domainLookupStart,fetchStart:o?.fetchStart,loadEventStart:o?.loadEventStart,loadEventEnd:o?.loadEventEnd,navigationStart:o?.navigationStart,requestStart:o?.requestStart,...e.getTimings()}})}(this),(0,pi.A)(this,this.#oi),async function(){if(document.head.hasAttribute("data-inboxsdk-gmail-style-tracker")||oe.A.isStandalone())return;document.head.setAttribute("data-inboxsdk-gmail-style-tracker","true");let e=null,t=null;function n(){const n=function(){const e=document.querySelector(".aim");if(!e)return q.A.error(new Error("Failed to find a nav item element")),"default";const t=e.getBoundingClientRect();return 24===t?.height?"compact":"default"}();e!==n&&(e&&document.body.classList.remove("inboxsdk__gmail_density_"+e),e=n,document.body.classList.add("inboxsdk__gmail_density_"+e));const r=Zt();t!==r&&(t=r,t?document.body.classList.add("inboxsdk__gmail_dark_theme"):document.body.classList.remove("inboxsdk__gmail_dark_theme"));const i=function(){const e=document.querySelector(".bkK > .nH");if(!e)return!1;const t=getComputedStyle(e).backgroundColor,{r:n}=Jt(t)??{};return null!=n&&n<128}();i?document.body.classList.add("inboxsdk__gmail_dark_body_theme"):document.body.classList.remove("inboxsdk__gmail_dark_body_theme"),Xt.emit({type:"theme",isDarkMode:{frame:t,body:i}})}try{await(0,v.A)(()=>document.querySelector(".TO .TN")&&document.querySelector($t))}catch(e){return void q.A.error(e)}const r=new MutationObserver(n),i={characterData:!0,childList:!0};for(const e of document.styleSheets)e.ownerNode instanceof Element&&"STYLE"==e.ownerNode.tagName&&r.observe(e.ownerNode,i);n()}(),"sdk_streak_21e9788951"===(e=this).getAppId()&&n.g.fetch&&!Br&&(Br=!0,e.getAttachmentCardViewDriverStream().filter(e=>"FILE"===e.getAttachmentType()).filter(()=>Math.random()<.01).onValue(async t=>{const n=t._getDownloadLink();let r;try{r=await t.getDownloadURL()}catch(r){return void e.getLogger().error(r,{reason:"problem getting download url",downloadLinkBefore:n,downloadLinkAfter:t._getDownloadLink()})}r?e.getLogger().eventSdkPassive("testing.getDownloadURL success"):e.getLogger().error(new Error("no download url found"),{downloadLinkBefore:n,downloadLinkAfter:t._getDownloadLink()})})),null!=o.suppressAddonTitle&&function(e,t){(0,le.A)(()=>oe.A.getCompanionSidebarIconContainerElement()).map(t=>t.querySelector(".J-KU-Jg, [role=tablist], .brC-bsf-aT5-aOt")||(e.getLogger().error(new Error("_waitForAddonTitleAndSuppress: elementToWatch not found")),null)).filter().flatMap(ge.A).filter(e=>{let{el:n}=e;return"tab"===n.getAttribute("role")&&(n.getAttribute("data-tooltip")||n.getAttribute("aria-label"))===t}).takeUntilBy(e.getStopper()).onValue(e=>{let{el:t}=e;(t.classList.contains("J-KU-KO")||t.classList.contains("bse-bvF-I-KO")||t.classList.contains("aT5-aOt-I-KO"))&&(0,b.jp)(t),t.style.display="none"}).onError(t=>{e.getLogger().error(t,"error in suppressAddon")})}(this,o.suppressAddonTitle)}).catch(e=>{this.#Jr.error(e)})}destroy(){this.#Si.end(),this.#si.destroy(),this.#e.destroy(),(0,_e.v)()}getAppId(){return this.#Se}getOpts(){return this.#Zr}getPageCommunicator(){return this.#ai}getPageCommunicatorPromise(){return this.#li}get logger(){return this.#Jr}getLogger(){return this.#Jr}getTagTree(){return this.#oe.tree}getCustomListSearchStringsToRouteIds(){return this.#ni}getThreadRowIdentifier(){return this.#ii}getButterBarDriver(){return this.#ci}getButterBar(){return this.#ui}setButterBar(e){this.#ui=e}getCustomRouteIDs(){return this.#ei}getCustomListRouteIDs(){return this.#ti}getKeyboardShortcutHelpModifier(){return this.#si}getRouteViewDriverStream(){return this.#hr}getThreadRowViewDriverStream(){return this.#hi}getThreadViewDriverStream(){return(0,lt.A)(this.#pi).map(e=>{let{el:t}=e;return t})}getAttachmentCardViewDriverStream(){return this.#gi.flatMap(e=>e.isLoaded()?u.constant(e):e.getEventStream().filter(e=>"messageLoad"===e.eventName).map(()=>e).take(1)).map(e=>e.getAttachmentCardViewDrivers()).flatten()}getComposeViewDriverStream(){return this.#mi}getXhrInterceptorStream(){return this.#_i}getMessageViewDriverStream(){return this.#gi}getStopper(){return this.#e}getEnvData(){return this.#Xr}getTimestampOnReady(){return null==this.#Ci?(this.#Jr.error(new Error("getTimestampOnReady called before ready")),Date.now()):this.#Ci}delayToTimeAfterReady(e){const t=this.getTimestampOnReady()+e,n=Math.max(0,t-Date.now());return u.later(n,void 0)}getTimings(){return{piMainStarted:this.#Xr.piMainStarted,piLoadStarted:this.#Xr.piLoadStarted,globalsFound:this.#wi,accountSwitcherReady:this.#yi,onready:this.#Ci}}registerThreadButton(e){const t=d()(),n=e=>{t.takeUntilBy(e.getStopper()).onValue(()=>{e.destroy()})},r=qn()(this.#fi).subscribe(t=>{let{value:r}=t;r.isForThread()?e.positions&&!Le()(e.positions,"THREAD")||n(r.addButton({...e,section:e.threadSection||"METADATA_STATE",onClick:t=>{e.onClick({position:"THREAD",dropdown:t.dropdown,selectedThreadViewDrivers:[r.getThreadViewDriver()],selectedThreadRowViewDrivers:[]})}})):r.isForRowList()&&(e.positions&&!Le()(e.positions,"LIST")||n(r.addButton({...e,section:e.listSection||"METADATA_STATE",onClick:t=>{const n=Array.from(r.getThreadRowViewDrivers()).filter(e=>e.isSelected());e.onClick({position:"LIST",dropdown:t.dropdown,selectedThreadViewDrivers:[],selectedThreadRowViewDrivers:n})}})))});if(t.onValue(()=>{r.unsubscribe()}),!e.positions||Le()(e.positions,"ROW")){const n=n=>{n.addButton(u.constant({hasDropdown:e.hasDropdown,iconClass:e.iconClass,iconUrl:e.iconUrl,title:e.title,orderHint:e.orderHint,onClick:t=>{e.onClick&&e.onClick({position:"ROW",dropdown:t.dropdown,selectedThreadViewDrivers:[],selectedThreadRowViewDrivers:[n]})}}).merge(t))};this.#Dr&&this.#Dr.getRowListViews().forEach(e=>{e.getThreadRowViewDrivers().forEach(n)});const r=this.#hi.observe({value:n});t.onValue(()=>{r.unsubscribe()})}return()=>{t.destroy()}}hashChangeNoViewChange(e){if("#"!==e[0])throw new Error("bad hash");window.history.replaceState(null,null,e);var t=new window.HashChangeEvent("hashchange",{oldURL:document.location.href.replace(/#.*$/,"")+"#inboxsdk-fake-no-vc",newURL:document.location.href.replace(/#.*$/,"")+e});window.dispatchEvent(t)}addCustomRouteID(e){return this.#ei.add(e),this.#ai.registerAllowedHashLinkStartTerm(e.split("/")[0]),()=>{this.#ei.delete(e)}}addCustomListRouteID(e,t){return this.#ti.set(e,t),this.#ai.registerAllowedHashLinkStartTerm(e.split("/")[0]),()=>{this.#ti.delete(e)}}signalCustomThreadListActivity(e){this.#xi={customRouteID:e,timestamp:new Date}}getLastCustomThreadListActivity(){return this.#xi}showCustomThreadList(e,t,n){!function(e,t,n,r){const i=((e,t,n,r)=>{const i=oi.get(n);if(i)return i;const o=Date.now()+"-"+Math.random();return e.getPageCommunicator().setupCustomListResultsQuery(o),e.getPageCommunicator().ajaxInterceptStream.filter(e=>"searchForReplacement"===e.type&&e.query===o).onValue(i=>{let{start:s}=i;(async()=>{let i,a;e.signalCustomThreadListActivity(t);try{const t=await Promise.resolve(n(s,50)),r=function(e,t,n){if(Array.isArray(n)){e.deprecationWarning("Returning an array from a handleCustomListRoute handler","a CustomListDescriptor object");const t=si(n,e);return{total:t.length,threads:t}}if("object"==typeof n){const{total:r,hasMore:i,threads:o}=n;if(!Array.isArray(o))throw new Error('handleCustomListRoute result must contain a "threads" array (https://www.inboxsdk.com/docs/#Router).');if(null!=r&&null!=i)throw new Error('handleCustomListRoute result must only contain either a "total" or a "hasMore" property, but not both. (https://www.inboxsdk.com/docs/#Router).');if("number"==typeof r)return{total:r,threads:si(o,e)};if("boolean"==typeof i){const n=si(o,e);return{total:i?"MANY":t+o.length,threads:n}}throw new Error('handleCustomListRoute result must contain either a "total" number or a "hasMore" boolean (https://www.inboxsdk.com/docs/#Router).')}throw new Error("handleCustomListRoute result must be an array or an object (https://www.inboxsdk.com/docs/#Router).")}(e.getLogger(),s,t);i=r.total,a=r.threads}catch(t){e.getLogger().error(t),i=0,a=[]}const u=a.map(li).filter(at.A),c=(await Promise.all(u.map(t=>function(e,t,n){if("string"==typeof t.rfcId)return Promise.resolve(t);if("string"==typeof t.gtid){const r=t.gtid;return e.getRfcMessageIdForGmailThreadId(r).then(e=>({gtid:r,rfcId:e}),e=>n(r,e))}throw new Error("Should not happen")}(e,t,r)))).filter(at.A),d=c.length>0?c.map(e=>{let{rfcId:t}=e;return"rfc822msgid:"+t}).join(" OR "):""+Math.random()+Date.now();e.getPageCommunicator().setCustomListNewQuery({newQuery:d,newStart:0,query:o,start:s});const h=e.getPageCommunicator().ajaxInterceptStream.filter(e=>"searchResultsResponse"===e.type&&e.query===o&&e.start===s).map(e=>e.response).take(1).toPromise(),p=yr()((await Promise.all(c.map(t=>function(e,t,n){return"string"==typeof t.gtid?Promise.resolve(t):e.getGmailThreadIdForRfcMessageId(t.rfcId).then(e=>({gtid:e,rfcId:t.rfcId}),e=>n(t.rfcId,e))}(e,t,r)))).filter(at.A),e=>e.gtid),f=await h;let m;e.signalCustomThreadListActivity(t);try{const t=ni.Uf(f),n=p.map(e=>{let{gtid:n}=e;return l()(t,e=>e.oldGmailThreadID===n)}).filter(at.A);let r;if(t.length!==n.length||t.some((e,t)=>e!==n[t])){const e=Date.now();r=n.map((t,n)=>{const r=Array.isArray(t.rawResponse),i=String(e-n);let o=ii()(t,{rawResponse:r?{0:{2:{$set:i},7:{$set:i}}}:{1:{3:{$set:i},8:{$set:i}}}});return(r?t.rawResponse[0][4]:t.rawResponse[1][5])&&(o=ii()(o,{rawResponse:r?{0:{4:e=>e.map(e=>ii()(e,{6:{$set:i},17:{$set:i},30:{$set:i}}))}}:{1:{5:e=>e.map(e=>ii()(e,{7:{$set:i},18:{$set:i},31:{$set:i}}))}}})),o})}else r=t;m=ni.q6(f,r,{start:s,total:i}),e.getPageCommunicator().setCustomListResults(o,m)}catch(t){e.getLogger().error(t,{responseReplacementFailure:!0,idPairsLength:p.length});const n=e.getButterBar();n&&n.showError({text:"Failed to load custom thread list"});try{e.getPageCommunicator().setCustomListResults(o,ni.q6(f,[],{start:s,total:i}))}catch(t){e.getLogger().error(t),e.getPageCommunicator().setCustomListResults(o,null)}return}setTimeout(()=>{const t=document.querySelector(".vY .vX.UC");if(t&&"none"!==t.style.display&&/#\d+/.test(t.textContent)){const n=(0,Ce.A)(e.getAppId());e.getLogger().error(new Error("Gmail error with custom thread list"),{message:t.textContent,completedIDPairsLength:p.length,response:n?f:null,newResponse:n?m:null})}},1e3)})().catch(t=>e.getLogger().error(t))}),e.getCustomListSearchStringsToRouteIds().set(o,t),oi.set(n,o),o})(e,t,n,arguments.length>4&&void 0!==arguments[4]?arguments[4]:ai),o=document.location.hash,s=oe.A.getSearchInput();if(!s)throw new Error("could not find search input");oe.A.getMainContentElementChangedStream().changes().take(1).map(()=>s).flatMapLatest(e=>(0,K.A)(e,{attributes:!0,attributeOldValue:!0}).filter(e=>e.some(e=>"role"===e.attributeName&&"combobox"===e.oldValue)).merge(u.default.later(15e3,null)).take(1)).onValue(()=>{s.value="",s.style.visibility="visible"}),s.style.visibility="hidden";const a="#search/"+[i,...r].map(encodeURIComponent).join("/");window.history.replaceState(null,null,a);const c=new window.HashChangeEvent("hashchange",{oldURL:document.location.href.replace(/#.*$/,"")+o,newURL:document.location.href.replace(/#.*$/,"")+a});window.dispatchEvent(c)}(this,e,t,n)}showCustomRouteView(e){(0,ui.A)(this,e)}showNativeRouteView(){!function(){const e=oe.A.getContentSectionElement();e&&(Array.prototype.forEach.call(e.children,e=>{e.style.display=""}),document.body.classList.contains("inboxsdk__custom_view_active")&&(document.body.classList.remove("inboxsdk__custom_view_active"),(0,Jn.A)()))}()}createLink(e,t){return function(e,t,n){if(n="string"==typeof n?n:n?Object.assign({},n):{},t=e.getCompatibleRouteID(t),"string"==typeof n){var r=t.match(/:/g);if(r&&1===r.length){var i=n;(n={})[t.match(/:(\w+)($|\/)?/)[1]]=i}else n={}}t.match(/:page(?:\/|$)/)&&!n.page&&(n.page=0);const o=t.split("/");let s;try{s=function(e,t){const n=t||{},r=new Set,i=e.replace(/:([^/]+)/g,(e,t)=>{if(t in n)return r.add(t),encodeURIComponent(String(n[t]));throw new Error(`Missing param: ${t}`)});if(Object.keys(n).length!==r.size)throw new Error("Extra parameters given");return i}(t,n)}catch(e){q.A.error(e,{routeID:t,paramsKey:Object.keys(n)}),s=o.map(function(e){if(-1===e.indexOf(":"))return e;const t=e.split(":");return n&&void 0!==n[t[1]]?t[0]+n[t[1]]:t[0]}).map(encodeURIComponent).join("/")}return e.isListRouteName(o[0])&&s.indexOf("p0")===s.length-2&&(s=s.substring(0,s.length-3)),"#"+s}(this.#oi,e,t)}goto(e,t){return(0,ti.A)(this,e,t)}resolveUrlRedirects(e){return this.#li.then(t=>t.resolveUrlRedirects(e))}registerSearchSuggestionsProvider(e){!function(e,t){const n="inboxsdk__suggestions_"+(""+Date.now()+Math.random()).replace(/\D+/g,""),r=e.getPageCommunicator();r.registerSuggestionsModifier(n);const i=r.ajaxInterceptStream.filter(e=>"suggestionsRequest"===e.type).flatMapLatest(r=>{let{query:i}=r;return u.fromPromise(Promise.resolve(t(i))).flatMap(t=>{try{const r=function(e,t){if(!Array.isArray(t))throw new Error("suggestions must be an array");return t.map(t=>{const n={...t};if("string"!=typeof n.name&&"string"!=typeof n.nameHTML)throw new Error("suggestion must have name or nameHTML property");if("string"!=typeof n.routeName&&"string"!=typeof n.externalURL&&"string"!=typeof n.searchTerm&&"function"!=typeof n.onClick)throw new Error("suggestion must have routeName, externalURL, searchTerm, or onClick property");if("string"==typeof n.iconURL){const t=n.iconURL;e.getLogger().deprecationWarning('AutocompleteSearchResult "iconURL" property',"AutocompleteSearchResult.iconUrl"),n.iconUrl||(1===e.getOpts().REQUESTED_API_VERSION?n.iconUrl=t:console.error("Support for iconURL property was dropped after API version 1")),delete n.iconURL}return n})}(e,t),i=r.map(e=>({...e,providerId:n,id:`${Date.now()}-${Math.random()}`}));return u.constant(i)}catch(e){return u.constantError(e)}}).mapErrors(t=>(e.getLogger().error(t),[])).map(e=>({query:i,suggestions:e}))}).onValue(e=>{r.provideAutocompleteSuggestions(n,e.query,e.suggestions)}).map(e=>e.suggestions),o=e.getRouteViewDriverStream().toProperty(()=>null).map(()=>oe.A.getSearchInput()).filter(at.A).take(1),s=o.flatMapLatest(e=>u.fromEvents(e,"focus")).map(()=>oe.A.getSearchSuggestionsBoxParent()).filter(at.A).flatMapLatest(ge.A).map(e=>e.el.firstElementChild).take(1).toProperty(),a=s.flatMap(e=>(0,K.A)(e,{childList:!0}).toProperty(()=>null)).map(()=>null),c=o.flatMap(e=>(0,f.A)(document,"keydown").filter(t=>13==t.keyCode&&t.target===e)),d=s.sampledBy(a).map(e=>Array.from(e.children).filter(e=>e.getElementsByClassName(n).length>0));d.onValue(e=>{if(e[0]&&e[0].previousElementSibling){const t=e[0].previousElementSibling.firstElementChild;t&&t.classList.add("inboxsdk__suggestions_separator_before");const n=e[0].firstElementChild;n&&n.classList.add("inboxsdk__suggestions_separator_after")}});const h=d.flatMapLatest(e=>u.merge(e.map(e=>u.merge([(0,f.A)(e,"click"),c.filter(()=>e.classList.contains("gssb_i"))]).map(t=>({event:t,row:e}))))),p=u.merge([i,o.flatMapLatest(e=>u.fromEvents(e,"blur")).map(()=>[])]).toProperty();u.combine([h,o],[p]).onValue(t=>{const[{event:n,row:r},i,o]=t,s=r.querySelector("span[data-inboxsdk-suggestion]"),a=s?JSON.parse(s.getAttribute("data-inboxsdk-suggestion")||"null"):null,u=F()(()=>{n.stopImmediatePropagation(),n.preventDefault(),i.blur(),i.value=""});if(a){const{id:t}=a,n=l()(o,e=>e.id===t);n||e.getLogger().error(new Error("Failed to find suggestion by id")),n&&n.onClick&&(u(),n.onClick.call(null))}a&&a.routeName?(u(),e.goto(a.routeName,a.routeParams)):a&&a.externalURL&&(u(),window.open(a.externalURL))})}(this,e)}registerSearchQueryRewriter(e){!function(e,t){e.createCustomSearchTerm(t.term),e.ajaxInterceptStream.filter(e=>"searchQueryForReplacement"===e.type&&e.term===t.term).onValue(n=>{Promise.resolve(t.termReplacer({})).then(r=>{if("string"!=typeof r)throw new Error("termReplacer response must be a string");const i="("+r+")",o=n.query.replace(t.term,()=>i);e.setSearchQueryReplacement(n.query,o)})})}(this.#ai,e)}addToolbarButtonForApp(e){return function(e,t){return oe.A.waitForGmailModeToSettle().then(()=>oe.A.isStandalone()?new Promise((e,t)=>{}):new _i(e,t))}(this,e)}async openNewComposeViewDriver(){try{const e=this.getNextComposeViewDriver();return await async function(){if(await oe.A.waitForGmailModeToSettle(),oe.A.isStandaloneComposeWindow()||oe.A.isStandaloneThreadWindow())throw new Error("Can not open new compose while in standalone window");oe.A.getComposeButton()||await(0,v.A)(()=>!!oe.A.getComposeButton());const e=oe.A.getComposeButton();if(!e)throw new Error("Could not find compose button");(0,b.jp)(e)}(),await e}catch(e){throw this.#Jr.error(e),e}}getNextComposeViewDriver(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4;return this.#mi.merge(u.later(e,new Error("Reached timeout while waiting for getNextComposeViewDriver"))).beforeEnd(()=>new Error("Driver was shut down before a new compose was found")).flatMap(e=>e instanceof Error?u.constantError(e):u.constant(e)).take(1).takeErrors(1).toPromise()}openDraftByMessageID(e){return async function(e,t){const n=await vr(e,t),{threads:r}=await(0,fr.A)(e,"rfc822msgid:"+n);if(0===r.length)throw new Error("Failed to get sync message id");const i=r[0],o=i.extraMetaData.syncMessageData.find(e=>e.oldMessageID===t);if(!o)throw new Error("Failed to find syncMessageData");const{syncMessageID:s}=o,a=function(e,t,n){e="#"+e.replace(/^#/,"");const[r,i]=e.split("?"),o=Oe.parse(i);return o.compose=function(e,t){const n=`${e.replace(/^thread-/,"")}+${t}`,r=_r.from(n).toString("base64").replace(/=/g,"");return(0,mr.convertBase)(r,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/","BCDFGHJKLMNPQRSTVWXZbcdfghjklmnpqrstvwxz")}(t,n),r+"?"+Oe.stringify(o)}(window.location.hash,i.syncThreadID,s);window.location.hash=a}(this,e)}createModalViewDriver(e){return new er(e)}createMoleViewDriver(e){return new ir(this,e)}createDrawerViewDriver(e){return new lr(e)}createBackdrop(e,t){return new Kn(e,t)}addNavItem(e,t,n){return async function(e,t,n,r){await Zr();const i=new Kr(e,t,1);return i.setNavItemDescriptor(n),oe.A.isStandalone()||Jr(i,r),i}(this,e,t,n)}addNavItemToPanel(e,t,n){return async function(e,t,n,r){await Zr();const i=new Kr(e,t,1);if(i.setNavItemDescriptor(n),!oe.A.isStandalone())if(i.isSection()){const e=function(e){return(0,m.A)(e,gn)}(r);Jr(i,e)}else{const e=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(!e.querySelector(Wr(t))){const o=Qr(t,n,r,i),s=e.querySelector(gn);if(!s)return e;(0,ue.A)(s,o)}return(0,m.A)(e,Gr(t))}(r,i.sectionKey);Jr(i,e)}return i}(this,e,t,n)}addAppMenuItem(e){return async function(e,t){const n=await oe.A.getAppMenuAsync(),r=new ln(e,t);try{if(!n)return;const e=Number.isInteger(t.insertIndex)?n.childNodes[t.insertIndex]??null:null;n.insertBefore(r.element,e)}catch(e){q.A.error(e)}return r}(this,e)}addSupportItem(e){return function(e,t){return new ei(e,t)}(this,e)}getSentMailNativeNavItem(){const e=(t=this,n="sent",(0,v.A)(()=>{const e=oe.A.getLeftNavContainerElement();return e?e.querySelector(`.aim a[href*="#${n}"]`):null},3e5).then(e=>{const r=Z(e,e=>e.classList.contains("aim"));if(!r)throw new Error("native nav item structured weird");return r.__nativeGmailNavItemView||(r.__nativeGmailNavItemView=new xi(t,r,n)),r.__nativeGmailNavItemView}).catch(e=>{if(oe.A.isStandalone())return new Promise((e,t)=>{});throw e}));var t,n;return e.catch(e=>this.#Jr.error(e)),e}setShowNativeNavMarker(e){this.#bi.emit(null);const t=oe.A.getLeftNavContainerElement();t&&(e?t.classList.remove("inboxsdk__hide_native_marker"):(t.classList.add("inboxsdk__hide_native_marker"),this.#e.takeUntilBy(this.#bi).onValue(()=>{t.classList.remove("inboxsdk__hide_native_marker")})))}setShowNativeAddonSidebar(e){this.#vi.emit(null);const t=oe.A.getAddonSidebarContainerElement(),n=oe.A.getMainContentBodyContainerElement();if(t&&n){const t=n.parentElement;if(!t)return;e?t.classList.remove("inboxsdk__hide_addon_container"):(t.classList.add("inboxsdk__hide_addon_container"),this.#e.takeUntilBy(this.#vi).onValue(()=>{t.classList.remove("inboxsdk__hide_addon_container")}))}}async getGmailActionToken(){return this.#ai.getActionTokenValue()}getUserEmailAddress(){return this.#ai.getUserEmailAddress()}isConversationViewDisabled(){return this.#ai.isConversationViewDisabled()}getUserLanguage(){return this.#ai.getUserLanguage()}getUserContact(){return{emailAddress:this.getUserEmailAddress(),name:this.#Ai.getUserName()}}getAccountSwitcherContactList(){return this.#Ai.getAccountSwitcherContactList()}activateShortcut(e,t,n){this.getKeyboardShortcutHelpModifier().set(e,this.#Se,t,n),e.once("destroy",()=>{this.getKeyboardShortcutHelpModifier().delete(e)})}get gmailTheme(){return this.#Kr}get gmailThemeStream(){return Xt.flatMap(e=>"theme"!==e.type?u.never():(this.#Kr.isDarkMode=e.isDarkMode,u.constant(e.isDarkMode)))}#ki(){var e,t,n,r=(t=(e=new Qn).ajaxInterceptStream,n=$n().then(()=>e),{xhrInterceptStream:u.merge([t.filter(function(e){return"emailSending"===e.type}).map(function(e){if(e.draftID)return e;var t=(0,Oe.parse)(e.body);return{type:"emailSending",composeId:t.composeid,draft:t.draft}}),t.filter(function(e){return"emailSent"===e.type}).map(function(e){if(e.draftID)return e;var t=(0,Oe.parse)(e.originalSendBody),n=e.responseText;return{type:"emailSent",composeId:t.composeid,draft:t.draft,response:n}}),t.filter(function(e){return"emailDraftSaveSending"===e.type}).map(function(e){if(e.draftID)return e;var t=(0,Oe.parse)(e.body);return{type:"emailDraftSaveSending",composeId:t.composeid,draft:t.draft}}),t.filter(function(e){return"emailDraftReceived"===e.type}).map(function(e){if(e.draftID)return e;var t=(0,Oe.parse)(e.originalSendBody),n=e.responseText;return{type:"emailDraftReceived",composeId:t.composeid,draft:t.draft,response:n,connectionDetails:e.connectionDetails}})]),pageCommunicatorPromise:n});this.#_i=r.xhrInterceptStream.takeUntilBy(this.#e),this.#li=r.pageCommunicatorPromise,this.onready=this.#li.then(e=>{this.#wi=Date.now(),this.#ai=e,this.#Jr.setUserEmailAddress(this.getUserEmailAddress()),this.#Ai=new wr(this),this.#yi=Date.now(),this.#hr=function(e,t){const n=t.getCustomRouteIDs(),r=t.getCustomListRouteIDs(),i=t.getCustomListSearchStringsToRouteIds();let o=gi(document.location.href).hash,s=null;t.getStopper().onValue(()=>{s&&s.destroy()});let a=o,l={};const c=u.default.fromEvents(window,"hashchange").filter(e=>!e.oldURL.match(/#inboxsdk-fake-no-vc$/)).map(e=>({new:gi(e.newURL),old:gi(e.oldURL)})).filter(e=>e.new.hash!==e.old.hash).map(e=>e.new).map(t=>{const{hash:i,name:o}=t;for(const e of n){const n=Ci(e,i);if(n)return{urlObject:t,type:"CUSTOM",routeID:n}}for(const[e]of r){const n=Ci(e,o);if(n)return{urlObject:t,type:"CUSTOM_LIST_TRIGGER",routeID:n}}return e.isNativeRoute(t.name)?{urlObject:t,type:"NATIVE"}:{urlObject:t,type:"OTHER_APP_CUSTOM"}}),d=c.filter(e=>{let{type:t}=e;return"NATIVE"!==t}),h=c.filter(e=>{let{type:t}=e;return"NATIVE"===t}).filter(e=>{let{urlObject:t}=e;const n=o;return o=t.hash,n===t.hash}).filter(e=>{let{urlObject:t}=e;return t.hash!==a});return u.default.merge([d,h,oe.A.getMainContentElementChangedStream().map(e=>({urlObject:gi(document.location.href),type:"NATIVE"})).filter(t=>e.isNativeRoute(t.urlObject.name))]).map(e=>{const{type:n,urlObject:r}=e;if("NATIVE"===n&&"search"===r.name){const e=i.get(r.params[0]);if(e){const n=oe.A.getSearchInput();if(!n)throw new Error("Should not happen");if(n.value="",1===r.params.length||2===r.params.length&&"p"===r.params[1][0])return t.hashChangeNoViewChange("#"+e+(r.params[1]?"/"+r.params[1]:"")),{type:"CUSTOM_LIST",urlObject:r,routeID:e}}}return e}).map(e=>{const{urlObject:t}=e;return l[t.hash]||(l[t.hash]={data:{}}),l[t.hash].lastUsedTimestamp=Date.now(),Object.keys(l).length>50&&(l=Object.keys(l).sort((e,t)=>l[t].lastUsedTimestamp-l[e].lastUsedTimestamp).slice(0,25).reduce((e,t)=>({...e,[t]:l[t]}),{})),{...e,cachedRouteData:l[t.hash].data}}).map(n=>{if("NATIVE"===n.type||"CUSTOM_LIST"===n.type)t.showNativeRouteView();else if("CUSTOM_LIST_TRIGGER"===n.type)return void t.showCustomThreadList(n.routeID,(0,C.A)(r,n.routeID),n.urlObject.params);return new ct(n,e,t)}).filter(at.A).map(e=>(s&&s.destroy(),s=e,a=gi(document.location.href).hash,e))}(this.#oi,this).takeUntilBy(this.#e).toProperty(),this.#hr.onValue(e=>{this.#Dr=e}),this.#di=this.#Ii("newGmailRowListView").takeUntilBy(this.#e),this.#Ti(),this.#pi=Bi(this.#Ii("newGmailThreadView").takeUntilBy(this.#e).flatMap(e=>e.getReadyStream().map(()=>e)).map(e=>({el:e,removalStream:e.getStopper()}))),this.#Di(),this.#Bi(),this.#Mi(),this.#ii=new hi(this),this.#Ci=Date.now()})}#Mi(){this.#mi=(0,ci.A)(this,this.#gi,this.#_i).takeUntilBy(this.#e)}#Ii(e){return this.#hr.flatMap(t=>t.getEventStream().filter(t=>t.eventName===e).map(e=>e.view))}#Ti(){this.#hi=this.#di.flatMap(e=>e.getRowViewDriverStream()).takeUntilBy(this.#e)}#Di(){this.#fi=Bi(u.merge([this.#di.map(e=>e.getToolbarView()),this.getThreadViewDriverStream().map(e=>e.getToolbarView())]).filter(at.A).flatMap(e=>e.waitForReady()).map(e=>({el:e,removalStream:e.getStopper()})).takeUntilBy(this.#e)),this.#fi.subscribe({})}#Bi(){this.#gi=this.getThreadViewDriverStream().flatMap(e=>e.getMessageViewDriverStream()).takeUntilBy(this.#e)}async addGlobalSidebarContentPanel(e){return await this.waitForGlobalSidebarReady().merge(this.#e.flatMap(()=>u.constantError(new Error("Driver instance was destroyed early")))).take(1).takeErrors(1).toPromise(),this.getGlobalSidebar().addGlobalSidebarContentPanel(e)}waitForGlobalSidebarReady(){const e=()=>oe.A.getCompanionSidebarContentContainerElement()&&(oe.A.getCompanionSidebarIconContainerElement()||oe.A.getAddonSidebarContainerElement());return e()?u.constant(void 0):(0,le.A)(e).map(()=>{})}getGlobalSidebar(){let e=this.#Ei;if(!e){const t=oe.A.getCompanionSidebarContentContainerElement();if(!t)throw new Error("did not find companionSidebarContentContainerEl");e=this.#Ei=new Ei.A(this,t)}return e}isRunningInPageContext(){return!(!n.g.GLOBALS||!n.g._GM_main)}showAppIdWarning(){!function(e){const t=document.createElement("div");t.className="inboxsdk__appid_warning",t.innerHTML='\n<div class="inboxsdk__appid_warning_main">\n  <div class="topline">InboxSDK Developer Warning: Invalid AppId</div>\n  <div>You\'ve loaded the InboxSDK with an unregistered appId. Registration is free but necessary to load the SDK.</div>\n</div>\n<a class="inboxsdk__appid_register" target="_blank" href="https://register.inboxsdk.com/">Register Your App</a>\n<input type="button" value="" title="Close" class="inboxsdk__x_close_button" />\n';const n=e.createTopMessageBarDriver(E()(u.default,{el:t})),r=t.querySelector(".inboxsdk__x_close_button");if(!r)throw new Error("Should not happen");r.addEventListener("click",function(e){n.remove()})}(this)}createTopMessageBarDriver(e){return new Zn(e)}associateThreadAndMessageIDs(e,t){this.#ri.set(t,e)}getThreadIDForMessageID(e){return(0,C.A)(this.#ri,e)}getDraftIDForMessageID(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,Pr.A)(this,e,t)}#Ni=new Map;reportRecentSyncDraftId(e){const t=(this.#Ni.get(e)??0)+1;this.#Ni.set(e,t)}reportDraftClosed(e){u.later(3e4,void 0).takeUntilBy(this.#e).onValue(()=>{const t=this.#Ni.get(e);let n;null==t||t<1?(n=0,this.#Jr.error(new Error("_recentSyncDraftIds count had unexpected value"),{count:t})):n=t-1,0===n?this.#Ni.delete(e):this.#Ni.set(e,n)})}isRecentSyncDraftId(e){return this.#Ni.has(e)}#Li=Yn().mapcat(e=>e.getSelectedThreadRowViewDrivers());getSelectedThreadRowViewDrivers(){return this.#Dr?Yn().toArray(this.#Dr.getRowListViews(),this.#Li):[]}#Si=H()();signalThreadRowViewSelectionChange(){this.#Si.value(void 0)}registerThreadRowViewSelectionHandler(e){return this.#Si.onValue(e),()=>{this.#Si.offValue(e)}}getPersonDetails(e){return async function(e,t){const n=e.getPageCommunicator().getGoogleRequestHeaders(),r=[[t],2,null,null,[null,null,null,["GMAIL_COMPOSE_WEB_POPULOUS",null,2]],[[["person.name","person.photo","person.email","person.phone","person.email.certificate","person.metadata","person.name.metadata.verified","person.email.metadata.verified","person.phone.metadata.verified"]],null,[2,1,7,8,10],null,null,[]],[],[null,null,[],null,null,[2],[[1]],null,[3]],[[23,36,14,15]],[],null,null,null,null,null,[null,[null,2]],null,[]],i=await fetch("https://people-pa.clients6.google.com/$rpc/google.internal.people.v2.minimal.InternalPeopleMinimalService/ListPeopleByKnownId",{headers:{...n,accept:"*/*","content-type":"application/json+protobuf","x-goog-authuser":"0","x-user-agent":"grpc-web-javascript/0.1"},body:JSON.stringify(r),method:"POST",credentials:"include"});if(!i.ok)throw new Error(`Bad response from Google People API: ${i.status} ${i.statusText}`);return function(e){const t=e[1]?.[0]?.[1];if(!t)return;const n={},r=t[2];if(r){const e=r[0];if(e){const t=e[1];"string"==typeof t&&(n.fullName=t);const r=e[3];"string"==typeof r&&(n.firstName=r);const i=e[4];"string"==typeof i&&(n.lastName=i);const o=e[5]?.[13];"string"==typeof o&&(n.fullNameSortOrder=o)}}const i=t[3];if(i){const e=i[0]?.[1];"string"==typeof e&&(n.imageUrl=e)}return n}(await i.json())}(this,e)}};var Ni=n(799),Li=n.n(Ni);const Vi=new Set(["b540a2819e4b26823288046869e5577852178d69","1e9084cb394369dcdfd43cfcd84d17b78b0903dd","a9b816b86b6085eb0b80315da6b2297ff30cf7b6","5140e277522fd95ece3d540c94b97f443bcc3256","b56a2d6e6f650ed6eae78774d3b1f02d969d8485","bc6308648a588258f31f8f4b64f7c4652b6fcaac","4cb8e6bd1aab0b4b05c7f07fbe8332b842009358"]),Ri=/^sdk_(.{5,15})_([0-9a-f]{10})$/;const Oi=new Set;class Pi extends r.A{#t;constructor(e,t,n){super();const{appName:r,appIconUrl:a,VERSION:l}=n;this.#t=e;const u=new o([[De.A,t=>new Te.A(e,t,u)],[A,t=>new s(t,e,u)],[ee,t=>new R(t,u,e)],[ke,n=>new T(n,t,e,u)],[_e.A,e=>new Ie(e)],[ct,e=>new Me.A(e)],[Be,e=>new Me.A(e)]]);this.destroyed=!1,this.LOADER_VERSION=l,this.IMPL_VERSION=i.Q,this.ButterBar=new mt(t,e),e.setButterBar(this.ButterBar),this.Compose=new _t.A(e,u),this.Conversations=new V(t,e,u),this.Keyboard=new gt.A(t,r,a,e),this.User=new Un(e,n),this.Lists=new Vt(t,e,u),this.NavMenu=new qt(t,e),this.AppMenu=new En(e),this.Router=new Rn(t,e,u),this.Search=new On(t,e),this.Toolbars=new Fn(t,e,u,n),this.Widgets=new Mt(t,e),1===n.REQUESTED_API_VERSION&&(this.Modal=new Nt(t,e,n)),n.REQUESTED_API_VERSION>=2&&(this.Global=new Hn(t,e)),this.Logger=e.getLogger().getAppLogger()}destroy(){this.destroyed||(this.destroyed=!0,this.#t.destroy(),this.emit("destroy"))}}function ji(e,t,n){if("string"!=typeof e)throw new Error("appId must be a string");const r={globalErrorLogging:!0,eventTracking:!0,...t};switch(r.REQUESTED_API_VERSION=+r.REQUESTED_API_VERSION,r.REQUESTED_API_VERSION){case 2:case 1:break;default:throw new Error("InboxSDK: Unsupported API version "+r.REQUESTED_API_VERSION)}const o=r.VERSION,s=i.Q,a=new q.A(e,r,o,s);if("https://mail.google.com"!==document.location.origin)return new Promise(()=>{});const l=new Mi(e,o,s,a,r,n);return l.onready.then(()=>{(function(e){if(Vi.has(function(e){const t=new(Li());return t.update("YlEHtGl72+c"+e),t.digest("hex")}(e)))return!0;const t=Ri.exec(e);if(!t)return!1;const n=t[1],r=t[2],i=new(Li());return i.update(n),i.digest("hex").slice(0,10)===r})(e)||(console.error(`\n===========================================================\nInboxSDK: You have loaded InboxSDK with an invalid appId:\n${e}\nRegistering an appId is free. Please see\nhttps://www.inboxsdk.com/docs/#RequiredSetup\n===========================================================\n`),l.showAppIdWarning()),l.isRunningInPageContext()&&console.warn("Running the InboxSDK outside of an extension content script is not recommended!"),a.eventSdkPassive("instantiate");const t=new Pi(l,e,r);return Oi.has(e)||(Oi.add(e),a.eventSdkPassive("load")),t})}},3741:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(2788);class i extends r.A{destroyed=!1;constructor(e){super(),this.el=e}destroy(){this.destroyed||(this.destroyed=!0,this.emit("destroy"),this.el.remove())}}},7600:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var r=n(2788),i=n(7249),o=n(5164),s=n.n(o),a=n(7332),l=n(4531);const u=new WeakMap;class c extends r.A{destroyed=!1;#Vi;constructor(e,t,n){super(),this.#Vi=e;const r={composeViewDriver:t,driver:n};u.set(this,r),this.#Vi.toProperty().onValue(e=>{e?r.composeViewDriver.getStopper().onValue(()=>{d(this)}):d(this)})}showTooltip(e){const t=(0,l.A)(u,this);t.driver.getLogger().eventSdkPassive("ComposeButtonView.showTooltip",{keys:Object.keys(e)}),this.#Vi.onValue(n=>{n&&t.composeViewDriver.addTooltipToButton(n.buttonViewController,n.buttonDescriptor,e)})}closeTooltip(){const e=(0,l.A)(u,this);this.#Vi.onValue(t=>{t&&e.composeViewDriver.closeButtonTooltip(t.buttonViewController)})}}function d(e){e.destroyed=!0,e.emit("destroy")}var h=n(8631),p=n.n(h);e=n.hmd(e);const f=a.defonce(e,()=>new WeakMap);class m extends r.A{destroyed=!1;constructor(e,t,n){super();const r={driver:e,membrane:n,composeViewImplementation:t};f.set(this,r),this.on("newListener",n=>{"close"===n?(e.getLogger().deprecationWarning("composeView close event","composeView destroy event"),1!==e.getOpts().REQUESTED_API_VERSION&&console.error("The composeView close event was removed after API version 1")):"messageIDChange"===n?(e.getLogger().deprecationWarning("composeView messageIDChange event","composeView.getDraftID"),1!==e.getOpts().REQUESTED_API_VERSION&&console.error("The composeView messageIDChange event was removed after API version 1")):"linkPopOver"===n&&t.setupLinkPopOvers()}),r.composeViewImplementation.getEventStream().onValue(t=>{if("destroy"===t.eventName)this.destroyed=!0,1===e.getOpts().REQUESTED_API_VERSION&&this.emit("close");else if("messageIDChange"===t.eventName&&1!==e.getOpts().REQUESTED_API_VERSION)return;this.emit(t.eventName,t.data)})}addButton(e){const t=(0,l.A)(f,this),n=s()(i.default,e),r=p()();t.composeViewImplementation.addButton(n,t.driver.getAppId(),{composeView:this},r);const o=new c(r,t.composeViewImplementation,t.driver);return o.on("destroy",()=>{r.end()}),o}addComposeNotice(e){return(0,l.A)(f,this).composeViewImplementation.addComposeNotice(e)}addStatusBar(e){return(0,l.A)(f,this).composeViewImplementation.addStatusBar(e)}hideNativeStatusBar(){return(0,l.A)(f,this).composeViewImplementation.hideNativeStatusBar()}addRecipientRow(e){return{destroy:(0,l.A)(f,this).composeViewImplementation.addRecipientRow(s()(i.default,e))}}forceRecipientRowsOpen(){return(0,l.A)(f,this).composeViewImplementation.forceRecipientRowsOpen()}hideNativeRecipientRows(){return(0,l.A)(f,this).composeViewImplementation.hideNativeRecipientRows()}hideRecipientArea(){return(0,l.A)(f,this).composeViewImplementation.hideRecipientArea()}close(){(0,l.A)(f,this).composeViewImplementation.close()}send(){let{sendAndArchive:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{sendAndArchive:!1};(0,l.A)(f,this).composeViewImplementation.send({sendAndArchive:e})}openScheduleSendMenu(){(0,l.A)(f,this).composeViewImplementation.openScheduleSendMenu()}discard(){(0,l.A)(f,this).composeViewImplementation.discard()}getMetadataForm(){return(0,l.A)(f,this).composeViewImplementation.getMetadataFormElement()}getSubjectInput(){return(0,l.A)(f,this).composeViewImplementation.getSubjectInput()}getBodyElement(){return(0,l.A)(f,this).composeViewImplementation.getBodyElement()}getComposeID(){const{driver:e,composeViewImplementation:t}=(0,l.A)(f,this);if(e.getLogger().deprecationWarning("composeView.getComposeID"),1!==e.getOpts().REQUESTED_API_VERSION)throw new Error("This method was discontinued after API version 1");return t.getComposeID()}getInitialMessageID(){return(0,l.A)(f,this).composeViewImplementation.getInitialMessageID()}getMessageID(){const{driver:e,composeViewImplementation:t}=(0,l.A)(f,this);if(e.getLogger().deprecationWarning("composeView.getMessageID","composeView.getDraftID"),1!==e.getOpts().REQUESTED_API_VERSION)throw new Error("This method was discontinued after API version 1");return t.getMessageID()}getThreadID(){return(0,l.A)(f,this).composeViewImplementation.getThreadID()}getDraftID(){return(0,l.A)(f,this).composeViewImplementation.getDraftID()}getCurrentDraftID(){return(0,l.A)(f,this).composeViewImplementation.getCurrentDraftID()}getHTMLContent(){return(0,l.A)(f,this).composeViewImplementation.getHTMLContent()}getSelectedBodyHTML(){return(0,l.A)(f,this).composeViewImplementation.getSelectedBodyHTML()||""}getSelectedBodyText(){return(0,l.A)(f,this).composeViewImplementation.getSelectedBodyText()||""}getSubject(){return(0,l.A)(f,this).composeViewImplementation.getSubject()}getTextContent(){return(0,l.A)(f,this).composeViewImplementation.getTextContent()}getToRecipients(){return(0,l.A)(f,this).composeViewImplementation.getToRecipients()}getCcRecipients(){return(0,l.A)(f,this).composeViewImplementation.getCcRecipients()}getBccRecipients(){return(0,l.A)(f,this).composeViewImplementation.getBccRecipients()}insertTextIntoBodyAtCursor(e){return(0,l.A)(f,this).composeViewImplementation.insertBodyTextAtCursor(e)}insertHTMLIntoBodyAtCursor(e){return(0,l.A)(f,this).composeViewImplementation.insertBodyHTMLAtCursor(e)}insertLinkChipIntoBodyAtCursor(e,t,n){if(n&&"string"==typeof n&&0===n.indexOf("http"))return(0,l.A)(f,this).composeViewImplementation.insertLinkChipIntoBody({text:e,url:t,iconUrl:n});console.warn("You must provide a publicly accessible iconUrl")}insertLinkIntoBodyAtCursor(e,t){return(0,l.A)(f,this).composeViewImplementation.insertLinkIntoBody(e,t)}isForward(){return(0,l.A)(f,this).composeViewImplementation.isForward()}isInlineReplyForm(){return(0,l.A)(f,this).composeViewImplementation.isInlineReplyForm()}isFullscreen(){return(0,l.A)(f,this).composeViewImplementation.isFullscreen()}setFullscreen(e){(0,l.A)(f,this).composeViewImplementation.setFullscreen(e)}isMinimized(){return(0,l.A)(f,this).composeViewImplementation.isMinimized()}setMinimized(e){(0,l.A)(f,this).composeViewImplementation.setMinimized(e)}setTitleBarColor(e){return(0,l.A)(f,this).composeViewImplementation.setTitleBarColor(e)}setTitleBarText(e){return(0,l.A)(f,this).composeViewImplementation.setTitleBarText(e)}async popOut(){const e=(0,l.A)(f,this).driver.getNextComposeViewDriver();(0,l.A)(f,this).composeViewImplementation.popOut();const t=await e;return(0,l.A)(f,this).membrane.get(t)}isReply(){return(0,l.A)(f,this).composeViewImplementation.isReply()}setToRecipients(e){(0,l.A)(f,this).composeViewImplementation.setToRecipients(e)}setCcRecipients(e){(0,l.A)(f,this).composeViewImplementation.setCcRecipients(e)}setBccRecipients(e){(0,l.A)(f,this).composeViewImplementation.setBccRecipients(e)}getFromContact(){return(0,l.A)(f,this).composeViewImplementation.getFromContact()}getFromContactChoices(){return(0,l.A)(f,this).composeViewImplementation.getFromContactChoices()}setFromEmail(e){(0,l.A)(f,this).composeViewImplementation.setFromEmail(e)}setSubject(e){(0,l.A)(f,this).composeViewImplementation.setSubject(e)}setBodyHTML(e){(0,l.A)(f,this).composeViewImplementation.setBodyHTML(e)}setBodyText(e){(0,l.A)(f,this).composeViewImplementation.setBodyText(e)}async attachFiles(e){if(0!==e.length){if(!(e[0]instanceof Blob))throw new Error("parameter must be an array of Blob objects");return(0,l.A)(f,this).composeViewImplementation.attachFiles(Array.from(e))}}async attachInlineFiles(e){if(0!==e.length){if(!(e[0]instanceof Blob))throw new Error("parameter must be an array of Blob objects");return(0,l.A)(f,this).composeViewImplementation.attachInlineFiles(Array.from(e))}}dragFilesIntoCompose(e){const{driver:t}=(0,l.A)(f,this);if(t.getLogger().deprecationWarning("ComposeView.dragFilesIntoCompose","ComposeView.attachInlineFiles"),1!==t.getOpts().REQUESTED_API_VERSION)throw new Error("This method was discontinued after API version 1");return this.attachInlineFiles(e)}getElement(){return(0,l.A)(f,this).composeViewImplementation.getElement()}registerRequestModifier(e){(0,l.A)(f,this).composeViewImplementation.registerRequestModifier(e)}replaceSendButton(e){let{el:t}=e;return(0,l.A)(f,this).composeViewImplementation.replaceSendButton(t)}hideDiscardButton(){return(0,l.A)(f,this).composeViewImplementation.hideDiscardButton()}ensureFormattingToolbarIsHidden(){(0,l.A)(f,this).composeViewImplementation.ensureFormattingToolbarIsHidden()}ensureAppButtonToolbarsAreClosed(){(0,l.A)(f,this).composeViewImplementation.ensureAppButtonToolbarsAreClosed()}overrideEditSubject(){const{driver:e,composeViewImplementation:t}=(0,l.A)(f,this);if(e.getLogger().deprecationWarning("composeView.overrideEditSubject"),1!==e.getOpts().REQUESTED_API_VERSION)throw new Error("This method was discontinued after API version 1");"function"==typeof t.overrideEditSubject&&t.overrideEditSubject()}}},6341:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(7332),i=n(321),o=n(4531);e=n.hmd(e);class s extends i.A{constructor(e){super(e);const t={routeViewDriver:e};a.set(this,t)}setFullWidth(e){const{routeViewDriver:t}=(0,o.A)(a,this);t.setFullWidth(e)}getElement(){const{routeViewDriver:e}=(0,o.A)(a,this),t=e.getCustomViewElement();if(!t)throw new Error("Should not happen");return t}}const a=(0,r.defonce)(e,()=>new WeakMap),l=s},321:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(2788);class i extends r.A{#Ri=null;#Oi=null;#Pi=null;#mt;constructor(e){super(),this.destroyed=!1,this.#mt=e,function(e,t){e.getEventStream().onEnd(()=>{t.destroyed=!0,t.emit("destroy"),t.removeAllListeners()})}(e,this)}getRouteID(){return this.#Ri||(this.#Ri=this.#mt.getRouteID()),this.#Ri}getRouteType(){return this.#Oi||(this.#Oi=this.#mt.getRouteType()),this.#Oi}getParams(){return this.#Pi||(this.#Pi=this.#mt.getParams()),this.#Pi}}const o=i},9755:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(4924),i=n.n(r);class o{_stopper=i()();constructor(e){this._activateFunction=e.activateFunction||e.onClick,this._view=e.buttonView,this._view.getEventStream().filter(e=>"click"===e.eventName).onValue(()=>{this.activate()})}getStopper(){return this._stopper}destroy(){this._activateFunction=null,this._view.destroy(),this._stopper.destroy()}update(e){this.getView().update(e),this.setActivateFunction(e&&(e.activateFunction||e.onClick))}getView(){return this._view}setActivateFunction(e){this._activateFunction=e}activate(){this._activateFunction&&this._activateFunction({})}}},9374:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(4924),i=n.n(r),o=n(3046);class s{_dropdownView=null;_stopper=i()();constructor(e){this._dropdownShowFunction=e.dropdownShowFunction,this._DropdownViewDriverClass=e.dropdownViewDriverClass;const t=this._view=e.buttonView;this._dropdownPositionOptions=e.dropdownPositionOptions,t.getElement().setAttribute("aria-haspopup","true"),t.getElement().setAttribute("aria-pressed","false"),t.getElement().setAttribute("aria-expanded","false"),this._bindToViewEvents()}getStopper(){return this._stopper}destroy(){this._view&&(this._view.destroy(),this._view=null),this._dropdownView&&(this._dropdownView.close(),this._dropdownView=null),this._stopper.destroy()}update(e){this.getView().update(e),this.setDropdownShowFunction(e&&e.dropdownShowFunction)}getView(){if(!this._view)throw new Error("Already destroyed");return this._view}setDropdownShowFunction(e){this._dropdownShowFunction=e}showDropdown(){this.hideDropdown();const e=this._view;if(!e)throw new Error("Already destroyed");e.activate();const t=this._dropdownView=new o.A(new this._DropdownViewDriverClass,e.getElement(),void 0);this._dropdownPositionOptions&&t.setPlacementOptions(this._dropdownPositionOptions),t.on("destroy",this._dropdownClosed.bind(this)),this._dropdownShowFunction&&this._dropdownShowFunction({dropdown:this._dropdownView}),e.getElement().setAttribute("aria-pressed","true"),e.getElement().setAttribute("aria-expanded","true")}hideDropdown(){this._dropdownView&&this._dropdownView.close()}isDropdownVisible(){return!!this._dropdownView}_bindToViewEvents(){if(!this._view)throw new Error("Already destroyed");this._view.getEventStream().filter(e=>"click"===e.eventName).onValue(()=>{this._toggleDropdownState()})}_toggleDropdownState(){this._dropdownView?this._dropdownView.close():this.showDropdown()}_dropdownClosed(){const e=this._view;e&&(e.deactivate(),this._dropdownView=null,e.getElement().setAttribute("aria-pressed","false"),e.getElement().setAttribute("aria-expanded","false"))}}},3046:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var r=n(4622),i=n.n(r),o=n(2788),s=n(7249),a=n(3197),l=n(5714),u=n.n(l),c=n(8631),d=n.n(c),h=n(4924),p=n.n(h);function f(e,t,n){return s.stream(r=>(e.addEventListener(t,r.emit,n),()=>{e.removeEventListener(t,r.emit,n)}))}class m{_manualRepositions=d()();_stopper=p()();constructor(e,t,n){s.default.merge([this._manualRepositions,s.default.fromEvents(window,"resize"),f(window,"scroll",{capture:!0,passive:!0}).filter(e=>e.target.contains(t))]).toProperty(()=>null).takeUntilBy(this._stopper).onValue(()=>{u()(e,t,n)})}reposition(){this._manualRepositions.emit(null)}destroy(){this._stopper.destroy()}}var _=n(3985);class g extends o.A{destroyed=!1;closed=!1;_userPlacementOptions={hAlign:"left"};_scrollableContainByScreen=null;constructor(e,t,n){super(),this._dropdownViewDriver=e,this._options={...e.getDropdownOptions&&e.getDropdownOptions(),...n},this.el=e.getContentElement();const r=e.getContainerElement();document.contains(r)?this._didInsertContainerEl=!1:(document.body.insertBefore(r,document.body.firstElementChild),this._didInsertContainerEl=!0),r.hasAttribute("tabindex")||r.setAttribute("tabindex","-1");const o=s.default.fromEvents(this,"destroy"),l=[t,r];var u;this._options.extraElementsToIgnore&&l.push(...this._options.extraElementsToIgnore),(u=l,s.merge([(0,_.A)(document,"click"),(0,_.A)(document.body,"focus")]).filter(e=>!e.shouldIgnore&&(e.isTrusted||!1)&&u.every(t=>{for(const n of function*(e){do{yield e}while(e=e.rfaAnchor||e._logicalParent||e.parentNode)}(e.target))if(n===t)return!1;return!0})).map(e=>({type:"outsideInteraction",cause:e})).merge(s.fromEvents(document,"keydown").filter(e=>e.key?"Escape"===e.key:27===e.which).map(e=>(e.preventDefault(),e.stopPropagation(),{type:"escape",cause:e}))).map(e=>e)).takeUntilBy(o).filter(e=>{let t=!1;const n={type:e.type,cause:e.cause,cancel:()=>{t=!0}};return this.emit("preautoclose",n),!t}).onValue(()=>{this.close()}),this._options.manualPosition||(r.style.position="fixed",i()(()=>{this.closed||(s.default.fromEvents(this,"_placementOptionsUpdated").toProperty(()=>null).takeUntilBy(o).onValue(()=>{this._scrollableContainByScreen&&this._scrollableContainByScreen.destroy(),this._scrollableContainByScreen=new m(r,t,this._userPlacementOptions)}),(0,a.A)(e.getContentElement(),{childList:!0,attributes:!0,characterData:!0,subtree:!0}).throttle(200).takeUntilBy(o).onValue(()=>this.reposition()))}));const c=document.activeElement;i()(()=>{this.closed||document.activeElement===c&&r.focus()})}setPlacementOptions(e){this._options.manualPosition?console.error("DropdownView.setPlacementOptions() was called on a manually-positioned DropdownView."):(this._userPlacementOptions={...this._userPlacementOptions,...e},this.emit("_placementOptionsUpdated"))}close(){this.destroyed||(this.destroyed=this.closed=!0,this._scrollableContainByScreen&&this._scrollableContainByScreen.destroy(),this.emit("destroy"),this._didInsertContainerEl&&this._dropdownViewDriver.getContainerElement().remove(),this._dropdownViewDriver.destroy())}reposition(){this._scrollableContainByScreen&&this._scrollableContainByScreen.reposition()}}},8855:(e,t,n)=>{"use strict";n.d(t,{A:()=>l,N:()=>a});var r=n(5516),i=n.n(r),o=n(1364),s=n.n(o)()(i());s.push([e.id,".inboxsdk__GBPjAIsupt3H7foDtouM{font-size:20px;line-height:1;position:relative;z-index:1!important}","",{version:3,sources:["webpack://./src/platform-implementation-js/dom-driver/gmail/views/gmail-app-sidebar-view/primary/index.module.css"],names:[],mappings:"AAAA,gCACE,cAAe,CACf,aAAc,CACd,iBAAkB,CAClB,mBACF",sourcesContent:[".iconLiga {\n  font-size: 20px;\n  line-height: 1;\n  position: relative;\n  z-index: 1 !important;\n}\n"],sourceRoot:""}]);var a="inboxsdk__GBPjAIsupt3H7foDtouM";const l=s},9245:(e,t,n)=>{"use strict";n.d(t,{$r:()=>c,Ad:()=>p,Ay:()=>_,DD:()=>a,Lf:()=>h,Lm:()=>d,UA:()=>f,VA:()=>l,gy:()=>m,kk:()=>u});var r=n(5516),i=n.n(r),o=n(1364),s=n.n(o)()(i());s.push([e.id,'.Wn{--inboxsdk-title-color:rgb(0 0 0 / 87%);--inboxsdk-subtitle-color:rgb(0 0 0 / 54%)}.inboxsdk__gmail_dark_body_theme .Wn{--inboxsdk-title-color:rgb(255 255 255);--inboxsdk-subtitle-color:rgb(255 255 255 / 70%)}.Wn.inboxsdk__ZWrBCcqtIqrDEdUtPOrg{color:var(--inboxsdk-title-color)}.Wn .inboxsdk__WFNlIHJZA6zYVSDGWS2K{color:var(--inboxsdk-subtitle-color)}.xY.inboxsdk__HBTr58WKm0EhmpKhN5k1{max-width:calc(168px + (30px*2));flex-basis:calc(168px + (30px*2))}.inboxsdk__HBTr58WKm0EhmpKhN5k1 span{text-overflow:ellipsis;display:block;overflow:hidden}.inboxsdk__kN8mmVlzZVbzIS_awdJ_,.inboxsdk__Va73Osg6o8dIKLvkvywn,.inboxsdk__oxF6Ne2PQsND932WpK9J,.inboxsdk__N8BEpD1pdj535bJKkz7u,.inboxsdk__rusCS8I3RyomwIQUtkef{content:""}.inboxsdk__POtXLY2WRLq21pk7OxRg b{font-weight:700}.inboxsdk__N8BEpD1pdj535bJKkz7u.inboxsdk__POtXLY2WRLq21pk7OxRg{color:rgb(95 99 104)}.inboxsdk__gmail_dark_body_theme .inboxsdk__N8BEpD1pdj535bJKkz7u.inboxsdk__POtXLY2WRLq21pk7OxRg{color:rgb(255 255 255/50%)}',"",{version:3,sources:["webpack://./src/platform-implementation-js/dom-driver/gmail/views/gmail-collapsible-section-view.module.css"],names:[],mappings:"AAAA,IACE,uCAAwC,CACxC,0CACF,CAEA,qCACE,uCAAwC,CACxC,gDACF,CAEA,mCACE,iCACF,CAEA,oCACE,oCACF,CAGA,mCAKE,gCAAmC,CACnC,iCACF,CAGA,qCACE,sBAAuB,CACvB,aAAc,CACd,eACF,CAEA,gKACE,UACF,CAWA,kCACE,eACF,CAWA,+DACE,oBACF,CAGA,gGACE,0BACF",sourcesContent:[":global(.Wn) {\n  --inboxsdk-title-color: rgb(0 0 0 / 87%);\n  --inboxsdk-subtitle-color: rgb(0 0 0 / 54%);\n}\n\n:global(.inboxsdk__gmail_dark_body_theme .Wn) {\n  --inboxsdk-title-color: rgb(255 255 255);\n  --inboxsdk-subtitle-color: rgb(255 255 255 / 70%);\n}\n\n:global(.Wn).title {\n  color: var(--inboxsdk-title-color);\n}\n\n:global(.Wn) .subtitle {\n  color: var(--inboxsdk-subtitle-color);\n}\n\n/* Make the recipient's column wider after taking out two of the native rows icons. */\n:global(.xY).resultTitle {\n  /*\n   * 168px is the max width of the recipients' column element.\n   * 30px is the width of each rows' individual icons.\n   */\n  max-width: calc(168px + (30px * 2));\n  flex-basis: calc(168px + (30px * 2));\n}\n\n/* Rows */\n.resultTitle span {\n  text-overflow: ellipsis;\n  display: block;\n  overflow: hidden;\n}\n\n.iconAtStart {\n  content: '';\n}\n\n.recipients {\n  content: '';\n}\n\n.snippet {\n  content: '';\n}\n\n/* if `isRead: { text: false, background: true }` is passed to the corresponding RowDescriptor, account for Gmail rule making b tags 400 weight. */\n.unread b {\n  font-weight: 700;\n}\n\n.attachmentIcon {\n  content: '';\n}\n\n.shortDetail {\n  content: '';\n}\n\n/* Without this monkey patch, in light Gmail themes, .shortDetail is fully opaque black. */\n.shortDetail.unread {\n  color: rgb(95 99 104);\n}\n\n/* Without this monkey patch, in dark Gmail themes, .shortDetail is fully opaque white. */\n:global(.inboxsdk__gmail_dark_body_theme) .shortDetail.unread {\n  color: rgb(255 255 255 / 50%);\n}\n"],sourceRoot:""}]);var a="inboxsdk__ZWrBCcqtIqrDEdUtPOrg",l="inboxsdk__WFNlIHJZA6zYVSDGWS2K",u="inboxsdk__HBTr58WKm0EhmpKhN5k1",c="inboxsdk__kN8mmVlzZVbzIS_awdJ_",d="inboxsdk__Va73Osg6o8dIKLvkvywn",h="inboxsdk__oxF6Ne2PQsND932WpK9J",p="inboxsdk__N8BEpD1pdj535bJKkz7u",f="inboxsdk__rusCS8I3RyomwIQUtkef",m="inboxsdk__POtXLY2WRLq21pk7OxRg";const _=s},8558:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>c,iW:()=>a,iy:()=>u,jq:()=>l});var r=n(5516),i=n.n(r),o=n(1364),s=n.n(o)()(i());s.push([e.id,".inboxsdk___CVI_XgzMBSxR6kVfDAg{order:1}.inboxsdk__UJYCuevuXZxfTgEf23lV .aDj.ahe{position:static!important}.inboxsdk__cZb1_NDJIxsKMlBKVLgD .dw\n      .nH\n      > .nH\n      > .no\n      > *:not([style*='order: 0;'], [style*='order: 2147483647;'], .aJl).nn.nH{display:none!important}","",{version:3,sources:["webpack://./src/platform-implementation-js/dom-driver/gmail/widgets/mole-view.module.css"],names:[],mappings:"AAAA,gCACE,OACF,CAKA,yCACE,yBACF,CAEA;;;;+EAQE,sBACF",sourcesContent:[".main {\n  order: 1;\n}\n\n/* .aDj.ahe are the `position: fixed` are elements that contain ComposeView toolbars when the ComposeView body isn't focused.\n * This selector may have been the equivalent of `.aDj.aDi` before 2023-08-30.\n */\n.inboxsdkMolesInUse :global(.aDj.ahe) {\n  position: static !important;\n}\n\n.hideComposes\n  :global(\n    .dw\n      .nH\n      > .nH\n      > .no\n      > *:not([style*='order: 0;'], [style*='order: 2147483647;'], .aJl).nn.nH\n  ) {\n  display: none !important;\n}\n"],sourceRoot:""}]);var a="inboxsdk___CVI_XgzMBSxR6kVfDAg",l="inboxsdk__UJYCuevuXZxfTgEf23lV",u="inboxsdk__cZb1_NDJIxsKMlBKVLgD";const c=s},7510:(e,t,n)=>{"use strict";n.d(t,{$8:()=>_,Ay:()=>U,E3:()=>A,Go:()=>V,JR:()=>O,OW:()=>F,PD:()=>I,Pl:()=>E,T6:()=>y,V:()=>B,Y8:()=>M,Yf:()=>L,bh:()=>k,dG:()=>g,i1:()=>N,lt:()=>D,mz:()=>x,nc:()=>b,qX:()=>P,rz:()=>C,sz:()=>w,th:()=>v,uj:()=>S,vQ:()=>R,x1:()=>T,zC:()=>j});var r=n(5516),i=n.n(r),o=n(1364),s=n.n(o),a=n(3615),l=n.n(a),u=new URL(n(6306),n.b),c=new URL(n(6948),n.b),d=new URL(n(6332),n.b),h=s()(i()),p=l()(u),f=l()(c),m=l()(d);h.push([e.id,'.inboxsdk__notransition{transition:none!important}.inboxsdk__close_button{height:24px;width:24px;opacity:.7;position:relative;background:0 0;border:0;padding:0;box-sizing:content-box;outline:0;cursor:pointer}.inboxsdk__close_button:focus,.inboxsdk__close_button:hover{opacity:1}.inboxsdk__close_button:focus::before{background-color:rgb(0 0 0/12%)}.inboxsdk__close_button::before{border-radius:50%;position:absolute;inset:-4px -4px -4px -4px;padding:4px;content:" "}.inboxsdk__close_button::after{content:" ";background:url(https://www.gstatic.com/images/icons/material/system/1x/close_black_24dp.png);position:absolute;height:24px;width:24px;top:0;left:0}@media (min-resolution:192dpi){.inboxsdk__close_button::after{background:url(https://www.gstatic.com/images/icons/material/system/2x/close_black_24dp.png);background-size:contain}}.inboxsdk__nJrOYb9x4IUalKhkqH70{display:none}.inboxsdk__drawer_view_container{visibility:visible;direction:initial;position:fixed;height:100vh;width:100vw;bottom:0;left:0;z-index:51;pointer-events:none}.inboxsdk__drawer_view{position:absolute;pointer-events:auto;top:0;bottom:0;right:0;width:452px;font:13px"Helvetica Neue",Helvetica,Arial,sans-serif;display:flex;flex-direction:column;background-color:#fff;outline:0;box-shadow:0 0 8px rgb(0 0 0/18%),0 8px 16px rgb(0 0 0/36%);transform:translateX(100%);transition:transform 150ms cubic-bezier(.4,0,.2,1)}.inboxsdk__drawer_view.inboxsdk__match_sidebar_content_panel_width{width:300px}.inboxsdk__drawer_view.inboxsdk__active{transform:none}.inboxsdk__drawer_title_bar{background-color:#f5f5f5;border-bottom:1px solid #e0e0e0;padding:16px 20px;white-space:nowrap;display:flex;flex:0 0 auto}.inboxsdk__drawer_title_bar .inboxsdk__close_button{margin-right:20px;flex-shrink:0}.inboxsdk__drawer_title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font:20px/24px"Helvetica Neue",Helvetica,Arial,sans-serif}.inboxsdk__inbox_backdrop{visibility:visible;position:fixed;height:100vh;width:100vw;bottom:0;left:0;z-index:50;background-color:transparent;transition:background-color 150ms cubic-bezier(.4,0,1,1)}.inboxsdk__inbox_backdrop.inboxsdk__active{background-color:rgb(10 10 10/60%);transition:background-color 70ms cubic-bezier(0,0,.2,1)}.inboxsdk__inbox_backdrop~.inboxsdk__inbox_backdrop{opacity:.6}.inboxsdk__YVRXKNcaUvgm8xbnhvbA{display:flex;flex-direction:column}.inboxsdk__L1YTilBb_3NY6uyjljIg>.inboxsdk__close_button{position:absolute;bottom:10px;right:20px}.inboxsdk__ZsVjiThsnbCmCG_X1Vvn{width:216px}.inboxsdk__RRnCd87hoA2uHeC1Z_FE{overflow:hidden;font:12px Arial,sans-serif;max-height:100%;box-sizing:border-box}.inboxsdk__iYzl6PjYB9v7KGQNbONH{white-space:nowrap;display:flex;user-select:none;cursor:default}.inboxsdk__RRnCd87hoA2uHeC1Z_FE:not(.inboxsdk__o9YcckDJql686JS0n2cc) .inboxsdk__iYzl6PjYB9v7KGQNbONH{border-bottom:1px solid #ddd}.inboxsdk__RRnCd87hoA2uHeC1Z_FE.inboxsdk__XdCPRDkO7zSIv6nU4USH .inboxsdk__iYzl6PjYB9v7KGQNbONH,.inboxsdk__RRnCd87hoA2uHeC1Z_FE.inboxsdk__vTsoFgWgM9ldKGsRJYHd .inboxsdk__iYzl6PjYB9v7KGQNbONH:hover{background:rgb(0 0 0/3%)}.inboxsdk__lD1h9YUibxcHdtWGdiWq{min-width:0;overflow:hidden;text-overflow:ellipsis}.inboxsdk__RRnCd87hoA2uHeC1Z_FE.inboxsdk__vTsoFgWgM9ldKGsRJYHd .inboxsdk__lD1h9YUibxcHdtWGdiWq{cursor:move}.inboxsdk__p_cMIiZvN4vwQdGOpCts{padding-left:6px;vertical-align:middle;font:700 13px/40px"Helvetica Neue",Helvetica,Arial,sans-serif;color:rgb(0 0 0/87%)}.inboxsdk__L1YTilBb_3NY6uyjljIg.inboxsdk__fQK2Ffccj51PVtC_ibDc .inboxsdk__iYzl6PjYB9v7KGQNbONH{display:none}.inboxsdk__RRnCd87hoA2uHeC1Z_FE.inboxsdk__vTsoFgWgM9ldKGsRJYHd .inboxsdk__iYzl6PjYB9v7KGQNbONH:hover .inboxsdk__KudoZ1EBFoQsddbSavvj{position:absolute;top:0;left:0;width:10px;height:40px;background:url('+p+")50%center no-repeat}.inboxsdk__TFQRFr4aJVmDmx2llTVx{width:20px;height:20px;vertical-align:middle;display:inline-flex;justify-content:center;align-items:center;margin-top:-1px}.inboxsdk__Yzt2_upvw7fe6BjWdlhZ,.inboxsdk__Yzt2_upvw7fe6BjWdlhZ>img{width:13px;height:13px}.inboxsdk__M4Frio2Us0lwSTltblkg{flex:1;text-align:right;visibility:hidden}.inboxsdk__RRnCd87hoA2uHeC1Z_FE.inboxsdk__vTsoFgWgM9ldKGsRJYHd .inboxsdk__M4Frio2Us0lwSTltblkg{visibility:visible;cursor:pointer}.inboxsdk__Nr6Udyn2ocUynKpdfxh1{margin-top:12px;margin-right:4px;background:url("+f+')center/20px no-repeat;border:0;width:14px;height:14px;transform:rotate(-90deg);transition:-webkit-transform .15s,transform .15s;outline:0;opacity:.6;cursor:pointer}.inboxsdk__RRnCd87hoA2uHeC1Z_FE.inboxsdk__XdCPRDkO7zSIv6nU4USH .inboxsdk__iYzl6PjYB9v7KGQNbONH .inboxsdk__Nr6Udyn2ocUynKpdfxh1,.inboxsdk__iYzl6PjYB9v7KGQNbONH:hover .inboxsdk__Nr6Udyn2ocUynKpdfxh1{opacity:.9}.inboxsdk__RRnCd87hoA2uHeC1Z_FE.inboxsdk__o9YcckDJql686JS0n2cc .inboxsdk__Nr6Udyn2ocUynKpdfxh1{transform:rotate(0)}.inboxsdk__QsikHKWmzD0Ovsg3wrIw{margin-bottom:25px}.inboxsdk__z3cCBtGXYneog44Vf16J .inboxsdk__ARG5bpD2vntIyElH978u{position:relative}.inboxsdk__z3cCBtGXYneog44Vf16J .inboxsdk__button_icon:focus,.inboxsdk__z3cCBtGXYneog44Vf16J .inboxsdk__button_icon:hover{outline:0}.inboxsdk__appid_warning{margin:0;padding:9px;color:#4b4b4b;background:#ff6c6c;font-size:10pt}.inboxsdk__appid_warning_main,a.inboxsdk__appid_register{display:inline-block;vertical-align:middle}.inboxsdk__appid_warning .topline{font-weight:700;font-size:11pt}a.inboxsdk__appid_register{color:#fff;background:#1989ff;border-radius:3px;text-decoration:none;box-shadow:0 0 5px rgb(0 0 0/30%);padding:7px;font-size:10pt;margin-left:1em}.inboxsdk__thread_row_icon_wrapper{display:inline-block}.inboxsdk__thread_row_icon_wrapper .inboxsdk__button_iconImg{margin-top:0}.inboxsdk__QbxpXL1mja3SlO_1nJOS{background:#f8ebc0;margin-bottom:10px;padding:12px 4px 6px 12px}.inboxsdk__suggestions_separator_before{padding-bottom:2px!important}.inboxsdk__suggestions_separator_after{border-top:1px solid #e5e5e5;padding-top:2px!important}div.T-I.inboxsdk__button{user-select:none;min-width:27px}div.bHJ .inboxsdk__button{margin:0 2px 0 10px}.inboxsdk__no_bg{background:0 0}.inboxsdk__button.inboxsdk__button_disabled{opacity:.55}.inboxsdk__button_icon+.inboxsdk__button_text{margin-left:5px}.inboxsdk__button_icon{display:inline-block}.inboxsdk__button_iconImg{height:20px;width:20px;vertical-align:middle;margin-top:-2px;user-drag:none;user-select:none;-webkit-user-drag:none}.inboxsdk__button_green_hover,.inboxsdk__button_green_inactive{background-image:-webkit-linear-gradient(top,transparent,transparent);background-image:linear-gradient(top,transparent,transparent);border:1px solid transparent;text-shadow:none}.inboxsdk__button_green_inactive{box-shadow:0 1px 0 rgb(0 0 0/5%);background-color:#53a93f;color:#fff}.inboxsdk__button_green_hover{box-shadow:inset 0-1px 0#4c8534;background-color:#65b045;border-bottom:1px solid #4c8534}.inboxsdk__button_green_active{box-shadow:inset 0 1px 0#2f6124;background:#3e802f;border:1px solid transparent;border-top:1px solid #2f6124;color:#fff;text-shadow:none}.ams.inboxsdk__button::before{width:0;margin:0}.ams.inboxsdk__button:focus{background:rgb(0 0 0/0%)}.ams.inboxsdk__button .asa:not(.bjy)::after{width:auto;height:auto}.inboxsdk__menu{min-width:1em;min-height:1em;padding:0;overflow:visible;max-height:none;z-index:7;cursor:default;font-size:13px;margin:0;outline:0}.inboxsdk__menu>.inboxsdk__menuContent{padding:0;box-shadow:0 8px 10px 1px rgb(0 0 0/14%),0 3px 14px 2px rgb(0 0 0/12%),0 5px 5px -3px rgb(0 0 0/20%);transition:opacity .218s;border:1px solid rgb(0 0 0/20%);background:#fff;outline:0}.f4.J-N-JX.inboxsdk__message_more_icon{height:16px;margin-top:1px;width:16px}.inboxsdk__composeButton{height:20px;width:20px;padding:4px}.inboxsdk__composeButton,.inboxsdk__compose_sendButton{display:inline-flex;align-items:center;justify-content:center;vertical-align:middle;outline:0;position:relative}.inboxsdk__composeButton+.inboxsdk__composeButton{margin-left:4px}.inboxsdk__composeButton .inboxsdk__button_icon{opacity:.55}.inboxsdk__composeButton.inboxsdk__composeButton_active .inboxsdk__button_icon,.inboxsdk__composeButton:focus .inboxsdk__button_icon,.inboxsdk__composeButton:hover .inboxsdk__button_icon{opacity:1}.inboxsdk__composeButton::before{content:"";display:block;opacity:0;position:absolute;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1);inset:0 0 0 0;background:0 0;box-sizing:border-box;transform:scale(0);transition-property:transform,opacity;border-radius:4px}.inboxsdk__composeButton:hover::before{background-color:rgb(32 33 36/5.9%);border:0;box-shadow:none;opacity:1;transform:scale(1)}.inboxsdk__composeButton.inboxsdk__composeButton_active::before,.inboxsdk__composeButton:focus::before{background-color:rgb(32 33 36/12.2%);border:0;box-shadow:none;opacity:1;transform:scale(1)}.inboxsdk__compose_actionToolbar .inboxsdk__compose_groupedActionToolbar div.inboxsdk__composeButton:last-child{margin-right:0}.inboxsdk__compose_sendButton{background-color:#1a73e8;color:#fff;height:24px;width:auto;border-radius:4px;padding:6px 4px;margin-left:2px}.inboxsdk__compose_inlineReply .inboxsdk__compose_sendButton{height:24px}.inboxsdk__compose_sendButton.inboxsdk__composeButton_active,.inboxsdk__compose_sendButton:focus{background-color:#5094ed;box-shadow:0 1px 1px 0 rgb(66 133 244/30%),0 1px 3px 1px rgb(66 133 244/15%);border:0}.T-I~.inboxsdk__compose_sendButton{margin-left:-6px}.inboxsdk__compose_actionToolbar{white-space:nowrap;padding-left:6px}.inboxsdk__compose_actionToolbar .inboxsdk__button_icon{height:20px;width:20px;display:inline-flex;user-select:none}.inboxsdk__compose_actionToolbar .inboxsdk__button_iconImg{height:17px;width:17px;display:inline-flex;margin:auto}.inboxsdk__compose_actionToolbar+.gU:not(.inboxsdk__compose_separator){padding-left:8px}.inboxsdk__compose_groupedActionToolbar_visible .aDg .aDh{overflow-y:visible}.inboxsdk__compose_groupedActionToolbar{position:absolute;bottom:44px;z-index:10;border-radius:2px;box-shadow:0 4px 5px 0 rgb(0 0 0/14%),0 1px 10px 0 rgb(0 0 0/12%),0 2px 4px -1px rgb(0 0 0/20%);margin:3px 3px 7px;padding:4px 5px;background:#fff;left:-3px}.inboxsdk__compose_inlineReply .inboxsdk__compose_groupedActionToolbar{left:14px}.inboxsdk__compose_groupedActionToolbar .inboxsdk__composeButton:first-child{margin-left:0;margin-right:0}.inboxsdk__composeButton.inboxsdk__compose_groupedActionButton{margin-right:0}.inboxsdk__compose_groupedActionToolbar .inboxsdk__composeButton{padding:4px}.inboxsdk__compose_groupedActionToolbar_visible .bA3{height:40px}.inboxsdk__compose_groupedActionToolbar div.inboxsdk__button{z-index:1;margin-right:0}.inboxsdk__compose_groupedActionToolbar_arrow,span.inboxsdk__thread_row_custom_draft_label+div.yW{display:none}.inboxsdk__compose_customSendContainer{display:inline-block;position:relative;outline:0;margin:6px 0;padding:0;vertical-align:middle;height:36px;line-height:36px}.inboxsdk__compose_customTitleBarColor>img.Ha,.inboxsdk__compose_customTitleBarColor>img.Hl,.inboxsdk__compose_customTitleBarColor>img.Hq{background-color:transparent!important}.inboxsdk__compose_hasCustomTitleBarText,.inboxsdk__compose_hasCustomTitleBarText>tbody>tr{display:flex}.inboxsdk__compose_hasCustomTitleBarText>tbody>tr{align-items:center}.inboxsdk__compose_hasCustomTitleBarText>tbody{width:100%}.inboxsdk__compose_nativeTitleBarText{display:none!important}.inboxsdk__compose_customTitleBarText{width:calc(100% - 80px)}.inboxsdk__compose_hasCustomTitleBarText td.Hm{margin-right:10px;margin-left:auto}.inboxsdk__compose_statusBarPrependContainer{border-top:1px solid #cfcfcf}.inboxsdk__compose_statusBarPrependContainer+table td.gU{border-top:none}input.inboxsdk__x_close_button{background-color:transparent;background-image:url('+m+');background-size:cover;background-repeat:no-repeat;background-position:center center;height:20px;width:20px;border:0;vertical-align:middle;cursor:pointer;float:right;margin:5px}.inboxsdk__gmail_label.inboxsdk__label_has_icon .au{display:inline-block;margin-left:14px}.inboxsdk__thread_row_label .inboxsdk__button_icon,.inboxsdk__thread_row_label .inboxsdk__button_iconImg{height:11px;width:11px}.inboxsdk__thread_row_label .inboxsdk__button_icon{display:inline-block;margin-top:3px;margin-left:4px;position:absolute}.inboxsdk__thread_row_button{outline:0;height:20px;width:20px;padding:0}.inboxsdk__thread_row_button .inboxsdk__button_icon{max-height:100%}.inboxsdk__thread_row_custom_date_container,.zA>.xY.inboxsdk__thread_row_attachment_icons_present{max-width:inherit}.inboxsdk__thread_row_button .inboxsdk__button_iconImg{height:20px;width:20px;margin-top:0}.inboxsdk__gmail_action{float:right;position:relative;background-color:gray;margin-left:1em;cursor:default;background-image:-webkit-linear-gradient(top,#e9e9e9,#e6e6e6);background-image:linear-gradient(top,#e9e9e9,#e6e6e6);border:1px solid rgb(0 0 0/10%);border-color:#ccc;color:#444;height:17px;line-height:17px;min-width:56px;border-radius:2px;font-size:11px;font-weight:700;text-align:center;white-space:nowrap;padding:0 18px 0 6px}.inboxsdk__gmail_action:focus{border:1px solid #4d90fe;outline:0}.inboxsdk__gmail_action:active{box-shadow:inset 0 1px 2px rgb(0 0 0/10%)}.inboxsdk__gmail_action:hover{box-shadow:0 1px 1px rgb(0 0 0/5%);background-color:#ededed;background-image:-webkit-linear-gradient(top,#ededed,#eaeaea);background-image:linear-gradient(top,#ededed,#eaeaea);border-color:#b8b8b8}.inboxsdk__gmail_action::after{content:"";position:absolute;right:5px;top:5px;margin-left:5px;background:no-repeat url(https://ssl.gstatic.com/mail/sprites/smartmail-561acb673be75c1d374881a95997fce4.png)-67px -100px;width:7px;height:7px;opacity:.55}.inboxsdk__thread_row_custom_date{margin-left:2px}span.inboxsdk__thread_row_custom_date+span:not(.inboxsdk__thread_row_custom_date){display:none}.inboxsdk__thread_row_attachment_iconWrapper{margin-left:3px;height:16px}.inboxsdk__thread_row_attachment_icon{margin-left:3px;width:16px;height:16px}.inboxsdk__thread_row_attachment_iconWrapper{display:flex;justify-content:center;align-items:center;width:max-content}.zA td.apU.xY{width:initial}.zA td.apU.xY span.inboxsdk__thread_row_button{margin:0 10px;opacity:.16}.zA.aqw td.apU.xY span.inboxsdk__thread_row_button{opacity:.54}.zA.aqw td.apU.xY span.inboxsdk__thread_row_button:hover{opacity:1}.zA td.apU.xY span.inboxsdk__thread_row_button::before{width:0;height:0}.inboxsdk__thread_row_attachment_icon{vertical-align:middle}.Zs .xY.inboxsdk__thread_row_attachment_icons_present{flex-grow:0}.Zs .xY.inboxsdk__thread_row_label{order:1}.Zs .xY.inboxsdk__thread_row_icon_wrapper{order:1;margin-left:3px;margin-right:0}.inboxsdk__thread_row_icon_wrapper .inboxsdk__button_icon,.inboxsdk__thread_row_icon_wrapper .inboxsdk__button_iconImg{height:18px;width:18px}.inboxsdk__thread_row_icon_wrapper{width:20px;margin-right:3px;align-self:center;height:20px;flex:0 0 auto}.inboxsdk__thread_row_icon_wrapper .inboxsdk__button_iconImg{vertical-align:top}.inboxsdk__thread_row_image_added .y6 .inboxsdk__thread_row_icon_wrapper~span[id]{margin-left:3px}.inboxsdk__thread_row_image_added .a4W,.inboxsdk__thread_row_image_added .apA,.inboxsdk__thread_row_image_added .apx{position:relative}[inboxsdk__message_added_attachment_icon] td.gH div.gK>span:first-child>img,[inboxsdk__message_added_attachment_icon] td.gH>span:first-child>img{margin-right:3px;margin-left:3px;margin-top:0}[inboxsdk__message_added_attachment_icon] td.gH div.gK>span:first-child>:last-child,[inboxsdk__message_added_attachment_icon] td.gH>span:first-child>:last-child{margin-right:6px}.inboxsdk__message_attachment_icon,.inboxsdk__message_attachment_iconWrapper{width:21px;height:21px;position:relative}.inboxsdk__message_attachment_iconWrapper{margin:auto 3px;display:inline-flex;justify-content:center;align-items:center;vertical-align:top}.inboxsdk__message_attachment_tooltipWrapper{position:absolute;top:19px;z-index:10}.gU .aWQ{max-height:3px}.aQw .inboxsdk__button_icon{display:inline-flex;align-items:center;justify-content:center;height:28px}.aQw .inboxsdk__button_iconImg{height:18px;width:18px;margin-top:2px}.aZi .asa .inboxsdk__button_iconImg{display:inline-block;vertical-align:middle;margin-top:-3px}.aZi .aZj .asa .inboxsdk__button_iconImg{margin:0}body .dw{z-index:6!important}.inboxsdk__compose_outerSidebar_wrapper{position:absolute;left:-401px;top:0;background:#fff;width:400px;bottom:0;border-left:1px solid silver;box-shadow:-2px 0 1px #e6e6e6;display:block}.inboxsdk__outerSidebarActive .aSt .inboxsdk__compose_outerSidebar_wrapper{border-left:0;box-shadow:none;left:-400px}.inboxsdk__outerSidebarActive .aSs>div{width:50%!important;margin-left:30%}.inboxsdk__compose_outerSidebar_header{background:#404040;font-size:80%;padding:10px 10px 11px;color:#fff;border-bottom:1px solid #c4c4c4}.inboxsdk__compose_outerSidebar_body{position:absolute;width:100%;bottom:43px;top:36px;left:-1px;overflow:auto}.inboxsdk__compose_outerSidebar_footer{position:absolute;bottom:0;width:100%;border-top:1px solid rgb(206 206 206);display:block}.inboxsdk__compose_innerSidebarActive .GQ,.inboxsdk__compose_innerSidebarActive form{padding-right:200px}div.inboxsdk__compose_statusbar{border:0;height:40px;margin:0}.inboxsdk__compose_statusbar{background:0 0;position:relative}.HM .I5 .inboxsdk__compose_statusbar{padding:0 16px 16px}table+.inboxsdk__compose_statusbar{margin-top:-8px}body.inboxsdk__classic_gmail_recipients_area .inboxsdk__compose_statusbarActive .aoI{height:auto!important}.inboxsdk__compose_statusbarActive .aDl{z-index:unset}.inboxsdk__compose .qz{max-height:inherit!important}body:not(.inboxsdk_hack_disableComposeSizeFixer) .inboxsdk__size_fixer .aDj.aDi{position:static!important}.inboxsdk__compose_inlineReply.inboxsdk__compose_statusbarActive .HM .I5{padding-bottom:var(--inboxsdk-total-added-statusbar-height, 0px)}.inboxsdk__compose_inlineReply.inboxsdk__compose_statusbarActive .aDj::before{height:calc(100% + var(--inboxsdk-total-added-statusbar-height, 0px))}.inboxsdk__compose_inlineReply.inboxsdk__compose_statusbarActive .aDj.aDi>.aDh{background-color:#fff}.inboxsdk__recipient_row{display:flex}.inboxsdk__compose_notice{background-color:#f5f5f5;border-radius:4px;margin:10px;padding:10px 16px}.inboxsdk__recipient_row td.ok{height:20px;padding:0!important}.inboxsdk__recipient_row td.az3{padding:0 3px}.inboxsdk__compose_forceRecipientsOpen .fX.aXjCH{display:block!important}.inboxsdk__compose_forceRecipientRowHidden,.inboxsdk__compose_forceRecipientsOpen .aoD.hl,.inboxsdk__compose_hideRecipientArea .aoD.hl,.inboxsdk__compose_hideRecipientArea .fX.aXjCH,[data-thread-toolbar=true] [data-rowlist-toolbar=true],[data-toolbar-expanded=false] [data-toolbar-expanded=true],[data-toolbar-expanded=true] [data-toolbar-expanded=false],[data-toolbar-icononly=true] .inboxsdk__button_text{display:none!important}[data-toolbar-icononly=false] .inboxsdk__button_text{color:#5f6368}[data-toolbar-icononly=false] .asa::before{border-radius:4px;border:0!important}[data-toolbar-icononly=false] .inboxsdk__button{align-items:center;border:0;display:inline-flex;justify-content:center;position:relative;z-index:0;-webkit-font-smoothing:antialiased;font-family:"Google Sans",Roboto,RobotoDraft,Helvetica,Arial,sans-serif;font-size:14px;letter-spacing:.15px;background:0 0;box-sizing:border-box;color:#5f6368;cursor:pointer;font-weight:500;outline:0;padding:0 8px}.inboxsdk__menuItem .inboxsdk__icon,.inboxsdk__menuItem img{height:16px;width:16px;margin-top:-1px}.inboxsdk__modal_overlay{right:0;bottom:0}.inboxsdk__modal_fullscreen{position:fixed;inset:0 0 0 0;z-index:503;display:flex;justify-content:center;align-items:center;padding:110px 50px 50px}.inboxsdk__modal_content{margin-top:30px;margin-bottom:30px}.inboxsdk__modal_fullscreen.inboxsdk__modal_content_no_buttons .inboxsdk__modal_content{margin-bottom:0}.inboxsdk__modal_fullscreen.inboxsdk__modal_content_no_buttons:not(.inboxsdk__modal_hideBottom) .inboxsdk__modal_content{margin-bottom:0;padding-bottom:24px}.inboxsdk__modal_close{outline:0;cursor:pointer}.inboxsdk__modal_fullscreen .inboxsdk__modal_container{position:relative;margin-top:-60px;width:auto;overflow:hidden}.inboxsdk__modal_fullscreen .inboxsdk__modal_container .inboxsdk__modal_toprow{margin-right:16px}.inboxsdk__modal_fullscreen.inboxsdk__modal_hideTop .inboxsdk__modal_close{display:none}.inboxsdk__modal_fullscreen.inboxsdk__modal_hideTop .inboxsdk__modal_container{padding-top:0}.inboxsdk__modal_fullscreen.inboxsdk__modal_hideTop .inboxsdk__modal_content{margin-top:0}.inboxsdk__modal_fullscreen.inboxsdk__modal_hideTop .Kj-JD-K7{margin:0;display:none}.inboxsdk__modal_fullscreen.inboxsdk__modal_hideSides .inboxsdk__modal_container,.inboxsdk__modal_fullscreen.inboxsdk__modal_hideSides .inboxsdk__modal_content{padding-left:0;padding-right:0}.inboxsdk__modal_fullscreen.inboxsdk__modal_hideBottom .inboxsdk__modal_content{margin-bottom:0}.inboxsdk__modal_fullscreen.inboxsdk__modal_hideBottom .inboxsdk__modal_container{padding-bottom:0}.inboxsdk__modal_toprow.inboxsdk__modal_toprow--constrain-title-width{display:flex}.inboxsdk__modal_toprow--constrain-title-width>span[role=heading]{flex:1;width:0;word-wrap:break-word}.inboxsdk__drawers_in_use .aDi,.inboxsdk__moles_in_use .aDi{left:auto!important;position:static}.inboxsdk__moles_in_use .nH>.nH>.no{white-space:nowrap}.inboxsdk__moles_in_use .nH>.nH>.no>*{white-space:initial}.inboxsdk__moles_in_use .nH>.nH>.no>.nn{display:inline-block;float:none}.inboxsdk__mole_view{position:relative;max-width:564px;height:100vh;vertical-align:top;display:inline-flex;align-items:flex-end}.inboxsdk__mole_view_inner{visibility:visible;box-sizing:border-box;margin-right:5px;box-shadow:rgb(0 0 0/20%)0 2px 6px;min-width:260px;min-height:40px}.inboxsdk__mole_view_inner:not(.inboxsdk__original_view),.inboxsdk__mole_view_titlebar:not(.inboxsdk__original_view){border-radius:8px 8px 0 0}.inboxsdk__mole_view_titlebar{position:absolute;left:0;right:5px;font-size:14px;font-weight:500;box-sizing:border-box;height:40px;cursor:pointer;padding:10px 12px 10px 16px;color:#041e49;background:#f2f6fc}.inboxsdk__mole_view_titlebar.inboxsdk__original_view{color:#fff;font-size:12.8px;font-weight:400;background:#404040;padding:9px 0 0 11px;border-radius:4px 4px 0 0}.inboxsdk__mole_view_titlebar h2{font-size:inherit;font-weight:inherit;margin:4px 0 0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.inboxsdk__mole_title_buttons{white-space:nowrap;float:right;padding-right:5px;margin-top:1px}.inboxsdk__mole_title_buttons.inboxsdk__original_view{margin-top:-3px}.inboxsdk__mole_title_buttons>img{height:24px;width:24px;position:relative;top:2px}.inboxsdk__mole_title_buttons:not(.inboxsdk__original_view)>img{height:16px;width:16px;margin-left:4px}.inboxsdk__mole_title_buttons:not(.inboxsdk__original_view)>img:hover{background-color:rgb(68 71 70/7.8%)}.inboxsdk__mole_title_buttons.inboxsdk__original_view>img:hover{background-color:#737373}.inboxsdk__mole_title_buttons>img:hover{opacity:1}.inboxsdk__mole_view.inboxsdk__minimized .Hl,.inboxsdk__mole_view.inboxsdk__minimized .inboxsdk__mole_view_content,.inboxsdk__mole_view.inboxsdk__minimized.inboxsdk__mole_use_minimize_title h2.inboxsdk__mole_default,.inboxsdk__mole_view:not(.inboxsdk__minimized) .Hk,.inboxsdk__mole_view:not(.inboxsdk__minimized) h2.inboxsdk__mole_minimized,.inboxsdk__mole_view:not(.inboxsdk__mole_use_minimize_title) h2.inboxsdk__mole_minimized{display:none}.inboxsdk__mole_view_content:not(.inboxsdk__original_view){margin-top:40px;border:0}.inboxsdk__mole_view_content{margin-top:36px;border:1px solid #cfcfcf;background:#fff;min-width:260px;min-height:20px;max-height:80vh}.inboxsdk__mole_view_chromeless .inboxsdk__mole_view_inner{min-width:0}.inboxsdk__mole_view_chromeless .inboxsdk__mole_view_content{margin-top:0;min-width:0}.inboxsdk__tab{width:30px}.inboxsdk__tab.inboxsdk__fQK2Ffccj51PVtC_ibDc:first-child:last-child{display:none}.inboxsdk__tab.inboxsdk__tab_selected{width:auto}table.aKk .inboxsdk__contentTabContainer .inboxsdk__tab .aAy[role=tab]{height:28px}.inboxsdk__tab_icon{width:30px;height:25px;background-position-x:5px;background-position-y:3px;background-size:16px;background-repeat:no-repeat}.inboxsdk__tab_icon img{height:16px;width:16px;margin-left:5px;margin-top:3px}.inboxsdk__tab .aKx{top:4px}.inboxsdk__sidebar div[role=complementary]{position:static!important}.inboxsdk__sidebar>div.y4,.inboxsdk__lmkPHCz841PzU2vywMZI>div.y4{display:none}table.aKk .inboxsdk__contentTabContainer .inboxsdk__tab:first-child .aAy[role=tab]{border-left-width:1px}.inboxsdk__sidebar .inboxsdk__contentPanelContainer{font:12px Arial,sans-serif;max-width:220px}.inboxsdk__contentPanelContainer_contentContainer{overflow:hidden;margin-bottom:10px;border-bottom:1px solid #d8d8d8}body.inboxsdk__hasTopMessageBar .bq9{top:var(--inboxsdk__topMessageBar-height)}.inboxsdk__lmkPHCz841PzU2vywMZI>div[role=complementary]{position:static!important;width:216px!important}.inboxsdk__lmkPHCz841PzU2vywMZI{will-change:position}.inboxsdk__RRnCd87hoA2uHeC1Z_FE{background:#fff}.inboxsdk__ZsVjiThsnbCmCG_X1Vvn{padding:4px 0 12px}.inboxsdk__L1YTilBb_3NY6uyjljIg.inboxsdk__fQK2Ffccj51PVtC_ibDc .inboxsdk__ZsVjiThsnbCmCG_X1Vvn{padding-top:0}.container_app_sidebar_in_use.no,.inboxsdk__IpDkQtEZuh257muFXot6.no{display:flex;flex-direction:row;width:100%}body[dir=rtl] .container_app_sidebar_in_use.no[dir=ltr],body[dir=rtl] .idm5_container_app_sidebar_no_icons.no[dir=ltr]{flex-direction:row-reverse}.container_app_sidebar_in_use.no .G-atb.inboxsdk__thread_toolbar_parent[gh=tm]{margin-right:-57px!important}.container_addon_sidebar_visible.container_app_sidebar_in_use.no .G-atb.inboxsdk__thread_toolbar_parent[gh=tm],.container_app_sidebar_visible.container_app_sidebar_in_use.no .G-atb.inboxsdk__thread_toolbar_parent[gh=tm]{margin-right:-321px!important}.inboxsdk__IpDkQtEZuh257muFXot6 .G-atb.inboxsdk__thread_toolbar_parent[gh=tm]{margin-right:0!important}.inboxsdk__button.ar7{pointer-events:all!important}.container_app_sidebar_in_use .bkK.nn,.inboxsdk__IpDkQtEZuh257muFXot6 .bkK.nn{width:auto!important;flex:1;min-width:0}.inboxsdk__IpDkQtEZuh257muFXot6 .bnl.nn{z-index:-1;position:absolute}.container_app_sidebar_in_use .inboxsdk__lmkPHCz841PzU2vywMZI{min-width:57px!important;flex-shrink:0}.container_app_sidebar_in_use .inboxsdk__lmkPHCz841PzU2vywMZI.app_sidebar_visible{min-width:321px!important}.container_app_sidebar_in_use .inboxsdk__lmkPHCz841PzU2vywMZI>.J-KU-Jg{display:block!important}.container_app_sidebar_in_use .inboxsdk__lmkPHCz841PzU2vywMZI .inboxsdk__jQiSbhX57v1JCl6fIbdb{display:none}.container_app_sidebar_in_use .inboxsdk__lmkPHCz841PzU2vywMZI.app_sidebar_visible .inboxsdk__jQiSbhX57v1JCl6fIbdb{display:block;float:left;height:100%;border-left:1px solid #e0e0e0;padding-left:16px;width:calc(100% - 74px);overflow:auto}.container_app_sidebar_in_use .inboxsdk__jQiSbhX57v1JCl6fIbdb .inboxsdk__ZsVjiThsnbCmCG_X1Vvn{width:calc(100% - 16px);padding-right:16px}.container_app_sidebar_in_use .inboxsdk__lmkPHCz841PzU2vywMZI.app_sidebar_visible .J-KU-Jz{width:auto;padding-right:50px}.inboxsdk__z3cCBtGXYneog44Vf16J .inboxsdk__button_icon{margin:18px 18px 10px;border:0;background:0 0;height:20px;width:20px;overflow:hidden;padding:0;cursor:pointer;position:relative}.inboxsdk__z3cCBtGXYneog44Vf16J.sidebar_global_iconArea .inboxsdk__button_icon{margin-bottom:18px}body .inboxsdk__z3cCBtGXYneog44Vf16J .inboxsdk__button_icon{overflow:visible}.inboxsdk__z3cCBtGXYneog44Vf16J .inboxsdk__button_icon:hover::before,.inboxsdk__z3cCBtGXYneog44Vf16J .sidebar_button_container_active .inboxsdk__button_icon::before{content:"";background:#f1f3f4;position:absolute;inset:-10px -10px -10px -10px;border-radius:50%;z-index:0}.inboxsdk__z3cCBtGXYneog44Vf16J .sidebar_button_container_active .inboxsdk__button_icon::before{background:#e8eaed}.inboxsdk__z3cCBtGXYneog44Vf16J .inboxsdk__button_iconImg{width:20px;height:20px;margin-top:0}.inboxsdk__z3cCBtGXYneog44Vf16J .inboxsdk__button_icon .inboxsdk__button_iconImg{position:absolute;left:0;top:0;z-index:1}.inboxsdk__z3cCBtGXYneog44Vf16J .sidebar_button_container_active .inboxsdk__button_selectedIndicator{height:40px;width:3px;position:absolute;left:0;bottom:0;background-color:rgb(66 133 244);border-radius:0 3px 3px 0}body:not(.inboxsdk__sidebar_icons_right) .inboxsdk__z3cCBtGXYneog44Vf16J .sidebar_button_container_active .inboxsdk__button_selectedIndicator{left:unset;right:0;border-radius:3px 0 0 3px}.inboxsdk__z3cCBtGXYneog44Vf16J.sidebar_global_iconArea .sidebar_button_container_active .inboxsdk__button_selectedIndicator{bottom:8px}.brC-brG.companion_app_sidebar_visible{display:block!important}.bq9:not(.brC-brG).companion_app_sidebar_wrapper_visible{display:block!important}.WN9Ejb.br3.companion_app_sidebar_wrapper_visible{display:block!important}.companion_global_app_sidebar_visible .thread_app_sidebar{display:none}.companion_app_sidebar_visible:not(.companion_global_app_sidebar_visible) .global_app_sidebar,body.inboxsdk__custom_view_active .brC-aT5-aOt-ato-Kp-Jw [role=tablist]>div:not(:last-child){display:none}.nH.companion_container_app_sidebar_visible{width:calc(100% - 300px)!important}.companion_app_sidebar_visible .addon_sidebar~div:not(.addon_sidebar){display:none!important}.inboxsdk__lmkPHCz841PzU2vywMZI .inboxsdk__jQiSbhX57v1JCl6fIbdb.addon_sidebar{height:100%;overflow:auto}.inboxsdk__lmkPHCz841PzU2vywMZI .inboxsdk__jQiSbhX57v1JCl6fIbdb.addon_sidebar .inboxsdk__ZsVjiThsnbCmCG_X1Vvn{width:100%}.inboxsdk__lmkPHCz841PzU2vywMZI:not(.companion_app_sidebar_visible) .addon_sidebar{display:none}.inboxsdk__TFQRFr4aJVmDmx2llTVx{margin-left:0}.inboxsdk__RRnCd87hoA2uHeC1Z_FE .inboxsdk__iYzl6PjYB9v7KGQNbONH{padding:0 16px}.inboxsdk__lmkPHCz841PzU2vywMZI .bvq,.inboxsdk__lmkPHCz841PzU2vywMZI .bvq>div:last-child{display:block!important}.inboxsdk__cnd4jAy3zFUYdR_NdMxT .bvq>div:first-child{display:none!important}.inboxsdk__custom_view_element{overflow:auto}.inboxsdk__hide_native_marker .ain:not(.inboxsdk__navItem){border-left-color:transparent}.inboxsdk__hide_native_marker .ain:not(.inboxsdk__navItem) .bsU,.inboxsdk__hide_native_marker .ain:not(.inboxsdk__navItem) .nU:not(.n1) .n0{font-weight:400}.inboxsdk__hide_native_marker .ain:not(.inboxsdk__navItem) .TO{background:0 0}.inboxsdk__hide_addon_container{display:flex!important;flex-direction:row;width:100%!important}body[dir=rtl] .inboxsdk__hide_addon_container[dir=ltr]{flex-direction:row-reverse}.inboxsdk__hide_addon_container>.bkK.nn{width:auto!important;flex:1;min-width:0}.inboxsdk__hide_addon_container>.bnl.nn,.inboxsdk__navItem>.TO img.afM.afO~.aio>.bsU{display:none}.inboxsdk__navItem{font-size:14px}.inboxsdk__navItem:not(.Xr)>.V3[style]{flex-grow:0!important}.inboxsdk__navItem>.TO.n4{display:block;padding-left:0}.inboxsdk__collapsiblePanel .inboxsdk__navItem>.TO .TN.aik{padding-left:18px}.inboxsdk__collapsiblePanel .inboxsdk__navItem>.TO .qj{margin-right:14px}.inboxsdk__navItem>.TO.n4 .qj>.G-asx{margin-right:0}.inboxsdk__navItem>.TO .aio>.bsU:empty{display:none}.inboxsdk__navItem>.TO .qj:empty::after{background-color:rgb(118 118 118);border-radius:50%;content:"";height:18px;margin-left:1px;width:18px}.inboxsdk__navItem>.TO .qj[style*=border-color]:empty::after{border-color:inherit}.inboxsdk__navItem>.TO:hover .pM{display:flex;visibility:visible}.inboxsdk__navItem>.TO .afM{cursor:pointer}.inboxsdk__navItem>.TO img.afM.afO,.inboxsdk__navItem>.TO:hover .afM{display:block;visibility:visible}.inboxsdk__collapsiblePanel_loading_container,.inboxsdk__navItem>.TO:hover .bsU{display:none}.inboxsdk__navItem.inboxsdk__navItem_nonClickable>.TO:active{background-color:initial}.inboxsdk__navItem_hover .aj0,.inboxsdk__navItem_hover .p8{visibility:visible}.inboxsdk__appMenuItem .CL.V6::before,.inboxsdk__collapsiblePanel .T-I.T-I-KE.L3::before{background-image:var(--background-image)}.inboxsdk__collapsiblePanel.apV.aJu .T-I.T-I-KE.L3::before{background-image:var(--background-image--hover)}.inboxsdk__appMenuItem.apV .CL.V6::before{background-image:var(--background-image--active)}.inboxsdk__collapsiblePanel .T-I.T-I-KE.L3::before{background-size:24px}.inboxsdk__collapsiblePanel_loading_container.inboxsdk__collapsiblePanel_loading_container--active,.inboxsdk__shortcutHelp_table table.cf,.inboxsdk__shortcutHelp_table tbody tbody,table[role=presentation].inboxsdk__thread_view_with_custom_view>tr{display:block}.inboxsdk__navItem_link{cursor:pointer;margin-left:auto}.inboxsdk__navItem_link>a{margin-left:16px}.inboxsdk__navItem>.TO .inboxsdk__button{margin-right:0}[dir=rtl] .inboxsdk__navItem_link{left:-4px;right:initial}.inboxsdk__navItem_container .aio .inboxsdk__button{position:absolute;top:0;right:-30px}.inboxsdk__navItem_marker{position:absolute;left:0;padding-bottom:2px}.inboxsdk__expando{z-index:1}.aip .CK,.inboxsdk__navItem_link>a{color:#15c}.aip .CK:hover,.inboxsdk__navItem_link>a:hover{text-decoration:underline}.inboxsdk__navItem_container .aio.aip{white-space:nowrap}.WR[role=navigation] .inboxsdk__navItem .Yh:not(.inboxsdk__navItem_parent_accessory_button):empty{display:none}.WR[role=navigation] .inboxsdk__navItem .Yh:not(.inboxsdk__navItem_parent_accessory_button){background:0 0}.WR[role=navigation] .inboxsdk__navItem .Yh .inboxsdk__button_icon{display:none}.WR[role=navigation].bhZ:not(.bym) .inboxsdk__navItem .Yh{opacity:1}.WR[role=navigation].bhZ:not(.bym) .inboxsdk__navItem .Yh.inboxsdk__navItem_parent_accessory_button{background-image:none!important}.WR[role=navigation].bhZ:not(.bym) .inboxsdk__navItem .Yh:empty{background-color:rgb(32 33 36/71%);border-radius:50%;display:inherit;height:18px;margin-left:1px;width:18px}.WR[role=navigation].bhZ:not(.bym) .inboxsdk__navItem .Yh .inboxsdk__button_icon{display:inherit}.inboxsdk__custom_sections{margin-bottom:8px}.inboxsdk__custom_sections.Wc{padding:0;margin-bottom:0}.inboxsdk__resultsSection.inboxsdk__resultsSection_nonCollapsible .inboxsdk__resultsSection_title .Wp{visibility:hidden}.inboxsdk__custom_sections .Wg,.inboxsdk__custom_sections.Wc .inboxsdk__resultsSection{padding-top:0}.inboxsdk__custom_sections.Wc .Wg{border-bottom:0;padding:0}.inboxsdk__results_collapsedContainer.Wg{height:auto}.inboxsdk__results_collapsedContainer>div{display:flex;flex-wrap:wrap;flex:1 0 100%}.inboxsdk__results_collapsedContainer>div>.inboxsdk__resultsSection_collapsed:first-child:last-child{flex:1;margin-right:0}.inboxsdk__results_collapsedContainer>div>.inboxsdk__resultsSection_collapsed:first-child:last-child>.inboxsdk__resultsSection_header{display:flex;align-items:center;flex:1}.inboxsdk__resultsSection.inboxsdk__resultsSection_collapsed{display:inline-block;margin-right:20px;display:inline-flex}.Wc .inboxsdk__resultsSection.inboxsdk__resultsSection_collapsed{margin-right:0}.inboxsdk__resultsSection_collapsed .inboxsdk__resultsSection_header{padding-right:0}.inboxsdk__resultsSection_title{white-space:nowrap;cursor:pointer;display:inline-block;display:flex;align-items:center;height:48px}.Wc .inboxsdk__resultsSection_title{padding:3px 0 3px 8px}.inboxsdk__resultsSection_header{min-height:48px;line-height:48px}.inboxsdk__resultsSection_header_summaryText.Wm:last-child .amH{padding-right:0;margin-right:0}.inboxsdk__custom_sections.Wc .inboxsdk__resultsSection_header_summaryText:last-child{margin-right:11px}.inboxsdk__custom_sections.Wc .J-JN-M-I{margin-right:13px}.inboxsdk__resultsSection .TB.TC{text-align:center;padding-left:0;padding-right:0}.inboxsdk__resultsSection .inboxsdk__resultsSection_loading{font-style:italic}.inboxsdk__resultsSection .inboxsdk__resultsSection_result_icon{height:15px;width:15px}.inboxsdk__resultsSection_label_iconHtml,.inboxsdk__resultsSection_result_iconHtml{display:flex;justify-content:center;align-items:center}.inboxsdk__resultsSection .inboxsdk__resultsSection_tableRow.zA:hover>.xW{display:flex}.inboxsdk__resultsSection .inboxsdk__resultsSection_tableRow.zA>.xW{max-width:none;flex-basis:auto}.inboxsdk__resultsSection .inboxsdk__resultsSection_tableRow .xT{align-items:center}.inboxsdk__resultsSection .xX{width:20ex}.inboxsdk__resultsSection tr .xW>span{overflow:hidden;display:block;text-overflow:ellipsis}.inboxsdk__resultsSection .V3{overflow:hidden;white-space:nowrap}.inboxsdk__resultsSection .at{position:relative}.inboxsdk__thread_row_label{flex-shrink:0;align-self:flex-end}.apv .inboxsdk__thread_row_label{align-self:flex-start}.inboxsdk__resultsSection_label_icon{height:11px;width:11px;position:absolute;top:2px;margin-left:4px;margin-top:1px}.inboxsdk__resultsSection .av,.inboxsdk__thread_row_label .av{overflow:hidden;text-overflow:ellipsis}.inboxsdk__resultsSection_label_icon+.av,.inboxsdk__thread_row_label .inboxsdk__button_icon+.av{margin-left:16px}.Wc .inboxsdk__resultsSection_footer{padding:3px 3px 3px 8px}.inboxsdk__tooltip .T-P{box-shadow:0 1px 3px rgb(0 0 0/20%);background-color:#fff;border:1px solid;border-color:#bbb #bbb #a8a8a8;padding:16px;z-index:1201!important}.inboxdk__tooltip_content.inboxsdk__tooltip .aRM,.inboxsdk__tooltip.inboxdk__tooltip_content .T-P,.inboxsdk__tooltip.inboxsdk__appButton_tooltip .T-P{padding:0}.inboxsdk__tooltip .aRM{outline:0;padding:13px 10px 16px;text-align:center;font:16px arial,sans-serif}.inboxsdk__tooltip .aRR{color:#333;font-size:18px;margin-top:13px}.inboxsdk__tooltip .aRQ{color:#777;font-size:13px;margin:3px 0 14px}.inboxsdk__tooltip{position:fixed;z-index:1300;transition:left 200ms ease,top 200ms ease}.inboxsdk__tooltip .T-P{position:relative;width:auto;max-width:500px}.inboxsdk__tooltip .inboxsdk__tooltip_arrow{position:fixed;z-index:1400;margin-top:-1px;transition:left 200ms ease,top 200ms ease}.inboxsdk__tooltip .inboxsdk__tooltip_close{user-select:none}.inboxsdk__tooltip .inboxsdk__button{margin-right:0}.inboxsdk__tooltip .inboxsdk__tooltip_image{max-height:300px;max-width:500px;overflow:hidden;height:auto}.inboxsdk__tooltip .inboxsdk__tooltip_image>img{max-height:300px;max-width:500px}.inboxsdk__attachmentCard img.aQG.aYB{max-width:178px;min-width:178px;min-height:118px}.inboxsdk__attachmentCard img.aZG.aYw{background:0 0}.aQw>.T-I.J-J5-Ji.L3{margin-top:5px}table.cf.wd.inboxsdk__shortcutHelp_table{margin-bottom:15px}.inboxsdk__shortcutHelp_table td.Dn{display:inline-block;width:50%}.inboxsdk__shortcutHelp_table tbody tbody tr{display:block;white-space:nowrap}.inboxsdk__shortcutHelp_table td.wg.Dn{display:inline-block;width:45%}.inboxsdk__shortcutHelp_table span.wb{margin-left:3px}.inboxsdk__shortcutHelp_table td.we.Dn{width:60%;white-space:normal}.inboxsdk__shortcutHelp_title img.inboxsdk__icon{height:21px;width:21px;vertical-align:middle;margin-right:10px;border-radius:4px}.asor.inboxsdk__custom_suggestion,.inboxsdk__custom_suggestion_iconHTML{display:flex;justify-content:center;align-items:center}.inboxsdk__custom_suggestion img{max-width:32px;max-height:32px}.inboxsdk__custom_suggestion_iconHTML{position:absolute;left:8px;height:32px;width:43px}.gstq_d .inboxsdk__custom_suggestion_iconHTML{margin-top:-8px}.inboxsdk__appButton{margin-right:8px}.inboxsdk__appButton+.inboxsdk__appButton{margin-left:16px}.inboxsdk__appButton.inboxsdk__appButton_noGPlus{margin-right:0}.inboxsdk__appButton .inboxsdk__button_icon{margin-right:5px;position:relative}.inboxsdk__appButton a{color:#404040;text-decoration:none;line-height:24px}.inboxsdk__appButton.inboxsdk__appButton_noGPlus a{line-height:30px}.inboxsdk__appButton a:hover{text-decoration:underline;color:#000}.inboxsdk__gmail_dark_theme .inboxsdk__appButton a{color:#eee}.inboxsdk__gmail_dark_theme .inboxsdk__appButton a:hover{color:#fff}.inboxsdk__appButton_tooltip{outline:0;transition:none;animation:gb__a .2s}.inboxsdk__appButton_tooltip .inboxsdk__tooltip_close,.inboxsdk__searchIsNarrow .streak__appToolbarButton_title{display:none}.inboxsdk__tooltip.inboxsdk__appButton_tooltip .aRM{padding:0;white-space:initial;text-align:center;font:16px arial,sans-serif}.inboxsdk__tooltip.inboxsdk__appButton_tooltip .inboxsdk__tooltip_arrow{transform-origin:top;transform:rotateZ(180deg);margin-top:9px}.inboxsdk__custom_message_view{display:flex;padding-top:20px;padding-bottom:20px;border-top:1px solid #efefef;border-collapse:collapse}.inboxsdk__custom_message_view_hidden{display:none}.h7.ie+.inboxsdk__custom_message_view{margin-top:5px}.kQ+.inboxsdk__custom_message_view,.kx+.inboxsdk__custom_message_view{margin-top:1px}.inboxsdk__custom_message_view.inboxsdk__custom_message_view_collapsed{cursor:pointer}.inboxsdk__custom_message_view .inboxsdk__custom_message_view_icon{padding-left:16px;padding-right:16px;flex-shrink:0}.inboxsdk__custom_message_view .inboxsdk__custom_message_view_icon img{height:32px;width:32px;border-radius:50%}.inboxsdk__custom_message_view .inboxsdk__custom_message_view_content{width:100%;min-width:0}.inboxsdk__custom_message_view .inboxsdk__custom_message_view_header{cursor:pointer}.inboxsdk__custom_message_view_app_notice_content{position:relative;z-index:1;align-items:center;display:flex;font-size:.75rem!important;justify-content:flex-start;margin-left:0;padding:0;top:0}.adx.inboxsdk__custom_message_view_app_notice_container.inboxsdk__custom_message_view_app_notice_container{position:relative;width:auto!important;min-width:32px}.adx.inboxsdk__custom_message_view_app_notice_container.inboxsdk__custom_message_view_app_notice_container:hover::before{content:none!important}.adx.inboxsdk__custom_message_view_app_notice_container.inboxsdk__custom_message_view_app_notice_container>span:first-child{display:none}.inboxsdk__custom_message_view_app_notice_container::before{position:absolute}.inboxsdk__custom_message_view_app_notice_content>*{color:#555}table[role=presentation].inboxsdk__thread_view_with_custom_view{table-layout:fixed}.inboxsdk__butterbar.inboxsdk__butterbar_error{background-color:#c53929!important}.inboxsdk__butterbar.inboxsdk__butterbar_error [role=button]{color:#fff}.inboxsdk__butterbar.inboxsdk__butterbar_error [role=button]::before{background:rgb(255 255 255/8%)}.inboxsdk__support_menuItem:hover{background-color:#eee;outline:1px dashed transparent}.inboxsdk__compose_addressList{display:flex!important}.inboxsdk__linkPopOver_section_container{position:absolute;width:100%;left:0;margin-top:8px;box-sizing:border-box}.VRezbc.phnWcc .inboxsdk__linkPopOver_section_container{padding:0 5px}.inboxsdk__linkPopOver_section{width:100%;background:#fff;border:1px solid;border-color:#bbb #bbb #a8a8a8;font:13px arial,sans-serif;padding:5px 8px;margin-bottom:5px;box-sizing:border-box;box-shadow:0 1px 3px rgb(0 0 0/20%)}.T-I.J-J5-Ji.T-I-ax7.inboxsdk__button .asa::after{width:auto}.inboxsdk__hide_filter_toolbar .G6[role=toolbar],.inboxsdk__hide_filter_toolbar .biW[data-srm=email]{display:none}.inboxsdk__hide_filter_toolbar .G-atb.PY{min-height:32px!important;height:32px!important}',"",{version:3,sources:["webpack://./src/platform-implementation-js/style/gmail.css","<no source>"],names:[],mappings:"AAAA,wBACE,yBACF,CAEA,wBACE,WAAY,CACZ,UAAW,CACX,UAAY,CACZ,iBAAkB,CAClB,cAAgB,CAChB,QAAY,CACZ,SAAU,CACV,sBAAuB,CACvB,SAAa,CACb,cACF,CAEA,4DAEE,SACF,CAEA,sCACE,+BACF,CAEA,gCACE,iBAAkB,CAClB,iBAAkB,CAClB,yBAA0B,CAC1B,WAAY,CACZ,WACF,CAEA,+BACE,WAAY,CACZ,4FAA6F,CAC7F,iBAAkB,CAClB,WAAY,CACZ,UAAW,CACX,KAAM,CACN,MACF,CAEA,+BACE,+BACE,4FAA6F,CAC7F,uBACF,CACF,CAEA,gCACE,YACF,CAIA,iCACE,kBAAmB,CACnB,iBAAkB,CAClB,cAAe,CACf,YAAa,CACb,WAAY,CACZ,QAAS,CACT,MAAO,CACP,UAAW,CACX,mBACF,CAEA,uBACE,iBAAkB,CAClB,mBAAoB,CACpB,KAAM,CACN,QAAS,CACT,OAAQ,CACR,WAAY,CACZ,oDAIY,CACZ,YAAa,CACb,qBAAsB,CACtB,qBAAsB,CACtB,SAAa,CACb,2DAE6B,CAC7B,0BAA2B,CAC3B,kDACF,CAEA,mEACE,WACF,CAEA,wCACE,cACF,CAEA,4BACE,wBAAyB,CACzB,+BAAgC,CAChC,iBAAkB,CAClB,kBAAmB,CACnB,YAAa,CACb,aACF,CAEA,oDACE,iBAAkB,CAClB,aACF,CAEA,wBACE,eAAgB,CAChB,sBAAuB,CACvB,kBAAmB,CACnB,yDAKF,CAIA,0BACE,kBAAmB,CACnB,cAAe,CACf,YAAa,CACb,WAAY,CACZ,QAAS,CACT,MAAO,CACP,UAAW,CACX,4BAA6B,CAC7B,wDACF,CAEA,2CACE,kCAAqC,CACrC,uDACF,CAEA,oDACE,UACF,CAIA,gCACE,YAAa,CACb,qBACF,CAEA,wDACE,iBAAkB,CAClB,WAAY,CACZ,UACF,CAEA,gCACE,WACF,CAEA,gCACE,eAAgB,CAChB,0BAEY,CACZ,eAAgB,CAChB,qBACF,CAEA,gCACE,kBAAmB,CACnB,YAAa,CACb,gBAAiB,CACjB,cACF,CAEA,qGAEE,4BACF,CAEA,oMAIE,wBACF,CAEA,gCACE,WAAY,CACZ,eAAgB,CAChB,sBACF,CAEA,+FAEE,WACF,CAEA,gCACE,gBAAiB,CACjB,qBAAsB,CACtB,6DAIY,CACZ,oBACF,CAEA,+FAEE,YACF,CAEA,qIAGE,iBAAkB,CAClB,KAAQ,CACR,MAAS,CACT,UAAW,CACX,WAAY,CACZ,qEAEF,CAEA,gCACE,UAAW,CACX,WAAY,CACZ,qBAAsB,CAEtB,mBAAoB,CACpB,sBAAuB,CACvB,kBAAmB,CACnB,eACF,CAEA,oEAEE,UAAW,CACX,WACF,CAEA,gCACE,MAAO,CACP,gBAAiB,CACjB,iBACF,CAEA,+FAEE,kBAAmB,CACnB,cACF,CAEA,gCACE,eAAgB,CAChB,gBAAiB,CACjB,uEACyB,CACzB,QAAY,CACZ,UAAW,CACX,WAAY,CACZ,wBAAyB,CACzB,gDAEiB,CACjB,SAAa,CACb,UAAY,CACZ,cACF,CAEA,qMAKE,UACF,CAEA,+FAEE,mBACF,CAEA,gCACE,kBACF,CAEA,gEACE,iBACF,CAEA,0HAEE,SACF,CAMA,yBACE,QAAS,CACT,WAAY,CACZ,aAAc,CACd,kBAAmB,CACnB,cACF,CAEA,yDACE,oBAAqB,CACrB,qBACF,CAEA,kCACE,eAAiB,CACjB,cACF,CAEA,2BACE,UAAY,CAEZ,kBAAmB,CACnB,iBAAkB,CAClB,oBAAqB,CACrB,iCAAoC,CACpC,WAAY,CACZ,cAAe,CAEf,eACF,CAEA,mCACE,oBACF,CAEA,6DACE,YACF,CAEA,gCACE,kBAAmB,CACnB,kBAAmB,CACnB,yBACF,CAIA,wCACE,4BACF,CAEA,uCACE,4BAA6B,CAC7B,yBACF,CAIA,yBACE,gBAAiB,CACjB,cACF,CAGA,0BACE,mBACF,CAEA,iBACE,cACF,CAEA,4CACE,WACF,CAEA,8CACE,eACF,CAEA,uBACE,oBACF,CAEA,0BACE,WAAY,CACZ,UAAW,CACX,qBAAsB,CACtB,eAAgB,CAEhB,cAAe,CACf,gBAAiB,CACjB,sBACF,CCjZA,+DDmaE,qEAAwE,CAExE,6DAAgE,CAChE,4BAA6B,CAE7B,eAAiB,ECxanB,ADmZA,iCACE,gCAAmC,CACnC,wBAAyB,CAMzB,UAEF,CAEA,8BACE,+BAAkC,CAClC,wBAAyB,CAMzB,+BAEF,CAEA,+BACE,+BAAiC,CACjC,kBAAmB,CACnB,4BAA6B,CAC7B,4BAA6B,CAC7B,UAAW,CACX,gBACF,CAGA,8BACE,OAAQ,CACR,QACF,CAEA,4BACE,wBACF,CAEA,4CACE,UAAW,CACX,WACF,CAEA,gBACE,aAAc,CACd,cAAe,CACf,SAAY,CACZ,gBAAiB,CACjB,eAAgB,CAGhB,SAAU,CACV,cAAe,CACf,cAAe,CACf,QAAS,CACT,SACF,CAEA,uCACE,SAAU,CACV,oGAGiC,CACjC,wBAA0B,CAC1B,+BAAkC,CAClC,eAAgB,CAChB,SACF,CAEA,uCACE,WAAY,CACZ,cAAe,CACf,UACF,CAOA,yBAEE,WAAY,CACZ,UAAW,CACX,WAOF,CAXA,uDAKE,mBAAoB,CACpB,kBAAmB,CACnB,sBAAuB,CACvB,qBAAsB,CACtB,SAAa,CACb,gBAAkB,CACpB,CAEA,kDACE,eACF,CAEA,gDACE,WACF,CAEA,2LAGE,SACF,CAEA,iCACE,UAAW,CACX,aAAc,CACd,SAAU,CACV,iBAAkB,CAClB,wBAA0B,CAC1B,kDAAwD,CACxD,aAAsB,CACtB,cAAgB,CAChB,qBAAsB,CACtB,kBAAmB,CACnB,qCAAuC,CACvC,iBACF,CAEA,uCACE,mCAAsC,CACtC,QAAY,CACZ,eAAgB,CAChB,SAAU,CACV,kBACF,CAEA,uGAEE,oCAAuC,CACvC,QAAY,CACZ,eAAgB,CAChB,SAAU,CACV,kBACF,CAEA,gHAGE,cACF,CAEA,8BACE,wBAAyB,CACzB,UAAY,CACZ,WAAY,CACZ,UAAW,CAGX,iBAAkB,CAKlB,eAAgB,CAChB,cAAgB,CALlB,CAQA,6DAME,UAAY,CAJd,CAOA,iGAEE,wBAAyB,CACzB,4EAEqC,CACrC,QACF,CAEA,mCACE,gBACF,CAEA,iCACE,kBAAmB,CAKnB,eAAiB,CAJnB,CAOA,wDACE,WAAY,CACZ,UAAW,CACX,mBAAoB,CACpB,gBACF,CAEA,2DACE,WAAY,CACZ,UAAW,CACX,mBAAoB,CACpB,WACF,CAEA,uEACE,gBACF,CAGA,0DACE,kBACF,CAEA,wCACE,iBAAkB,CAClB,WAAY,CAEZ,UAAW,CAEX,iBAAkB,CAClB,+FAGiC,CAMjC,kBAAkB,CAClB,eAAgB,CAChB,eAAiB,CACjB,QAAU,CAPZ,CAUA,uEACE,SACF,CAEA,6EACE,aAAgB,CAChB,cACF,CAEA,+DACE,cACF,CAEA,iEACE,WACF,CAOA,qDACE,WACF,CAEA,6DACE,SAAU,CAKV,aAAiB,CAJnB,CAOA,kGACE,YACF,CAIA,uCACE,oBAAqB,CACrB,iBAAkB,CAClB,SAAU,CAEV,YAAa,CACb,SAAU,CAEV,qBAAsB,CAKtB,WAAY,CACZ,eAAiB,CALnB,CAQA,0IAGE,sCACF,CAEA,2FAEE,YACF,CAEA,kDACE,kBACF,CAEA,+CACE,UACF,CAEA,sCACE,sBACF,CAEA,sCACE,uBACF,CAEA,+CACE,iBAAkB,CAClB,gBACF,CAEA,6CACE,4BACF,CAEA,yDACE,eACF,CAMA,+BACE,4BAA6B,CAC7B,wDAAynF,CACznF,qBAAsB,CACtB,2BAA4B,CAC5B,iCAAkC,CAClC,WAAY,CACZ,UAAW,CACX,QAAY,CACZ,qBAAsB,CACtB,cAAe,CAEf,WAAY,CACZ,UACF,CAIA,oDACE,oBAAqB,CACrB,gBACF,CAEA,yGAEE,WAAY,CACZ,UACF,CAEA,mDACE,oBAAqB,CACrB,cAAe,CACf,eAAgB,CAChB,iBACF,CAEA,6BACE,SAAU,CACV,WAAY,CACZ,UAAW,CACX,SACF,CAEA,oDACE,eACF,CAEA,kGACE,iBACF,CAEA,uDACE,WAAY,CACZ,UAAW,CACX,YACF,CAEA,wBACE,WAAY,CACZ,iBAAkB,CAClB,qBAAsB,CACtB,eAAgB,CAChB,cAAe,CAGf,6DAAgE,CAEhE,qDAAwD,CACxD,+BAAkC,CAClC,iBAAkB,CAClB,UAAW,CACX,WAAY,CACZ,gBAAiB,CACjB,cAAe,CACf,iBAAkB,CAClB,cAAe,CACf,eAAiB,CACjB,iBAAkB,CAClB,kBAAmB,CACnB,oBACF,CAEA,8BACE,wBAAyB,CACzB,SACF,CAEA,+BACE,yCACF,CAEA,8BACE,kCAAqC,CACrC,wBAAyB,CAEzB,6DAAgE,CAEhE,qDAAwD,CACxD,oBACF,CAEA,+BACE,UAAW,CACX,iBAAkB,CAClB,SAAU,CACV,OAAQ,CACR,eAAgB,CAChB,yHACuG,CACvG,SAAU,CACV,UAAW,CACX,WACF,CAEA,kCACE,eACF,CAEA,kFAEE,YACF,CAMA,6CAEE,eAAgB,CAEhB,WACF,CALA,sCAEE,eAAgB,CAChB,UAAW,CACX,UAAY,CACd,CAEA,6CACE,YAAa,CACb,sBAAuB,CACvB,kBAAmB,CACnB,iBACF,CAMA,cACE,aACF,CAEA,+CACE,aAAc,CACd,WACF,CAEA,mDACE,WACF,CAEA,yDACE,SACF,CAEA,uDAGE,OAAU,CACV,QACF,CAEA,sCACE,qBACF,CAOA,sDACE,WACF,CAEA,mCACE,OACF,CAEA,0CACE,OAAQ,CACR,eAAgB,CAChB,cACF,CAIA,uHAEE,WAAY,CACZ,UACF,CAGA,mCACE,UAAW,CACX,gBAAiB,CACjB,iBAAkB,CAClB,WAAY,CACZ,aACF,CAGA,6DACE,kBACF,CAEA,kFAIE,eACF,CAEA,qHAGE,iBACF,CAGA,iJAME,gBAAiB,CACjB,eAAgB,CAChB,YACF,CAEA,iKASE,gBACF,CAEA,6EAEE,UAAW,CACX,WAAY,CACZ,iBACF,CAEA,0CACE,eAAgB,CAChB,mBAAoB,CACpB,sBAAuB,CACvB,kBAAmB,CACnB,kBACF,CAEA,6CACE,iBAAkB,CAClB,QAAS,CACT,UACF,CAIA,SACE,cACF,CAEA,4BACE,mBAAoB,CACpB,kBAAmB,CACnB,sBAAuB,CACvB,WACF,CAEA,+BACE,WAAY,CACZ,UAAW,CAKX,aAAe,CAJjB,CAOA,oCACE,oBAAqB,CACrB,qBAAsB,CACtB,eACF,CAGA,yCACE,QACF,CAEA,SAKE,mBACF,CAEA,wCACE,iBAAkB,CAClB,WAAY,CACZ,KAAQ,CACR,eAAiB,CACjB,WAAY,CACZ,QAAW,CACX,4BAA6B,CAC7B,6BAAgC,CAChC,aACF,CAEA,2EACE,aAAc,CACd,eAAgB,CAChB,WACF,CAEA,uCACE,mBAAqB,CACrB,eACF,CAEA,uCACE,kBAAmB,CACnB,aAAc,CACd,sBAA4B,CAC5B,UAAY,CACZ,+BACF,CAEA,qCACE,iBAAkB,CAClB,UAAW,CACX,WAAY,CACZ,QAAS,CACT,SAAU,CACV,aACF,CAEA,uCACE,iBAAkB,CAClB,QAAW,CACX,UAAW,CACX,qCAAsC,CACtC,aACF,CAEA,qFAEE,mBACF,CAEA,gCACE,QAAS,CACT,WAAY,CACZ,QACF,CAEA,6BACE,cAAgB,CAChB,iBACF,CAGA,qCACE,mBACF,CAEA,mCACE,eACF,CAKA,qFAGE,qBACF,CAEA,wCACE,aACF,CAIA,uBACE,4BACF,CAKA,gFAGE,yBACF,CAEA,yEACE,gEACF,CAGA,8EACE,qEACF,CAKA,+EAGE,qBACF,CAEA,yBACE,YACF,CAEA,0BACE,wBAAyB,CACzB,iBAAkB,CAClB,WAAY,CACZ,iBACF,CAEA,+BACE,WAAY,CACZ,mBACF,CAEA,gCACE,aACF,CAEA,iDACE,uBACF,CAEA,uZAIE,sBACF,CAoBA,qDACE,aACF,CAEA,2CACE,iBAAkB,CAClB,kBACF,CAEA,gDACE,kBAAmB,CACnB,QAAY,CACZ,mBAAoB,CACpB,sBAAuB,CACvB,iBAAkB,CAClB,SAAU,CACV,kCAAmC,CACnC,uEAA6E,CAC7E,cAAe,CACf,oBAAsB,CACtB,cAAgB,CAChB,qBAAsB,CACtB,aAAc,CACd,cAAe,CACf,eAAgB,CAChB,SAAa,CACb,aACF,CAEA,4DAEE,WAAY,CACZ,UAAW,CACX,eACF,CAMA,yBACE,OAAU,CACV,QACF,CAEA,4BACE,cAAe,CACf,aAAsB,CACtB,WAAY,CACZ,YAAa,CACb,sBAAuB,CACvB,kBAAmB,CACnB,uBACF,CAEA,yBACE,eAAgB,CAChB,kBACF,CAEA,wFAEE,eACF,CAEA,yHAIE,eAAkB,CAClB,mBACF,CAEA,uBACE,SAAa,CACb,cACF,CAEA,uDACE,iBAAkB,CAClB,gBAAiB,CACjB,UAAW,CACX,eACF,CAEA,+EACE,iBACF,CAEA,2EACE,YACF,CAEA,+EACE,aACF,CAEA,6EACE,YACF,CAEA,8DACE,QAAW,CACX,YACF,CAEA,gKAGE,cAAiB,CACjB,eACF,CAEA,gFAEE,eACF,CAEA,kFAEE,gBACF,CAEA,sEACE,YACF,CAEA,kEACE,MAAO,CACP,OAAQ,CACR,oBACF,CAQA,4DAEE,mBAAqB,CAMrB,cAAgB,CALlB,CAUA,oCACE,kBACF,CAEA,sCACE,mBACF,CAEA,wCACE,oBAAqB,CACrB,UACF,CAEA,qBACE,iBAAkB,CAClB,eAAgB,CAChB,YAAa,CACb,kBAAmB,CACnB,mBAAoB,CACpB,oBACF,CAEA,2BACE,kBAAmB,CACnB,qBAAsB,CACtB,gBAAiB,CACjB,kCAAsC,CACtC,eAAgB,CAMhB,cAAgB,CAJlB,CAOA,qHAEE,yBACF,CAEA,8BACE,iBAAkB,CAClB,MAAO,CACP,SAAU,CACV,cAAe,CACf,eAAgB,CAChB,qBAAsB,CACtB,WAAY,CACZ,cAAe,CACf,2BAA4B,CAC5B,aAAc,CACd,kBACF,CAEA,sDACE,UAAY,CACZ,gBAAiB,CACjB,eAAgB,CAChB,kBAAmB,CACnB,oBAAqB,CACrB,yBACF,CAEA,iCACE,iBAAkB,CAClB,mBAAoB,CACpB,cAAiB,CACjB,kBAAmB,CACnB,eAAgB,CAChB,sBACF,CAEA,8BACE,kBAAmB,CACnB,WAAY,CACZ,iBAAkB,CAClB,cACF,CAEA,sDACE,eACF,CAEA,kCACE,WAAY,CACZ,UAAW,CACX,iBAAkB,CAClB,OACF,CAEA,gEACE,WAAY,CACZ,UAAW,CACX,eACF,CAEA,sEACE,mCACF,CAEA,gEACE,wBACF,CAEA,wCACE,SACF,CAEA,+aAQE,YACF,CAEA,2DACE,eAAgB,CAChB,QACF,CAEA,6BACE,eAAgB,CAChB,wBAAyB,CACzB,eAAiB,CACjB,eAAgB,CAChB,eAAgB,CAChB,eACF,CAEA,2DACE,WACF,CAEA,6DACE,YAAe,CACf,WACF,CAMA,eACE,UACF,CAEA,qEACE,YACF,CAEA,sCACE,UACF,CAEA,uEACE,WACF,CAEA,oBACE,UAAW,CACX,WAAY,CACZ,yBAA0B,CAC1B,yBAA0B,CAC1B,oBAAqB,CACrB,2BACF,CAEA,wBACE,WAAY,CACZ,UAAW,CACX,eAAgB,CAChB,cACF,CAEA,oBACE,OACF,CAEA,2CACE,yBACF,CAGA,iEAEE,YACF,CAEA,mFAIE,qBACF,CAMA,oDACE,0BAEY,CACZ,eACF,CAEA,kDACE,eAAgB,CAChB,kBAAmB,CACnB,+BACF,CAMA,qCACE,yCACF,CAEA,wDACE,yBAA2B,CAC3B,qBACF,CAEA,gCAGE,oBACF,CAGA,gCACE,eACF,CAGA,gCACE,kBACF,CAEA,+FACE,aACF,CAIA,oEAEE,YAAa,CACb,kBAAmB,CACnB,UACF,CAEA,uHAEE,0BACF,CAMA,+EAEE,4BACF,CAGA,4NAEE,6BACF,CASA,8EAEE,wBACF,CAGA,sBACE,4BACF,CAEA,8EAEE,oBAAsB,CACtB,MAAO,CACP,WACF,CAGA,wCACE,UAAW,CACX,iBACF,CAEA,8DACE,wBAA0B,CAC1B,aACF,CAEA,kFACE,yBACF,CAEA,uEACE,uBACF,CAEA,8FAGE,YACF,CAEA,kHAGE,aAAc,CACd,UAAW,CACX,WAAY,CACZ,6BAA8B,CAC9B,iBAAkB,CAClB,uBAAwB,CACxB,aACF,CAEA,8FAGE,uBAAwB,CACxB,kBACF,CAEA,2FAGE,UAAW,CACX,kBACF,CAEA,uDACE,qBAA2B,CAC3B,QAAY,CACZ,cAAuB,CACvB,WAAY,CACZ,UAAW,CACX,eAAgB,CAChB,SAAU,CACV,cAAe,CACf,iBACF,CAEA,+EACE,kBACF,CAEA,4DACE,gBACF,CAEA,qKAIE,UAAW,CACX,kBAAmB,CACnB,iBAAkB,CAClB,6BAA8B,CAC9B,iBAAkB,CAClB,SACF,CAEA,gGAGE,kBACF,CAEA,0DACE,UAAW,CACX,WAAY,CACZ,YACF,CAEA,iFACE,iBAAkB,CAClB,MAAS,CACT,KAAQ,CACR,SACF,CAEA,qGAGE,WAAY,CACZ,SAAU,CACV,iBAAkB,CAClB,MAAS,CACT,QAAW,CACX,gCAAiC,CACjC,yBACF,CAGA,8IAIE,UAAW,CACX,OAAQ,CACR,yBACF,CAEA,6HAGE,UACF,CAKA,uCACE,uBACF,CAEA,yDACE,uBACF,CAGA,kDACE,uBACF,CAEA,0DACE,YACF,CAEA,2LAEE,YACF,CAEA,4CACE,kCACF,CAEA,sEACE,sBACF,CAEA,8EACE,WAAY,CACZ,aACF,CAEA,8GAGE,UACF,CAEA,mFACE,YACF,CAGA,gCACE,aACF,CAEA,gEACE,cACF,CAWA,yFAEE,uBACF,CAGA,qDACE,sBACF,CAMA,+BACE,aACF,CAMA,2DACE,6BACF,CAEA,4IACE,eACF,CAMA,+DACE,cACF,CAEA,gCACE,sBAAwB,CACxB,kBAAmB,CACnB,oBACF,CAEA,uDACE,0BACF,CAEA,wCACE,oBAAsB,CACtB,MAAO,CACP,WACF,CAEA,qFACE,YACF,CAEA,mBACE,cACF,CAMA,uCACE,qBACF,CAEA,0BACE,aAAc,CACd,cACF,CAGA,2DACE,iBACF,CAGA,uDACE,iBACF,CAIA,qCACE,cACF,CAEA,uCACE,YACF,CAEA,wCACE,iCAAkC,CAClC,iBAAkB,CAClB,UAAW,CACX,WAAY,CACZ,eAAgB,CAChB,UACF,CAEA,6DACE,oBACF,CAEA,iCACE,YAAa,CACb,kBACF,CAEA,4BACE,cACF,CAEA,qEACE,aAAc,CACd,kBACF,CAcA,gFACE,YACF,CAEA,6DACE,wBACF,CAEA,2DAEE,kBACF,CAEA,yFAEE,wCACF,CAEA,2DACE,+CACF,CAEA,0CACE,gDACF,CAEA,mDACE,oBACF,CAMA,uPACE,aACF,CAEA,wBACE,cAAe,CACf,gBACF,CAEA,0BACE,gBACF,CAEA,yCACE,cACF,CAEA,kCACE,SAAU,CACV,aACF,CAEA,oDACE,iBAAkB,CAClB,KAAQ,CACR,WACF,CAEA,0BACE,iBAAkB,CAClB,MAAS,CACT,kBACF,CAEA,mBACE,SACF,CAEA,mCAEE,UACF,CAEA,+CAEE,yBACF,CAEA,sCACE,kBACF,CAIA,kGAGE,YACF,CAEA,4FAGE,cACF,CAEA,mEAIE,YACF,CAMA,0DAGE,SACF,CAEA,oGAGE,+BACF,CAEA,gEAGE,kCAAqC,CACrC,iBAAkB,CAClB,eAAgB,CAChB,WAAY,CACZ,eAAgB,CAChB,UACF,CAEA,iFAIE,eACF,CAQA,2BAWE,gBAAkB,CATpB,CAEA,8BACE,SAAY,CACZ,eACF,CAOA,sGAGE,iBACF,CAEA,uFACE,aACF,CAMA,kCACE,eAAgB,CAChB,SACF,CAIA,yCACE,WACF,CAEA,0CACE,YAAa,CACb,cAAe,CACf,aACF,CAKA,qGAGE,MAAO,CACP,cACF,CAEA,sIAIE,YAAa,CACb,kBAAmB,CACnB,MACF,CAIA,6DACE,oBAAqB,CACrB,iBAAkB,CAKlB,kBAAoB,CAJtB,CAOA,iEACE,cACF,CAGA,qEACE,eACF,CAEA,gCACE,kBAAmB,CACnB,cAAe,CACf,oBAAqB,CAKrB,YAAa,CACb,kBAAmB,CACnB,UAAY,CANd,CASA,oCACE,qBACF,CAEA,iCACE,eAAgB,CAChB,gBACF,CAEA,gEACE,eAAkB,CAClB,cACF,CAEA,sFAEE,iBACF,CAEA,wCACE,iBACF,CAEA,iCACE,iBAAkB,CAKlB,cAAe,CACf,eACF,CAEA,4DACE,iBACF,CAEA,gEACE,WAAY,CACZ,UACF,CAEA,mFAEE,YAAa,CACb,sBAAuB,CACvB,kBACF,CAEA,0EAEE,YACF,CAEA,oEACE,cAAe,CACf,eACF,CAEA,iEACE,kBACF,CAEA,8BACE,UACF,CAEA,sCACE,eAAgB,CAChB,aAAc,CACd,sBACF,CAEA,8BACE,eAAgB,CAChB,kBACF,CAEA,8BACE,iBACF,CAEA,4BACE,aAAc,CAMd,kBAAoB,CAJtB,CAQA,iCACE,qBACF,CAEA,qCACE,WAAY,CACZ,UAAW,CACX,iBAAkB,CAClB,OAAQ,CACR,eAAgB,CAKhB,aAAe,CAJjB,CAOA,8DAGE,eAAgB,CAChB,sBACF,CAEA,gGAEE,gBACF,CAEA,qCACE,uBACF,CAQA,wBACE,mCAAsC,CACtC,qBAAsB,CACtB,gBAAiB,CACjB,8BAA+B,CAC/B,YAAa,CAEb,sBACF,CAEA,sJACE,SACF,CAEA,wBACE,SAAa,CACb,sBAAuB,CACvB,iBAAkB,CAClB,0BAGF,CAMA,wBACE,UAAW,CACX,cAAe,CACf,eACF,CAEA,wBACE,UAAW,CACX,cAAe,CACf,iBACF,CAIA,mBACE,cAAe,CACf,YAAa,CACb,yCAGF,CAGA,wBACE,iBAAkB,CAClB,UAAW,CACX,eACF,CAEA,4CACE,cAAe,CACf,YAAa,CACb,eAAgB,CAChB,yCAGF,CAEA,4CACE,gBACF,CAEA,qCACE,cACF,CAEA,4CACE,gBAAiB,CACjB,eAAgB,CAChB,eAAgB,CAChB,WACF,CAEA,gDACE,gBAAiB,CACjB,eACF,CAMA,sCACE,eAAgB,CAChB,eAAgB,CAChB,gBACF,CAEA,sCACE,cACF,CAIA,qBACE,cACF,CAMA,yCACE,kBACF,CAEA,oCACE,oBAAqB,CACrB,SACF,CAUA,6CACE,aAAc,CACd,kBACF,CAEA,uCACE,oBAAqB,CACrB,SACF,CAEA,sCACE,eACF,CAEA,uCACE,SAAU,CACV,kBACF,CAEA,iDACE,WAAY,CACZ,UAAW,CACX,qBAAsB,CACtB,iBAAkB,CAClB,iBACF,CAMA,wEACE,YAAa,CACb,sBAAuB,CACvB,kBACF,CAEA,iCACE,cAAe,CACf,eACF,CAEA,sCAIE,iBAAkB,CAClB,QAAS,CACT,WAAY,CACZ,UACF,CAGA,8CACE,eACF,CAMA,qBACE,gBACF,CAEA,0CACE,gBACF,CAEA,iDACE,cACF,CAEA,4CACE,gBAAiB,CACjB,iBACF,CAEA,uBACE,aAAc,CACd,oBAAqB,CACrB,gBACF,CAEA,mDACE,gBACF,CAEA,6BACE,yBAA0B,CAC1B,UACF,CAEA,mDACE,UACF,CAEA,yDACE,UACF,CAEA,6BACE,SAAa,CACb,eAAgB,CAChB,mBACF,CAEA,gHACE,YACF,CAMA,oDACE,SAAY,CACZ,mBAAoB,CACpB,iBAAkB,CAClB,0BAGF,CAEA,wEACE,oBAAqB,CACrB,yBAA0B,CAC1B,cACF,CAcA,+BACE,YAAa,CACb,gBAAiB,CACjB,mBAAoB,CACpB,4BAA6B,CAC7B,wBACF,CAEA,sCACE,YACF,CAGA,sCACE,cACF,CAGA,sEAEE,cACF,CAEA,uEACE,cACF,CAEA,mEACE,iBAAkB,CAClB,kBAAmB,CACnB,aACF,CAEA,uEACE,WAAY,CACZ,UAAW,CACX,iBACF,CAEA,sEACE,UAAW,CACX,WACF,CAEA,qEACE,cACF,CAEA,kDACE,iBAAkB,CAGlB,SAAU,CAWV,kBAAmB,CACnB,YAAa,CACb,0BAA6B,CAC7B,0BAA2B,CAC3B,aAAc,CACd,SAAY,CACZ,IAAM,CAhBR,CAEA,2GACE,iBAAkB,CAClB,oBAAsB,CACtB,cACF,CAaA,yHACE,sBACF,CAEA,4HAEE,YACF,CAEA,4DACE,iBACF,CAEA,oDACE,UACF,CAEA,gEACE,kBACF,CAUA,+CACE,kCACF,CAEA,6DACE,UACF,CAEA,qEACE,8BACF,CAKA,kCACE,qBAAsB,CACtB,8BACF,CAEA,+BACE,sBACF,CAKA,yCACE,iBAAkB,CAClB,UAAW,CACX,MAAO,CACP,cAAe,CACf,qBACF,CAGA,wDACE,aACF,CAEA,+BACE,UAAW,CACX,eAAgB,CAChB,gBAAiB,CACjB,8BAA+B,CAC/B,0BAEY,CACZ,eAAgB,CAChB,iBAAkB,CAClB,qBAAsB,CACtB,mCACF,CASA,kDACE,UACF,CAGA,qGAEE,YACF,CAEA,yCACE,yBAA2B,CAC3B,qBACF",sourcesContent:[".inboxsdk__notransition {\n  transition: none !important;\n}\n\n.inboxsdk__close_button {\n  height: 24px;\n  width: 24px;\n  opacity: 0.7;\n  position: relative;\n  background: none;\n  border: none;\n  padding: 0;\n  box-sizing: content-box;\n  outline: none;\n  cursor: pointer;\n}\n\n.inboxsdk__close_button:focus,\n.inboxsdk__close_button:hover {\n  opacity: 1;\n}\n\n.inboxsdk__close_button:focus::before {\n  background-color: rgb(0 0 0 / 12%);\n}\n\n.inboxsdk__close_button::before {\n  border-radius: 50%;\n  position: absolute;\n  inset: -4px -4px -4px -4px;\n  padding: 4px;\n  content: ' ';\n}\n\n.inboxsdk__close_button::after {\n  content: ' ';\n  background: url(https://www.gstatic.com/images/icons/material/system/1x/close_black_24dp.png);\n  position: absolute;\n  height: 24px;\n  width: 24px;\n  top: 0;\n  left: 0;\n}\n\n@media (min-resolution: 192dpi) {\n  .inboxsdk__close_button::after {\n    background: url(https://www.gstatic.com/images/icons/material/system/2x/close_black_24dp.png);\n    background-size: contain;\n  }\n}\n\n:local(.app_sidebar_waiting_platform) {\n  display: none;\n}\n\n/* drawer */\n\n.inboxsdk__drawer_view_container {\n  visibility: visible;\n  direction: initial;\n  position: fixed;\n  height: 100vh;\n  width: 100vw;\n  bottom: 0;\n  left: 0;\n  z-index: 51;\n  pointer-events: none;\n}\n\n.inboxsdk__drawer_view {\n  position: absolute;\n  pointer-events: auto;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  width: 452px;\n  font:\n    normal normal normal normal 13px / normal 'Helvetica Neue',\n    Helvetica,\n    Arial,\n    sans-serif;\n  display: flex;\n  flex-direction: column;\n  background-color: #fff;\n  outline: none;\n  box-shadow:\n    0 0 8px rgb(0 0 0 / 18%),\n    0 8px 16px rgb(0 0 0 / 36%);\n  transform: translateX(100%);\n  transition: transform 150ms cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n.inboxsdk__drawer_view.inboxsdk__match_sidebar_content_panel_width {\n  width: 300px;\n}\n\n.inboxsdk__drawer_view.inboxsdk__active {\n  transform: none;\n}\n\n.inboxsdk__drawer_title_bar {\n  background-color: #f5f5f5;\n  border-bottom: 1px solid #e0e0e0;\n  padding: 16px 20px;\n  white-space: nowrap;\n  display: flex;\n  flex: 0 0 auto;\n}\n\n.inboxsdk__drawer_title_bar .inboxsdk__close_button {\n  margin-right: 20px;\n  flex-shrink: 0;\n}\n\n.inboxsdk__drawer_title {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font:\n    normal normal normal normal 20px / 24px 'Helvetica Neue',\n    Helvetica,\n    Arial,\n    sans-serif;\n}\n\n/* backdrop */\n\n.inboxsdk__inbox_backdrop {\n  visibility: visible;\n  position: fixed;\n  height: 100vh;\n  width: 100vw;\n  bottom: 0;\n  left: 0;\n  z-index: 50;\n  background-color: transparent;\n  transition: background-color 150ms cubic-bezier(0.4, 0, 1, 1);\n}\n\n.inboxsdk__inbox_backdrop.inboxsdk__active {\n  background-color: rgb(10 10 10 / 60%);\n  transition: background-color 70ms cubic-bezier(0, 0, 0.2, 1);\n}\n\n.inboxsdk__inbox_backdrop ~ .inboxsdk__inbox_backdrop {\n  opacity: 0.6;\n}\n\n/* sidebar */\n\n:local(.app_sidebar_main) {\n  display: flex;\n  flex-direction: column;\n}\n\n:local(.app_sidebar) > .inboxsdk__close_button {\n  position: absolute;\n  bottom: 10px;\n  right: 20px;\n}\n\n:local(.app_sidebar_content_area) {\n  width: 216px;\n}\n\n:local(.app_sidebar_content_panel) {\n  overflow: hidden;\n  font:\n    12px Arial,\n    sans-serif;\n  max-height: 100%;\n  box-sizing: border-box;\n}\n\n:local(.app_sidebar_content_panel_top_line) {\n  white-space: nowrap;\n  display: flex;\n  user-select: none;\n  cursor: default;\n}\n\n:local(.app_sidebar_content_panel):not(:local(.expanded))\n  :local(.app_sidebar_content_panel_top_line) {\n  border-bottom: 1px solid #ddd;\n}\n\n:local(.app_sidebar_content_panel):local(.showControls)\n  :local(.app_sidebar_content_panel_top_line):hover,\n:local(.app_sidebar_content_panel):local(.dragged)\n  :local(.app_sidebar_content_panel_top_line) {\n  background: rgb(0 0 0 / 3%);\n}\n\n:local(.app_sidebar_content_panel_title) {\n  min-width: 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n:local(.app_sidebar_content_panel):local(.showControls)\n  :local(.app_sidebar_content_panel_title) {\n  cursor: move;\n}\n\n:local(.app_sidebar_content_panel_title_text) {\n  padding-left: 6px;\n  vertical-align: middle;\n  font:\n    bold 13px / 40px 'Helvetica Neue',\n    Helvetica,\n    Arial,\n    sans-serif;\n  color: rgb(0 0 0 / 87%);\n}\n\n:local(.app_sidebar):local(.hideTitleBar)\n  :local(.app_sidebar_content_panel_top_line) {\n  display: none;\n}\n\n:local(.app_sidebar_content_panel):local(.showControls)\n  :local(.app_sidebar_content_panel_top_line):hover\n  :local(.app_sidebar_content_panel_grip) {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 10px;\n  height: 40px;\n  background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI2cHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDYgMTIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Q29tYmluZWQgU2hhcGU8L3RpdGxlPiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4gICAgPGRlZnM+PC9kZWZzPiAgICA8ZyBpZD0iRkluYWxzLSoqSmFuLTkqKiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+ICAgICAgICA8ZyBpZD0iU2lkZWJhci1jbG9zZWQtQ29weSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIC0xNC4wMDAwMDApIiBmaWxsPSIjQUFBQUFBIj4gICAgICAgICAgICA8ZyBpZD0iU2lkZWJhciIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEwLjAwMDAwMCwgMC4wMDAwMDApIj4gICAgICAgICAgICAgICAgPGcgaWQ9IkJveC1pbmZvLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwLjAwMDAwMCwgMC4wMDAwMDApIj4gICAgICAgICAgICAgICAgICAgIDxnIGlkPSJHcmlwcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAxNC41MDAwMDApIj4gICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMC42NjY2NjY2NjcsNS40MTY2NjY2NyBDMC42NjY2NjY2NjcsNC44NjQzODE5MiAxLjExMDUzMTQ5LDQuNDE2NjY2NjcgMS42NjY2NjY2Nyw0LjQxNjY2NjY3IEMyLjIxODk1MTQyLDQuNDE2NjY2NjcgMi42NjY2NjY2Nyw0Ljg2MDUzMTQ5IDIuNjY2NjY2NjcsNS40MTY2NjY2NyBDMi42NjY2NjY2Nyw1Ljk2ODk1MTQyIDIuMjIyODAxODQsNi40MTY2NjY2NyAxLjY2NjY2NjY3LDYuNDE2NjY2NjcgQzEuMTE0MzgxOTIsNi40MTY2NjY2NyAwLjY2NjY2NjY2Nyw1Ljk3MjgwMTg0IDAuNjY2NjY2NjY3LDUuNDE2NjY2NjcgWiBNMC42NjY2NjY2NjcsMS4yNSBDMC42NjY2NjY2NjcsMC42OTc3MTUyNSAxLjExMDUzMTQ5LDAuMjUgMS42NjY2NjY2NywwLjI1IEMyLjIxODk1MTQyLDAuMjUgMi42NjY2NjY2NywwLjY5Mzg2NDgyMiAyLjY2NjY2NjY3LDEuMjUgQzIuNjY2NjY2NjcsMS44MDIyODQ3NSAyLjIyMjgwMTg0LDIuMjUgMS42NjY2NjY2NywyLjI1IEMxLjExNDM4MTkyLDIuMjUgMC42NjY2NjY2NjcsMS44MDYxMzUxOCAwLjY2NjY2NjY2NywxLjI1IFogTTAuNjY2NjY2NjY3LDkuNTgzMzMzMzMgQzAuNjY2NjY2NjY3LDkuMDMxMDQ4NTggMS4xMTA1MzE0OSw4LjU4MzMzMzMzIDEuNjY2NjY2NjcsOC41ODMzMzMzMyBDMi4yMTg5NTE0Miw4LjU4MzMzMzMzIDIuNjY2NjY2NjcsOS4wMjcxOTgxNiAyLjY2NjY2NjY3LDkuNTgzMzMzMzMgQzIuNjY2NjY2NjcsMTAuMTM1NjE4MSAyLjIyMjgwMTg0LDEwLjU4MzMzMzMgMS42NjY2NjY2NywxMC41ODMzMzMzIEMxLjExNDM4MTkyLDEwLjU4MzMzMzMgMC42NjY2NjY2NjcsMTAuMTM5NDY4NSAwLjY2NjY2NjY2Nyw5LjU4MzMzMzMzIFogTTMuMzAwMDAwMTksMS4yNSBDMy4zMDAwMDAxOSwwLjY5NzcxNTI1IDMuNzQzODY1MDEsMC4yNSA0LjMwMDAwMDE5LDAuMjUgQzQuODUyMjg0OTQsMC4yNSA1LjMwMDAwMDE5LDAuNjkzODY0ODIyIDUuMzAwMDAwMTksMS4yNSBDNS4zMDAwMDAxOSwxLjgwMjI4NDc1IDQuODU2MTM1MzcsMi4yNSA0LjMwMDAwMDE5LDIuMjUgQzMuNzQ3NzE1NDQsMi4yNSAzLjMwMDAwMDE5LDEuODA2MTM1MTggMy4zMDAwMDAxOSwxLjI1IFogTTMuMzAwMDAwMTksNS40MTY2NjY2NyBDMy4zMDAwMDAxOSw0Ljg2NDM4MTkyIDMuNzQzODY1MDEsNC40MTY2NjY2NyA0LjMwMDAwMDE5LDQuNDE2NjY2NjcgQzQuODUyMjg0OTQsNC40MTY2NjY2NyA1LjMwMDAwMDE5LDQuODYwNTMxNDkgNS4zMDAwMDAxOSw1LjQxNjY2NjY3IEM1LjMwMDAwMDE5LDUuOTY4OTUxNDIgNC44NTYxMzUzNyw2LjQxNjY2NjY3IDQuMzAwMDAwMTksNi40MTY2NjY2NyBDMy43NDc3MTU0NCw2LjQxNjY2NjY3IDMuMzAwMDAwMTksNS45NzI4MDE4NCAzLjMwMDAwMDE5LDUuNDE2NjY2NjcgWiBNMy4zMDAwMDAxOSw5LjU4MzMzMzMzIEMzLjMwMDAwMDE5LDkuMDMxMDQ4NTggMy43NDM4NjUwMSw4LjU4MzMzMzMzIDQuMzAwMDAwMTksOC41ODMzMzMzMyBDNC44NTIyODQ5NCw4LjU4MzMzMzMzIDUuMzAwMDAwMTksOS4wMjcxOTgxNiA1LjMwMDAwMDE5LDkuNTgzMzMzMzMgQzUuMzAwMDAwMTksMTAuMTM1NjE4MSA0Ljg1NjEzNTM3LDEwLjU4MzMzMzMgNC4zMDAwMDAxOSwxMC41ODMzMzMzIEMzLjc0NzcxNTQ0LDEwLjU4MzMzMzMgMy4zMDAwMDAxOSwxMC4xMzk0Njg1IDMuMzAwMDAwMTksOS41ODMzMzMzMyBaIiBpZD0iQ29tYmluZWQtU2hhcGUiPjwvcGF0aD4gICAgICAgICAgICAgICAgICAgIDwvZz4gICAgICAgICAgICAgICAgPC9nPiAgICAgICAgICAgIDwvZz4gICAgICAgIDwvZz4gICAgPC9nPjwvc3ZnPg==)\n    50% center no-repeat;\n}\n\n:local(.app_sidebar_content_panel_title_icon_container) {\n  width: 20px;\n  height: 20px;\n  vertical-align: middle;\n  margin-left: 6px;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: -1px;\n}\n\n:local(.app_sidebar_content_panel_title_icon),\n:local(.app_sidebar_content_panel_title_icon) > img {\n  width: 13px;\n  height: 13px;\n}\n\n:local(.app_sidebar_content_panel_toggle) {\n  flex: 1;\n  text-align: right;\n  visibility: hidden;\n}\n\n:local(.app_sidebar_content_panel):local(.showControls)\n  :local(.app_sidebar_content_panel_toggle) {\n  visibility: visible;\n  cursor: pointer;\n}\n\n:local(.app_sidebar_content_panel_toggle_button) {\n  margin-top: 12px;\n  margin-right: 4px;\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAQAAABIkb+zAAAA30lEQVR4Ae3RO04EMRgE4Q45hlkuxWMPCwdBLNxjZQJPNBkq4U7qm9x/lyb6A0mSJEmSJEmS9NB/iXjKV57DJdd8ZmSzS34yc+cJueaemVvG/vnzSODz596ES77XUZxwzN+b8HjM5wlva/7uhI91DCes+efvPf9u5AYSTvMbfwAm9OfzhNf2fJbQn48S+vNRQn8+SujPRwn9+SjhpT+fJPTno4T+fJTQnw8T+PxyAp/fT+Dz+wl8fj+Bz28n8PnVBD6/msDnVxP4/GoCn99MYPP7xmm+JEmSJEmSJEmSfgG9E96X0mx7vAAAAABJRU5ErkJggg==)\n    center / 20px no-repeat;\n  border: none;\n  width: 14px;\n  height: 14px;\n  transform: rotate(-90deg);\n  transition:\n    -webkit-transform 0.15s,\n    transform 0.15s;\n  outline: none;\n  opacity: 0.6;\n  cursor: pointer;\n}\n\n:local(.app_sidebar_content_panel_top_line):hover\n  :local(.app_sidebar_content_panel_toggle_button),\n:local(.app_sidebar_content_panel):local(.dragged)\n  :local(.app_sidebar_content_panel_top_line)\n  :local(.app_sidebar_content_panel_toggle_button) {\n  opacity: 0.9;\n}\n\n:local(.app_sidebar_content_panel):local(.expanded)\n  :local(.app_sidebar_content_panel_toggle_button) {\n  transform: rotate(0);\n}\n\n:local(.app_sidebar_content_panel_content) {\n  margin-bottom: 25px;\n}\n\n:local(.sidebar_iconArea) :local(.sidebar_button_container) {\n  position: relative;\n}\n\n:local(.sidebar_iconArea) .inboxsdk__button_icon:focus,\n:local(.sidebar_iconArea) .inboxsdk__button_icon:hover {\n  outline: none;\n}\n\n/* end sidebar */\n\n/* shared parts of app id warning */\n\n.inboxsdk__appid_warning {\n  margin: 0;\n  padding: 9px;\n  color: #4b4b4b;\n  background: #ff6c6c;\n  font-size: 10pt;\n}\n\n.inboxsdk__appid_warning_main {\n  display: inline-block;\n  vertical-align: middle;\n}\n\n.inboxsdk__appid_warning .topline {\n  font-weight: bold;\n  font-size: 11pt;\n}\n\na.inboxsdk__appid_register {\n  color: white;\n  display: inline-block;\n  background: #1989ff;\n  border-radius: 3px;\n  text-decoration: none;\n  box-shadow: 0 0 5px rgb(0 0 0 / 30%);\n  padding: 7px;\n  font-size: 10pt;\n  vertical-align: middle;\n  margin-left: 1em;\n}\n\n.inboxsdk__thread_row_icon_wrapper {\n  display: inline-block;\n}\n\n.inboxsdk__thread_row_icon_wrapper .inboxsdk__button_iconImg {\n  margin-top: 0px;\n}\n\n:local(.thread_noticeBar) {\n  background: #f8ebc0;\n  margin-bottom: 10px;\n  padding: 12px 4px 6px 12px;\n}\n\n/* suggestions */\n\n.inboxsdk__suggestions_separator_before {\n  padding-bottom: 2px !important;\n}\n\n.inboxsdk__suggestions_separator_after {\n  border-top: 1px solid #e5e5e5;\n  padding-top: 2px !important;\n}\n\n/* buttons */\n\ndiv.T-I.inboxsdk__button {\n  user-select: none;\n  min-width: 27px;\n}\n\n/* subject line buttons */\ndiv.bHJ .inboxsdk__button {\n  margin: 0 2px 0 10px;\n}\n\n.inboxsdk__no_bg {\n  background: none;\n}\n\n.inboxsdk__button.inboxsdk__button_disabled {\n  opacity: 0.55;\n}\n\n.inboxsdk__button_icon + .inboxsdk__button_text {\n  margin-left: 5px;\n}\n\n.inboxsdk__button_icon {\n  display: inline-block;\n}\n\n.inboxsdk__button_iconImg {\n  height: 20px;\n  width: 20px;\n  vertical-align: middle;\n  margin-top: -2px;\n  /* stylelint-disable-next-line property-no-unknown */\n  user-drag: none;\n  user-select: none;\n  -webkit-user-drag: none;\n}\n\n.inboxsdk__button_green_inactive {\n  box-shadow: 0 1px 0 rgb(0 0 0 / 5%);\n  background-color: #53a93f;\n  /* stylelint-disable-next-line value-no-vendor-prefix */\n  background-image: -webkit-linear-gradient(top, transparent, transparent);\n  /* stylelint-disable-next-line function-linear-gradient-no-nonstandard-direction */\n  background-image: linear-gradient(top, transparent, transparent);\n  border: 1px solid transparent;\n  color: #fff;\n  text-shadow: none;\n}\n\n.inboxsdk__button_green_hover {\n  box-shadow: inset 0 -1px 0 #4c8534;\n  background-color: #65b045;\n  /* stylelint-disable-next-line value-no-vendor-prefix */\n  background-image: -webkit-linear-gradient(top, transparent, transparent);\n  /* stylelint-disable-next-line function-linear-gradient-no-nonstandard-direction */\n  background-image: linear-gradient(top, transparent, transparent);\n  border: 1px solid transparent;\n  border-bottom: 1px solid #4c8534;\n  text-shadow: none;\n}\n\n.inboxsdk__button_green_active {\n  box-shadow: inset 0 1px 0 #2f6124;\n  background: #3e802f;\n  border: 1px solid transparent;\n  border-top: 1px solid #2f6124;\n  color: #fff;\n  text-shadow: none;\n}\n\n/* For the outline style button (ams). We need to counteract a few of gmail's styles */\n.ams.inboxsdk__button::before {\n  width: 0;\n  margin: 0;\n}\n\n.ams.inboxsdk__button:focus {\n  background: rgb(0 0 0 / 0%);\n}\n\n.ams.inboxsdk__button .asa:not(.bjy)::after {\n  width: auto;\n  height: auto;\n}\n\n.inboxsdk__menu {\n  min-width: 1em;\n  min-height: 1em;\n  padding: 0px;\n  overflow: visible;\n  max-height: none;\n\n  /* Copied from Gmail's .J-M class */\n  z-index: 7;\n  cursor: default;\n  font-size: 13px;\n  margin: 0;\n  outline: none;\n}\n\n.inboxsdk__menu > .inboxsdk__menuContent {\n  padding: 0;\n  box-shadow:\n    0 8px 10px 1px rgb(0 0 0 / 14%),\n    0 3px 14px 2px rgb(0 0 0 / 12%),\n    0 5px 5px -3px rgb(0 0 0 / 20%);\n  transition: opacity 0.218s;\n  border: 1px solid rgb(0 0 0 / 20%);\n  background: #fff;\n  outline: none;\n}\n\n.f4.J-N-JX.inboxsdk__message_more_icon {\n  height: 16px;\n  margin-top: 1px;\n  width: 16px;\n}\n\n/* end */\n\n/* compose buttons */\n\n/* mimic button styling */\n.inboxsdk__composeButton,\n.inboxsdk__compose_sendButton {\n  height: 20px;\n  width: 20px;\n  padding: 4px;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  vertical-align: middle;\n  outline: none;\n  position: relative;\n}\n\n.inboxsdk__composeButton + .inboxsdk__composeButton {\n  margin-left: 4px;\n}\n\n.inboxsdk__composeButton .inboxsdk__button_icon {\n  opacity: 0.55;\n}\n\n.inboxsdk__composeButton:hover .inboxsdk__button_icon,\n.inboxsdk__composeButton:focus .inboxsdk__button_icon,\n.inboxsdk__composeButton.inboxsdk__composeButton_active .inboxsdk__button_icon {\n  opacity: 1;\n}\n\n.inboxsdk__composeButton::before {\n  content: '';\n  display: block;\n  opacity: 0;\n  position: absolute;\n  transition-duration: 0.15s;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  inset: 0px 0px 0px 0px;\n  background: none;\n  box-sizing: border-box;\n  transform: scale(0);\n  transition-property: transform, opacity;\n  border-radius: 4px;\n}\n\n.inboxsdk__composeButton:hover::before {\n  background-color: rgb(32 33 36 / 5.9%);\n  border: none;\n  box-shadow: none;\n  opacity: 1;\n  transform: scale(1);\n}\n\n.inboxsdk__composeButton:focus::before,\n.inboxsdk__composeButton.inboxsdk__composeButton_active::before {\n  background-color: rgb(32 33 36 / 12.2%);\n  border: none;\n  box-shadow: none;\n  opacity: 1;\n  transform: scale(1);\n}\n\n.inboxsdk__compose_actionToolbar\n  .inboxsdk__compose_groupedActionToolbar\n  div.inboxsdk__composeButton:last-child {\n  margin-right: 0px;\n}\n\n.inboxsdk__compose_sendButton {\n  background-color: #1a73e8;\n  color: white;\n  height: 24px;\n  width: auto;\n  padding-left: 3px;\n  padding-right: 3px;\n  border-radius: 4px;\n}\n\n/* stylelint-disable-next-line no-duplicate-selectors */\n.inboxsdk__compose_sendButton {\n  padding: 6px 4px;\n  margin-left: 2px;\n}\n\n.inboxsdk__compose_inlineReply .inboxsdk__compose_sendButton {\n  height: 20px;\n}\n\n/* stylelint-disable-next-line no-duplicate-selectors */\n.inboxsdk__compose_inlineReply .inboxsdk__compose_sendButton {\n  height: 24px;\n}\n\n.inboxsdk__compose_sendButton:focus,\n.inboxsdk__compose_sendButton.inboxsdk__composeButton_active {\n  background-color: #5094ed;\n  box-shadow:\n    0 1px 1px 0 rgb(66 133 244 / 30%),\n    0 1px 3px 1px rgb(66 133 244 / 15%);\n  border: none;\n}\n\n.T-I ~ .inboxsdk__compose_sendButton {\n  margin-left: -6px;\n}\n\n.inboxsdk__compose_actionToolbar {\n  white-space: nowrap;\n}\n\n/* stylelint-disable-next-line no-duplicate-selectors */\n.inboxsdk__compose_actionToolbar {\n  padding-left: 6px;\n}\n\n.inboxsdk__compose_actionToolbar .inboxsdk__button_icon {\n  height: 20px;\n  width: 20px;\n  display: inline-flex;\n  user-select: none;\n}\n\n.inboxsdk__compose_actionToolbar .inboxsdk__button_iconImg {\n  height: 17px;\n  width: 17px;\n  display: inline-flex;\n  margin: auto;\n}\n\n.inboxsdk__compose_actionToolbar + .gU:not(.inboxsdk__compose_separator) {\n  padding-left: 8px;\n}\n\n/* grouped action toolbar */\n.inboxsdk__compose_groupedActionToolbar_visible .aDg .aDh {\n  overflow-y: visible;\n}\n\n.inboxsdk__compose_groupedActionToolbar {\n  position: absolute;\n  bottom: 44px;\n  margin: 3px;\n  z-index: 10;\n  left: 0px;\n  border-radius: 2px;\n  box-shadow:\n    0 4px 5px 0 rgb(0 0 0 / 14%),\n    0 1px 10px 0 rgb(0 0 0 / 12%),\n    0 2px 4px -1px rgb(0 0 0 / 20%);\n  padding: 5px 15px;\n}\n\n/* stylelint-disable-next-line no-duplicate-selectors */\n.inboxsdk__compose_groupedActionToolbar {\n  margin-bottom: 7px;\n  padding: 4px 5px;\n  background: white;\n  left: -3px;\n}\n\n.inboxsdk__compose_inlineReply .inboxsdk__compose_groupedActionToolbar {\n  left: 14px;\n}\n\n.inboxsdk__compose_groupedActionToolbar .inboxsdk__composeButton:first-child {\n  margin-left: 0px;\n  margin-right: 0px;\n}\n\n.inboxsdk__composeButton.inboxsdk__compose_groupedActionButton {\n  margin-right: 0px;\n}\n\n.inboxsdk__compose_groupedActionToolbar .inboxsdk__composeButton {\n  padding: 4px;\n}\n\n/*\nthere's an element that gets a height of 40px when the gmail formatting toolbar\nis visible. This rule makes that same element get the 40px height when\nthe actionToolbar is visible\n*/\n.inboxsdk__compose_groupedActionToolbar_visible .bA3 {\n  height: 40px;\n}\n\n.inboxsdk__compose_groupedActionToolbar div.inboxsdk__button {\n  z-index: 1;\n}\n\n/* stylelint-disable-next-line no-duplicate-selectors */\n.inboxsdk__compose_groupedActionToolbar div.inboxsdk__button {\n  margin-right: 0px;\n}\n\n.inboxsdk__compose_groupedActionToolbar_arrow {\n  display: none;\n}\n\n/* end grouped action toolbar */\n\n.inboxsdk__compose_customSendContainer {\n  display: inline-block;\n  position: relative;\n  outline: 0;\n  height: 29px;\n  margin: 6px 0;\n  padding: 0;\n  line-height: 29px;\n  vertical-align: middle;\n}\n\n/* stylelint-disable-next-line no-duplicate-selectors */\n.inboxsdk__compose_customSendContainer {\n  height: 36px;\n  line-height: 36px;\n}\n\n.inboxsdk__compose_customTitleBarColor > img.Hl,\n.inboxsdk__compose_customTitleBarColor > img.Hq,\n.inboxsdk__compose_customTitleBarColor > img.Ha {\n  background-color: transparent !important;\n}\n\n.inboxsdk__compose_hasCustomTitleBarText,\n.inboxsdk__compose_hasCustomTitleBarText > tbody > tr {\n  display: flex;\n}\n\n.inboxsdk__compose_hasCustomTitleBarText > tbody > tr {\n  align-items: center;\n}\n\n.inboxsdk__compose_hasCustomTitleBarText > tbody {\n  width: 100%;\n}\n\n.inboxsdk__compose_nativeTitleBarText {\n  display: none !important;\n}\n\n.inboxsdk__compose_customTitleBarText {\n  width: calc(100% - 80px);\n}\n\n.inboxsdk__compose_hasCustomTitleBarText td.Hm {\n  margin-right: 10px;\n  margin-left: auto;\n}\n\n.inboxsdk__compose_statusBarPrependContainer {\n  border-top: 1px solid #cfcfcf;\n}\n\n.inboxsdk__compose_statusBarPrependContainer + table td.gU {\n  border-top: none;\n}\n\n/* end */\n\n/* appid warning gmail specific parts */\n\ninput.inboxsdk__x_close_button {\n  background-color: transparent;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA/dpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ1dWlkOjY1RTYzOTA2ODZDRjExREJBNkUyRDg4N0NFQUNCNDA3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjAzMjIxMUU0REM1MTExRTI5RkE1ODlERTgyOTkyMjMyIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjc1QzhERjZDREM1MDExRTI5RkE1ODlERTgyOTkyMjMyIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIElsbHVzdHJhdG9yIENDIChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzliZDBjZTYtYWVjMy00NWZkLThkOTktMzJhOTNhMTkxZGM3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmQ4ZGVjMWJhLTk5NGEtNGViMC04NzE4LTdhMGJkN2FlOGY4OCIvPiA8ZGM6dGl0bGU+IDxyZGY6QWx0PiA8cmRmOmxpIHhtbDpsYW5nPSJ4LWRlZmF1bHQiPmdseXBoaWNvbnM8L3JkZjpsaT4gPC9yZGY6QWx0PiA8L2RjOnRpdGxlPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pvfrd2cAAANXSURBVHja5JrPaxNBFMe72wj1lFM8pNUcelLaQFLJRYptDgVBBe9F/BdyzV8h6bWQq0iKQQWhl1psL14VPPQUtErbS3owpIhdv6Mvsl1m3rz9FZv1wZeBdHbmfTozb2fejuN53lSS5jhOCcVNSJUFaJr+9BM6gXrQJ/TbS7LfXAKO51E8gB5Cd6FrwueOUexCL6FXADuN5YgakSiClaE2NFDNxNSA2ipH9icCwDy0BZ0nABDUObU9nxoITcMmNEwBIKgh9ZVLFARWhPbHABCU6rOYCAhsCfr2DyBGUn0v2fx0uPCLyLKK4gWUF8aOr9Ab+k9+hD7TNFE2A81Bi9Ad6B6NtMRURHsEX3dCRy0aib5wgXahOuSGWHMuPdMVBo4+NzLcmpBMp3dQJWrI9PVXgfaE06woAqHoZFvYZ1BDzb64EL5+HWrzTBAAchKQpmCIl5MC0PS/LJjSTRaEXnZDC8RCWhA+PxYsMMPgSzPYwJZlOi0za6oFVUM4W4WeGuf8n5HhpllHC0J7Jy56NAwdzkIHvhGrCSBqvv+4enbWUK9hiZZlHUjbEp0cC4QngQlAeBwMBQAumrUvgNALb8CQV4QQLIwBwgZTYWaK8jnvB1lnqLuGNXEgiG41IYQfpqjpr8s8s+4Hec5UrGsabgn3SX0CqAl3CUobmv7qTP1nfpAjQ6VD3baDIk4/BEyYurcN25lDwzNHo/1iiWl4M+SijSNbkNhkni25lCgw2T6z2XyPYo12pnFNtbFGbYb2RTG4NCIm+2A57ycBI4Gw+fJ7RApMhS+C5EUcGCmEzZeCArnCVBgKMzFRYMJA2HyZdullY/RxajLMdSkDaLKrwmSbimDbIY7Eo93ENj0rsRnmbz9cSmOabC4liCgwnC8nLuViTbaYIkRYGM6XXmZeiJdxi1KNskVxaWjeGoZM7XJXNL8/Fk6nUwrL0tCs2nyi+X2FyYHt/M1rZWkbP6kHq+8XDlaCo+7eRBx1M5V8iJkOUjAbukORJR3USjwdlKkEXWZSpplKYmfms8KkfugZ16c3j84212khj+/T26R9DP1/Pk9n6sKA5qXZSfEKRyfVKxyX/VKNE/e+lu+a031oVXrNCXZMh6LXSVxzclK4eHYDxa1xXzz7JcAA2eNXdJTLzjAAAAAASUVORK5CYII=);\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center center;\n  height: 20px;\n  width: 20px;\n  border: none;\n  vertical-align: middle;\n  cursor: pointer;\n\n  float: right;\n  margin: 5px;\n}\n\n/* thread rows */\n\n.inboxsdk__gmail_label.inboxsdk__label_has_icon .au {\n  display: inline-block;\n  margin-left: 14px;\n}\n\n.inboxsdk__thread_row_label .inboxsdk__button_icon,\n.inboxsdk__thread_row_label .inboxsdk__button_iconImg {\n  height: 11px;\n  width: 11px;\n}\n\n.inboxsdk__thread_row_label .inboxsdk__button_icon {\n  display: inline-block;\n  margin-top: 3px;\n  margin-left: 4px;\n  position: absolute;\n}\n\n.inboxsdk__thread_row_button {\n  outline: 0;\n  height: 20px;\n  width: 20px;\n  padding: 0px;\n}\n\n.inboxsdk__thread_row_button .inboxsdk__button_icon {\n  max-height: 100%;\n}\n\n.inboxsdk__thread_row_custom_date_container {\n  max-width: inherit;\n}\n\n.inboxsdk__thread_row_button .inboxsdk__button_iconImg {\n  height: 20px;\n  width: 20px;\n  margin-top: 0px;\n}\n\n.inboxsdk__gmail_action {\n  float: right;\n  position: relative;\n  background-color: grey;\n  margin-left: 1em;\n  cursor: default;\n  padding: 0 6px;\n  /* stylelint-disable-next-line value-no-vendor-prefix */\n  background-image: -webkit-linear-gradient(top, #e9e9e9, #e6e6e6);\n  /* stylelint-disable-next-line function-linear-gradient-no-nonstandard-direction */\n  background-image: linear-gradient(top, #e9e9e9, #e6e6e6);\n  border: 1px solid rgb(0 0 0 / 10%);\n  border-color: #ccc;\n  color: #444;\n  height: 17px;\n  line-height: 17px;\n  min-width: 56px;\n  border-radius: 2px;\n  font-size: 11px;\n  font-weight: bold;\n  text-align: center;\n  white-space: nowrap;\n  padding-right: 18px;\n}\n\n.inboxsdk__gmail_action:focus {\n  border: 1px solid #4d90fe;\n  outline: none;\n}\n\n.inboxsdk__gmail_action:active {\n  box-shadow: inset 0 1px 2px rgb(0 0 0 / 10%);\n}\n\n.inboxsdk__gmail_action:hover {\n  box-shadow: 0 1px 1px rgb(0 0 0 / 5%);\n  background-color: #ededed;\n  /* stylelint-disable-next-line value-no-vendor-prefix */\n  background-image: -webkit-linear-gradient(top, #ededed, #eaeaea);\n  /* stylelint-disable-next-line function-linear-gradient-no-nonstandard-direction */\n  background-image: linear-gradient(top, #ededed, #eaeaea);\n  border-color: #b8b8b8;\n}\n\n.inboxsdk__gmail_action::after {\n  content: '';\n  position: absolute;\n  right: 5px;\n  top: 5px;\n  margin-left: 5px;\n  background: no-repeat\n    url(https://ssl.gstatic.com/mail/sprites/smartmail-561acb673be75c1d374881a95997fce4.png) -67px -100px;\n  width: 7px;\n  height: 7px;\n  opacity: 0.55;\n}\n\n.inboxsdk__thread_row_custom_date {\n  margin-left: 2px;\n}\n\nspan.inboxsdk__thread_row_custom_date\n  + span:not(.inboxsdk__thread_row_custom_date) {\n  display: none;\n}\n\nspan.inboxsdk__thread_row_custom_draft_label + div.yW {\n  display: none;\n}\n\n.inboxsdk__thread_row_attachment_iconWrapper,\n.inboxsdk__thread_row_attachment_icon {\n  margin-left: 3px;\n  width: 16px;\n  height: 16px;\n}\n\n.inboxsdk__thread_row_attachment_iconWrapper {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: max-content;\n}\n\n/* .zA td.apU.xy refers to the <td/> element that houses the favorite star in thread row view.\n The <span> element is what inboxSDK will render threadRowButtons as when Gmail hover actions are disabled.\n The following rules fix the issue where threadRowButtons were spilling over into the thread row email text.\n */\n.zA td.apU.xY {\n  width: initial;\n}\n\n.zA td.apU.xY span.inboxsdk__thread_row_button {\n  margin: 0 10px;\n  opacity: 0.16;\n}\n\n.zA.aqw td.apU.xY span.inboxsdk__thread_row_button {\n  opacity: 0.54;\n}\n\n.zA.aqw td.apU.xY span.inboxsdk__thread_row_button:hover {\n  opacity: 1;\n}\n\n.zA td.apU.xY span.inboxsdk__thread_row_button::before {\n  /* Google adds in a pseduo ::before element to span elems with the T-KT class applied.\n  Explicity setting this width and height to zero as remove weird positioning that results */\n  width: 0px;\n  height: 0px;\n}\n\n.inboxsdk__thread_row_attachment_icon {\n  vertical-align: middle;\n}\n\n.zA > .xY.inboxsdk__thread_row_attachment_icons_present {\n  max-width: inherit;\n}\n\n/* narrow vertical preview pane */\n.Zs .xY.inboxsdk__thread_row_attachment_icons_present {\n  flex-grow: 0;\n}\n\n.Zs .xY.inboxsdk__thread_row_label {\n  order: 1;\n}\n\n.Zs .xY.inboxsdk__thread_row_icon_wrapper {\n  order: 1;\n  margin-left: 3px;\n  margin-right: 0px;\n}\n\n/* end narrow vertical preview pane */\n\n.inboxsdk__thread_row_icon_wrapper .inboxsdk__button_icon,\n.inboxsdk__thread_row_icon_wrapper .inboxsdk__button_iconImg {\n  height: 18px;\n  width: 18px;\n}\n\n/* stylelint-disable-next-line no-duplicate-selectors */\n.inboxsdk__thread_row_icon_wrapper {\n  width: 20px;\n  margin-right: 3px;\n  align-self: center;\n  height: 20px;\n  flex: 0 0 auto;\n}\n\n/* stylelint-disable-next-line no-duplicate-selectors */\n.inboxsdk__thread_row_icon_wrapper .inboxsdk__button_iconImg {\n  vertical-align: top;\n}\n\n.inboxsdk__thread_row_image_added\n  .y6\n  .inboxsdk__thread_row_icon_wrapper\n  ~ span[id] {\n  margin-left: 3px;\n}\n\n.inboxsdk__thread_row_image_added .a4W,\n.inboxsdk__thread_row_image_added .apA,\n.inboxsdk__thread_row_image_added .apx {\n  position: relative;\n}\n\n/* end thread rows */\n[inboxsdk__message_added_attachment_icon] td.gH > span:first-child > img,\n[inboxsdk__message_added_attachment_icon]\n  td.gH\n  div.gK\n  > span:first-child\n  > img {\n  margin-right: 3px;\n  margin-left: 3px;\n  margin-top: 0px;\n}\n\n[inboxsdk__message_added_attachment_icon]\n  td.gH\n  > span:first-child\n  > *:last-child,\n[inboxsdk__message_added_attachment_icon]\n  td.gH\n  div.gK\n  > span:first-child\n  > *:last-child {\n  margin-right: 6px;\n}\n\n.inboxsdk__message_attachment_iconWrapper,\n.inboxsdk__message_attachment_icon {\n  width: 21px;\n  height: 21px;\n  position: relative;\n}\n\n.inboxsdk__message_attachment_iconWrapper {\n  margin: auto 3px;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  vertical-align: top;\n}\n\n.inboxsdk__message_attachment_tooltipWrapper {\n  position: absolute;\n  top: 19px;\n  z-index: 10;\n}\n\n/* Work around issue where clicking \"Remove formatting\" in Compose causes this\n * element to become taller and shift the toolbar down. */\n.gU .aWQ {\n  max-height: 3px;\n}\n\n.aQw .inboxsdk__button_icon {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  height: 28px;\n}\n\n.aQw .inboxsdk__button_iconImg {\n  height: 18px;\n  width: 18px;\n}\n\n/* stylelint-disable-next-line no-duplicate-selectors */\n.aQw .inboxsdk__button_iconImg {\n  margin-top: 2px;\n}\n\n.aZi .asa .inboxsdk__button_iconImg {\n  display: inline-block;\n  vertical-align: middle;\n  margin-top: -3px;\n}\n\n/* Message view attachments toolbar */\n.aZi .aZj .asa .inboxsdk__button_iconImg {\n  margin: 0;\n}\n\nbody .dw {\n  /* Fixes issue where a tall compose window opened over a custom view could be\n   * overlapped by Gmail's top bar. Also fixes issue where mole widgets are\n   * only visible while a compose window is open.\n   */\n  z-index: 6 !important;\n}\n\n.inboxsdk__compose_outerSidebar_wrapper {\n  position: absolute;\n  left: -401px;\n  top: 0px;\n  background: white;\n  width: 400px;\n  bottom: 0px;\n  border-left: 1px solid silver;\n  box-shadow: -2px 0px 1px #e6e6e6;\n  display: block;\n}\n\n.inboxsdk__outerSidebarActive .aSt .inboxsdk__compose_outerSidebar_wrapper {\n  border-left: 0;\n  box-shadow: none;\n  left: -400px;\n}\n\n.inboxsdk__outerSidebarActive .aSs > div {\n  width: 50% !important;\n  margin-left: 30%;\n}\n\n.inboxsdk__compose_outerSidebar_header {\n  background: #404040;\n  font-size: 80%;\n  padding: 10px 10px 11px 10px;\n  color: white;\n  border-bottom: 1px solid #c4c4c4;\n}\n\n.inboxsdk__compose_outerSidebar_body {\n  position: absolute;\n  width: 100%;\n  bottom: 43px;\n  top: 36px;\n  left: -1px;\n  overflow: auto;\n}\n\n.inboxsdk__compose_outerSidebar_footer {\n  position: absolute;\n  bottom: 0px;\n  width: 100%;\n  border-top: 1px solid rgb(206 206 206);\n  display: block;\n}\n\n.inboxsdk__compose_innerSidebarActive form,\n.inboxsdk__compose_innerSidebarActive .GQ {\n  padding-right: 200px;\n}\n\ndiv.inboxsdk__compose_statusbar {\n  border: 0;\n  height: 40px;\n  margin: 0;\n}\n\n.inboxsdk__compose_statusbar {\n  background: none;\n  position: relative;\n}\n\n/* only include padding when in thread inline view */\n.HM .I5 .inboxsdk__compose_statusbar {\n  padding: 0 16px 16px 16px;\n}\n\ntable + .inboxsdk__compose_statusbar {\n  margin-top: -8px;\n}\n\n/* Necessary in pre-new-recipients-area Gmail to stop the compose body\nfrom resizing and pushing the statusbars off-screen when the recipients\narea is focused. */\nbody.inboxsdk__classic_gmail_recipients_area\n  .inboxsdk__compose_statusbarActive\n  .aoI {\n  height: auto !important;\n}\n\n.inboxsdk__compose_statusbarActive .aDl {\n  z-index: unset;\n}\n\n/* compose size fixing.\nTODO Can we restrict this to only composes we've modified? */\n.inboxsdk__compose .qz {\n  max-height: inherit !important;\n}\n\n/* aDi is initially position: fixed, which messes things up, so we make static\n\nTODO: 2023-08-31 is .aDi still in use anymore? */\nbody:not(.inboxsdk_hack_disableComposeSizeFixer)\n  .inboxsdk__size_fixer\n  .aDj.aDi {\n  position: static !important;\n}\n\n.inboxsdk__compose_inlineReply.inboxsdk__compose_statusbarActive .HM .I5 {\n  padding-bottom: var(--inboxsdk-total-added-statusbar-height, 0px);\n}\n\n/* Extend the message foreground outline downwards to contain our added status bars */\n.inboxsdk__compose_inlineReply.inboxsdk__compose_statusbarActive .aDj::before {\n  height: calc(100% + var(--inboxsdk-total-added-statusbar-height, 0px));\n}\n\n/* When we have a status bar added and the reply status is in position absolute or fixed mode (.aDi),\nuse a background color on the element containing our added status bars so the message background outline\nisn't visible behind it. */\n.inboxsdk__compose_inlineReply.inboxsdk__compose_statusbarActive\n  .aDj.aDi\n  > .aDh {\n  background-color: white;\n}\n\n.inboxsdk__recipient_row {\n  display: flex;\n}\n\n.inboxsdk__compose_notice {\n  background-color: #f5f5f5;\n  border-radius: 4px;\n  margin: 10px;\n  padding: 10px 16px;\n}\n\n.inboxsdk__recipient_row td.ok {\n  height: 20px;\n  padding: 0px !important;\n}\n\n.inboxsdk__recipient_row td.az3 {\n  padding: 0px 3px 0px 3px;\n}\n\n.inboxsdk__compose_forceRecipientsOpen .fX.aXjCH {\n  display: block !important;\n}\n\n.inboxsdk__compose_hideRecipientArea .fX.aXjCH,\n.inboxsdk__compose_hideRecipientArea .aoD.hl,\n.inboxsdk__compose_forceRecipientsOpen .aoD.hl,\n.inboxsdk__compose_forceRecipientRowHidden {\n  display: none !important;\n}\n\n/* toolbar visibility */\n\n[data-thread-toolbar='true'] [data-rowlist-toolbar='true'] {\n  display: none !important;\n}\n\n[data-toolbar-expanded='true'] [data-toolbar-expanded='false'] {\n  display: none !important;\n}\n\n[data-toolbar-expanded='false'] [data-toolbar-expanded='true'] {\n  display: none !important;\n}\n\n[data-toolbar-icononly='true'] .inboxsdk__button_text {\n  display: none !important;\n}\n\n[data-toolbar-icononly='false'] .inboxsdk__button_text {\n  color: #5f6368;\n}\n\n[data-toolbar-icononly='false'] .asa::before {\n  border-radius: 4px;\n  border: none !important;\n}\n\n[data-toolbar-icononly='false'] .inboxsdk__button {\n  align-items: center;\n  border: none;\n  display: inline-flex;\n  justify-content: center;\n  position: relative;\n  z-index: 0;\n  -webkit-font-smoothing: antialiased;\n  font-family: 'Google Sans', Roboto, RobotoDraft, Helvetica, Arial, sans-serif;\n  font-size: 14px;\n  letter-spacing: 0.15px;\n  background: none;\n  box-sizing: border-box;\n  color: #5f6368;\n  cursor: pointer;\n  font-weight: 500;\n  outline: none;\n  padding: 0 8px;\n}\n\n.inboxsdk__menuItem img,\n.inboxsdk__menuItem .inboxsdk__icon {\n  height: 16px;\n  width: 16px;\n  margin-top: -1px;\n}\n\n/* end */\n\n/* modal */\n\n.inboxsdk__modal_overlay {\n  right: 0px;\n  bottom: 0px;\n}\n\n.inboxsdk__modal_fullscreen {\n  position: fixed;\n  inset: 0px 0px 0px 0px;\n  z-index: 503;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 110px 50px 50px 50px;\n}\n\n.inboxsdk__modal_content {\n  margin-top: 30px;\n  margin-bottom: 30px;\n}\n\n.inboxsdk__modal_fullscreen.inboxsdk__modal_content_no_buttons\n  .inboxsdk__modal_content {\n  margin-bottom: 0px;\n}\n\n.inboxsdk__modal_fullscreen.inboxsdk__modal_content_no_buttons:not(\n    .inboxsdk__modal_hideBottom\n  )\n  .inboxsdk__modal_content {\n  margin-bottom: 0px;\n  padding-bottom: 24px;\n}\n\n.inboxsdk__modal_close {\n  outline: none;\n  cursor: pointer;\n}\n\n.inboxsdk__modal_fullscreen .inboxsdk__modal_container {\n  position: relative;\n  margin-top: -60px;\n  width: auto;\n  overflow: hidden;\n}\n\n.inboxsdk__modal_fullscreen .inboxsdk__modal_container .inboxsdk__modal_toprow {\n  margin-right: 16px;\n}\n\n.inboxsdk__modal_fullscreen.inboxsdk__modal_hideTop .inboxsdk__modal_close {\n  display: none;\n}\n\n.inboxsdk__modal_fullscreen.inboxsdk__modal_hideTop .inboxsdk__modal_container {\n  padding-top: 0px;\n}\n\n.inboxsdk__modal_fullscreen.inboxsdk__modal_hideTop .inboxsdk__modal_content {\n  margin-top: 0px;\n}\n\n.inboxsdk__modal_fullscreen.inboxsdk__modal_hideTop .Kj-JD-K7 {\n  margin: 0px;\n  display: none;\n}\n\n.inboxsdk__modal_fullscreen.inboxsdk__modal_hideSides\n  .inboxsdk__modal_container,\n.inboxsdk__modal_fullscreen.inboxsdk__modal_hideSides .inboxsdk__modal_content {\n  padding-left: 0px;\n  padding-right: 0px;\n}\n\n.inboxsdk__modal_fullscreen.inboxsdk__modal_hideBottom\n  .inboxsdk__modal_content {\n  margin-bottom: 0px;\n}\n\n.inboxsdk__modal_fullscreen.inboxsdk__modal_hideBottom\n  .inboxsdk__modal_container {\n  padding-bottom: 0px;\n}\n\n.inboxsdk__modal_toprow.inboxsdk__modal_toprow--constrain-title-width {\n  display: flex;\n}\n\n.inboxsdk__modal_toprow--constrain-title-width > span[role='heading'] {\n  flex: 1;\n  width: 0;\n  word-wrap: break-word;\n}\n\n/* end modal */\n\n/* mole */\n\n/* Fix issue where Compose toolbar can become disconnected when moles or\n * drawers are in use */\n.inboxsdk__drawers_in_use .aDi,\n.inboxsdk__moles_in_use .aDi {\n  left: auto !important;\n}\n\n/* stylelint-disable-next-line no-duplicate-selectors */\n.inboxsdk__drawers_in_use .aDi,\n.inboxsdk__moles_in_use .aDi {\n  position: static;\n}\n\n/* Make it so the compose/mole layer doesn't wrap, so we don't have to do a lot\n * of fancy logic to hide moles ourselves when things get too crowded. */\n.inboxsdk__moles_in_use .nH > .nH > .no {\n  white-space: nowrap;\n}\n\n.inboxsdk__moles_in_use .nH > .nH > .no > * {\n  white-space: initial;\n}\n\n.inboxsdk__moles_in_use .nH > .nH > .no > .nn {\n  display: inline-block;\n  float: none;\n}\n\n.inboxsdk__mole_view {\n  position: relative;\n  max-width: 564px;\n  height: 100vh;\n  vertical-align: top;\n  display: inline-flex;\n  align-items: flex-end;\n}\n\n.inboxsdk__mole_view_inner {\n  visibility: visible;\n  box-sizing: border-box;\n  margin-right: 5px;\n  box-shadow: rgb(0 0 0 / 20%) 0 2px 6px;\n  min-width: 260px;\n  min-height: 36px;\n}\n\n/* stylelint-disable-next-line no-duplicate-selectors */\n.inboxsdk__mole_view_inner {\n  min-height: 40px;\n}\n\n.inboxsdk__mole_view_titlebar:not(.inboxsdk__original_view),\n.inboxsdk__mole_view_inner:not(.inboxsdk__original_view) {\n  border-radius: 8px 8px 0 0;\n}\n\n.inboxsdk__mole_view_titlebar {\n  position: absolute;\n  left: 0;\n  right: 5px;\n  font-size: 14px;\n  font-weight: 500;\n  box-sizing: border-box;\n  height: 40px;\n  cursor: pointer;\n  padding: 10px 12px 10px 16px;\n  color: #041e49;\n  background: #f2f6fc;\n}\n\n.inboxsdk__mole_view_titlebar.inboxsdk__original_view {\n  color: white;\n  font-size: 12.8px;\n  font-weight: 400;\n  background: #404040;\n  padding: 9px 0 0 11px;\n  border-radius: 4px 4px 0 0;\n}\n\n.inboxsdk__mole_view_titlebar h2 {\n  font-size: inherit;\n  font-weight: inherit;\n  margin: 4px 0 0 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.inboxsdk__mole_title_buttons {\n  white-space: nowrap;\n  float: right;\n  padding-right: 5px;\n  margin-top: 1px;\n}\n\n.inboxsdk__mole_title_buttons.inboxsdk__original_view {\n  margin-top: -3px;\n}\n\n.inboxsdk__mole_title_buttons > img {\n  height: 24px;\n  width: 24px;\n  position: relative;\n  top: 2px;\n}\n\n.inboxsdk__mole_title_buttons:not(.inboxsdk__original_view) > img {\n  height: 16px;\n  width: 16px;\n  margin-left: 4px;\n}\n\n.inboxsdk__mole_title_buttons:not(.inboxsdk__original_view) > img:hover {\n  background-color: rgb(68 71 70 / 7.8%);\n}\n\n.inboxsdk__mole_title_buttons.inboxsdk__original_view > img:hover {\n  background-color: #737373;\n}\n\n.inboxsdk__mole_title_buttons > img:hover {\n  opacity: 1;\n}\n\n.inboxsdk__mole_view.inboxsdk__minimized .inboxsdk__mole_view_content,\n.inboxsdk__mole_view.inboxsdk__minimized.inboxsdk__mole_use_minimize_title\n  h2.inboxsdk__mole_default,\n.inboxsdk__mole_view:not(.inboxsdk__minimized) h2.inboxsdk__mole_minimized,\n.inboxsdk__mole_view:not(.inboxsdk__mole_use_minimize_title)\n  h2.inboxsdk__mole_minimized,\n.inboxsdk__mole_view.inboxsdk__minimized .Hl,\n.inboxsdk__mole_view:not(.inboxsdk__minimized) .Hk {\n  display: none;\n}\n\n.inboxsdk__mole_view_content:not(.inboxsdk__original_view) {\n  margin-top: 40px;\n  border: none;\n}\n\n.inboxsdk__mole_view_content {\n  margin-top: 36px;\n  border: 1px solid #cfcfcf;\n  background: white;\n  min-width: 260px;\n  min-height: 20px;\n  max-height: 80vh;\n}\n\n.inboxsdk__mole_view_chromeless .inboxsdk__mole_view_inner {\n  min-width: 0px;\n}\n\n.inboxsdk__mole_view_chromeless .inboxsdk__mole_view_content {\n  margin-top: 0px;\n  min-width: 0px;\n}\n\n/* end mole */\n\n/* tabs */\n\n.inboxsdk__tab {\n  width: 30px;\n}\n\n.inboxsdk__tab:local(.hideTitleBar):first-child:last-child {\n  display: none;\n}\n\n.inboxsdk__tab.inboxsdk__tab_selected {\n  width: auto;\n}\n\ntable.aKk .inboxsdk__contentTabContainer .inboxsdk__tab .aAy[role='tab'] {\n  height: 28px;\n}\n\n.inboxsdk__tab_icon {\n  width: 30px;\n  height: 25px;\n  background-position-x: 5px;\n  background-position-y: 3px;\n  background-size: 16px;\n  background-repeat: no-repeat;\n}\n\n.inboxsdk__tab_icon img {\n  height: 16px;\n  width: 16px;\n  margin-left: 5px;\n  margin-top: 3px;\n}\n\n.inboxsdk__tab .aKx {\n  top: 4px;\n}\n\n.inboxsdk__sidebar div[role='complementary'] {\n  position: static !important;\n}\n\n/* Fix issue where sidebar causes threadview to be taller than it should */\n.inboxsdk__sidebar > div.y4,\n:local(.app_sidebar_in_use) > div.y4 {\n  display: none;\n}\n\ntable.aKk\n  .inboxsdk__contentTabContainer\n  .inboxsdk__tab:first-child\n  .aAy[role='tab'] {\n  border-left-width: 1px;\n}\n\n/* end tabs */\n\n/* old sidebar */\n\n.inboxsdk__sidebar .inboxsdk__contentPanelContainer {\n  font:\n    12px Arial,\n    sans-serif;\n  max-width: 220px;\n}\n\n.inboxsdk__contentPanelContainer_contentContainer {\n  overflow: hidden;\n  margin-bottom: 10px;\n  border-bottom: 1px solid #d8d8d8;\n}\n\n/* end old sidebar */\n\n/* sidebar */\n\nbody.inboxsdk__hasTopMessageBar .bq9 {\n  top: var(--inboxsdk__topMessageBar-height);\n}\n\n:local(.app_sidebar_in_use) > div[role='complementary'] {\n  position: static !important;\n  width: 216px !important;\n}\n\n:local(.app_sidebar_in_use) {\n  /* Necessary to prevent z-indexes on sidebar items from causing them to show\n  above stuff outside of the sidebar. */\n  will-change: position;\n}\n\n/* stylelint-disable-next-line no-duplicate-selectors */\n:local(.app_sidebar_content_panel) {\n  background: #fff;\n}\n\n/* stylelint-disable-next-line no-duplicate-selectors */\n:local(.app_sidebar_content_area) {\n  padding: 4px 0 12px;\n}\n\n:local(.app_sidebar):local(.hideTitleBar) :local(.app_sidebar_content_area) {\n  padding-top: 0;\n}\n\n/* gmail addon support */\n\n.container_app_sidebar_in_use.no,\n:local(.container_app_sidebar_no_icons).no {\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n}\n\nbody[dir='rtl'] .container_app_sidebar_in_use.no[dir='ltr'],\nbody[dir='rtl'] .idm5_container_app_sidebar_no_icons.no[dir='ltr'] {\n  flex-direction: row-reverse;\n}\n\n/* overwrite margin right of the gmail page next/back and settings icon buttons\n   to line up properly */\n\n/* when no siebar is visible */\n.container_app_sidebar_in_use.no\n  .G-atb.inboxsdk__thread_toolbar_parent[gh='tm'] {\n  margin-right: -57px !important;\n}\n\n/* when addon sidebar visible */\n.container_addon_sidebar_visible.container_app_sidebar_in_use.no\n  .G-atb.inboxsdk__thread_toolbar_parent[gh='tm'] {\n  margin-right: -321px !important;\n}\n\n/* when sdk sidebar visible */\n.container_app_sidebar_visible.container_app_sidebar_in_use.no\n  .G-atb.inboxsdk__thread_toolbar_parent[gh='tm'] {\n  margin-right: -321px !important;\n}\n\n/* no sdk icons and no native addons */\n:local(.container_app_sidebar_no_icons)\n  .G-atb.inboxsdk__thread_toolbar_parent[gh='tm'] {\n  margin-right: 0px !important;\n}\n\n/* quickfix, TODO investigate removing ar7 class from our buttons */\n.inboxsdk__button.ar7 {\n  pointer-events: all !important;\n}\n\n.container_app_sidebar_in_use .bkK.nn,\n:local(.container_app_sidebar_no_icons) .bkK.nn {\n  width: auto !important;\n  flex: 1;\n  min-width: 0px;\n}\n\n/* when removing addon icons */\n:local(.container_app_sidebar_no_icons) .bnl.nn {\n  z-index: -1;\n  position: absolute;\n}\n\n.container_app_sidebar_in_use :local(.app_sidebar_in_use) {\n  min-width: 57px !important;\n  flex-shrink: 0;\n}\n\n.container_app_sidebar_in_use :local(.app_sidebar_in_use).app_sidebar_visible {\n  min-width: 321px !important;\n}\n\n.container_app_sidebar_in_use :local(.app_sidebar_in_use) > .J-KU-Jg {\n  display: block !important;\n}\n\n.container_app_sidebar_in_use\n  :local(.app_sidebar_in_use)\n  :local(.app_sidebar_container) {\n  display: none;\n}\n\n.container_app_sidebar_in_use\n  :local(.app_sidebar_in_use).app_sidebar_visible\n  :local(.app_sidebar_container) {\n  display: block;\n  float: left;\n  height: 100%;\n  border-left: 1px solid #e0e0e0;\n  padding-left: 16px;\n  width: calc(100% - 74px);\n  overflow: auto;\n}\n\n.container_app_sidebar_in_use\n  :local(.app_sidebar_container)\n  :local(.app_sidebar_content_area) {\n  width: calc(100% - 16px);\n  padding-right: 16px;\n}\n\n.container_app_sidebar_in_use\n  :local(.app_sidebar_in_use).app_sidebar_visible\n  .J-KU-Jz {\n  width: auto;\n  padding-right: 50px;\n}\n\n:local(.sidebar_iconArea) .inboxsdk__button_icon {\n  margin: 18px 18px 10px 18px;\n  border: none;\n  background: transparent;\n  height: 20px;\n  width: 20px;\n  overflow: hidden;\n  padding: 0;\n  cursor: pointer;\n  position: relative;\n}\n\n:local(.sidebar_iconArea).sidebar_global_iconArea .inboxsdk__button_icon {\n  margin-bottom: 18px;\n}\n\nbody :local(.sidebar_iconArea) .inboxsdk__button_icon {\n  overflow: visible;\n}\n\n:local(.sidebar_iconArea)\n  .sidebar_button_container_active\n  .inboxsdk__button_icon::before,\n:local(.sidebar_iconArea) .inboxsdk__button_icon:hover::before {\n  content: '';\n  background: #f1f3f4;\n  position: absolute;\n  inset: -10px -10px -10px -10px;\n  border-radius: 50%;\n  z-index: 0;\n}\n\n:local(.sidebar_iconArea)\n  .sidebar_button_container_active\n  .inboxsdk__button_icon::before {\n  background: #e8eaed;\n}\n\n:local(.sidebar_iconArea) .inboxsdk__button_iconImg {\n  width: 20px;\n  height: 20px;\n  margin-top: 0px;\n}\n\n:local(.sidebar_iconArea) .inboxsdk__button_icon .inboxsdk__button_iconImg {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  z-index: 1;\n}\n\n:local(.sidebar_iconArea)\n  .sidebar_button_container_active\n  .inboxsdk__button_selectedIndicator {\n  height: 40px;\n  width: 3px;\n  position: absolute;\n  left: 0px;\n  bottom: 0px;\n  background-color: rgb(66 133 244);\n  border-radius: 0 3px 3px 0;\n}\n\n/* old pre-2024-11-07 sidebar where buttons were on the right of the panel */\nbody:not(.inboxsdk__sidebar_icons_right)\n  :local(.sidebar_iconArea)\n  .sidebar_button_container_active\n  .inboxsdk__button_selectedIndicator {\n  left: unset;\n  right: 0;\n  border-radius: 3px 0 0 3px;\n}\n\n:local(.sidebar_iconArea).sidebar_global_iconArea\n  .sidebar_button_container_active\n  .inboxsdk__button_selectedIndicator {\n  bottom: 8px;\n}\n\n/* end sidebar */\n\n/* material sidebar */\n.brC-brG.companion_app_sidebar_visible {\n  display: block !important;\n}\n\n.bq9:not(.brC-brG).companion_app_sidebar_wrapper_visible {\n  display: block !important;\n}\n\n/* for 2024-11-07 gmail change moving sidebar icons to the right */\n.WN9Ejb.br3.companion_app_sidebar_wrapper_visible {\n  display: block !important;\n}\n\n.companion_global_app_sidebar_visible .thread_app_sidebar {\n  display: none;\n}\n\n.companion_app_sidebar_visible:not(.companion_global_app_sidebar_visible)\n  .global_app_sidebar {\n  display: none;\n}\n\n.nH.companion_container_app_sidebar_visible {\n  width: calc(100% - 300px) !important;\n}\n\n.companion_app_sidebar_visible .addon_sidebar ~ div:not(.addon_sidebar) {\n  display: none !important;\n}\n\n:local(.app_sidebar_in_use) :local(.app_sidebar_container).addon_sidebar {\n  height: 100%;\n  overflow: auto;\n}\n\n:local(.app_sidebar_in_use)\n  :local(.app_sidebar_container).addon_sidebar\n  :local(.app_sidebar_content_area) {\n  width: 100%;\n}\n\n:local(.app_sidebar_in_use):not(.companion_app_sidebar_visible) .addon_sidebar {\n  display: none;\n}\n\n/* stylelint-disable-next-line no-duplicate-selectors */\n:local(.app_sidebar_content_panel_title_icon_container) {\n  margin-left: 0px;\n}\n\n:local(.app_sidebar_content_panel) :local(.app_sidebar_content_panel_top_line) {\n  padding: 0px 16px;\n}\n\n/* hide thread addon icons when in custom view */\nbody.inboxsdk__custom_view_active\n  .brC-aT5-aOt-ato-Kp-Jw\n  [role='tablist']\n  > div:not(:last-child) {\n  display: none;\n}\n\n/* make the native addon icon container for thread add-ons (div.bvq) always visible */\n:local(.app_sidebar_in_use) .bvq,\n:local(.app_sidebar_in_use) .bvq > div:last-child {\n  display: block !important;\n}\n\n/* hide the native addon loading div */\n:local(.companion_container_app_sidebar_in_use) .bvq > div:first-child {\n  display: none !important;\n}\n\n/* end material sidebar */\n\n/* custom content */\n\n.inboxsdk__custom_view_element {\n  overflow: auto;\n}\n\n/* end custom content */\n\n/* nav menu */\n\n.inboxsdk__hide_native_marker .ain:not(.inboxsdk__navItem) {\n  border-left-color: transparent;\n}\n\n.inboxsdk__hide_native_marker .ain:not(.inboxsdk__navItem) .nU:not(.n1) .n0 {\n  font-weight: normal;\n}\n\n.inboxsdk__hide_native_marker .ain:not(.inboxsdk__navItem) .bsU {\n  font-weight: normal;\n}\n\n.inboxsdk__hide_native_marker .ain:not(.inboxsdk__navItem) .TO {\n  background: none;\n}\n\n.inboxsdk__hide_addon_container {\n  display: flex !important;\n  flex-direction: row;\n  width: 100% !important;\n}\n\nbody[dir='rtl'] .inboxsdk__hide_addon_container[dir='ltr'] {\n  flex-direction: row-reverse;\n}\n\n.inboxsdk__hide_addon_container > .bkK.nn {\n  width: auto !important;\n  flex: 1;\n  min-width: 0;\n}\n\n.inboxsdk__hide_addon_container > .bnl.nn {\n  display: none;\n}\n\n.inboxsdk__navItem {\n  font-size: 14px;\n}\n\n/*\nfix issue in pre-Chat Gmail versions where somehow a style=\"flex-grow: 1\" attribute\nshows up on our elements preventing them from collapsing.\n*/\n.inboxsdk__navItem:not(.Xr) > .V3[style] {\n  flex-grow: 0 !important;\n}\n\n.inboxsdk__navItem > .TO.n4 {\n  display: block;\n  padding-left: 0;\n}\n\n/* app menu panel nav item reshaping */\n.inboxsdk__collapsiblePanel .inboxsdk__navItem > .TO .TN.aik {\n  padding-left: 18px;\n}\n\n/* Tweak alignment of  */\n.inboxsdk__collapsiblePanel .inboxsdk__navItem > .TO .qj {\n  margin-right: 14px;\n}\n\n/* end app menu panel nav item reshaping */\n\n.inboxsdk__navItem > .TO.n4 .qj > .G-asx {\n  margin-right: 0;\n}\n\n.inboxsdk__navItem > .TO .aio > .bsU:empty {\n  display: none;\n}\n\n.inboxsdk__navItem > .TO .qj:empty::after {\n  background-color: rgb(118 118 118);\n  border-radius: 50%;\n  content: '';\n  height: 18px;\n  margin-left: 1px;\n  width: 18px;\n}\n\n.inboxsdk__navItem > .TO .qj[style*='border-color']:empty::after {\n  border-color: inherit;\n}\n\n.inboxsdk__navItem > .TO:hover .pM {\n  display: flex;\n  visibility: visible;\n}\n\n.inboxsdk__navItem > .TO .afM {\n  cursor: pointer;\n}\n\n.inboxsdk__navItem > .TO:hover .afM {\n  display: block;\n  visibility: visible;\n}\n\n/* This does slightly break from the native Gmail behavior, but we keep the dropdown button\n  visible while it has an active dropdown */\n.inboxsdk__navItem > .TO img.afM.afO {\n  display: block;\n  visibility: visible;\n}\n\n/* Keep the subtitle hidden while the dropdown is active */\n.inboxsdk__navItem > .TO img.afM.afO ~ .aio > .bsU {\n  display: none;\n}\n\n.inboxsdk__navItem > .TO:hover .bsU {\n  display: none;\n}\n\n.inboxsdk__navItem.inboxsdk__navItem_nonClickable > .TO:active {\n  background-color: initial;\n}\n\n.inboxsdk__navItem_hover .aj0,\n.inboxsdk__navItem_hover .p8 {\n  visibility: visible;\n}\n\n.inboxsdk__appMenuItem .CL.V6::before,\n.inboxsdk__collapsiblePanel .T-I.T-I-KE.L3::before {\n  background-image: var(--background-image);\n}\n\n.inboxsdk__collapsiblePanel.apV.aJu .T-I.T-I-KE.L3::before {\n  background-image: var(--background-image--hover);\n}\n\n.inboxsdk__appMenuItem.apV .CL.V6::before {\n  background-image: var(--background-image--active);\n}\n\n.inboxsdk__collapsiblePanel .T-I.T-I-KE.L3::before {\n  background-size: 24px;\n}\n\n.inboxsdk__collapsiblePanel_loading_container {\n  display: none;\n}\n\n.inboxsdk__collapsiblePanel_loading_container.inboxsdk__collapsiblePanel_loading_container--active {\n  display: block;\n}\n\n.inboxsdk__navItem_link {\n  cursor: pointer;\n  margin-left: auto;\n}\n\n.inboxsdk__navItem_link > a {\n  margin-left: 16px;\n}\n\n.inboxsdk__navItem > .TO .inboxsdk__button {\n  margin-right: 0;\n}\n\n[dir='rtl'] .inboxsdk__navItem_link {\n  left: -4px;\n  right: initial;\n}\n\n.inboxsdk__navItem_container .aio .inboxsdk__button {\n  position: absolute;\n  top: 0px;\n  right: -30px;\n}\n\n.inboxsdk__navItem_marker {\n  position: absolute;\n  left: 0px;\n  padding-bottom: 2px;\n}\n\n.inboxsdk__expando {\n  z-index: 1;\n}\n\n.inboxsdk__navItem_link > a,\n.aip .CK {\n  color: #15c;\n}\n\n.inboxsdk__navItem_link > a:hover,\n.aip .CK:hover {\n  text-decoration: underline;\n}\n\n.inboxsdk__navItem_container .aio.aip {\n  white-space: nowrap;\n}\n\n/* start nav menu open state */\n\n.WR[role=\"navigation\"] /* new left nav */\n  .inboxsdk__navItem\n  .Yh:not(.inboxsdk__navItem_parent_accessory_button):empty {\n  display: none;\n}\n\n.WR[role=\"navigation\"] /* new left nav */\n  .inboxsdk__navItem\n  .Yh:not(.inboxsdk__navItem_parent_accessory_button) {\n  background: none;\n}\n\n.WR[role=\"navigation\"] /* new left nav */\n  .inboxsdk__navItem\n  .Yh\n  .inboxsdk__button_icon {\n  display: none;\n}\n\n/* end nav menu open state */\n\n/* start nav menu close state */\n\n.WR[role=\"navigation\"].bhZ:not(.bym) /* .WR is the new left nav */\n  .inboxsdk__navItem\n  .Yh {\n  opacity: 1;\n}\n\n.WR[role=\"navigation\"].bhZ:not(.bym) /* .WR is the new left nav */\n  .inboxsdk__navItem\n  .Yh.inboxsdk__navItem_parent_accessory_button {\n  background-image: none !important;\n}\n\n.WR[role=\"navigation\"].bhZ:not(.bym) /* .WR is the new left nav */\n  .inboxsdk__navItem\n  .Yh:empty {\n  background-color: rgb(32 33 36 / 71%);\n  border-radius: 50%;\n  display: inherit;\n  height: 18px;\n  margin-left: 1px;\n  width: 18px;\n}\n\n.WR[role='navigation'].bhZ:not(.bym)\n  .inboxsdk__navItem\n  .Yh\n  .inboxsdk__button_icon {\n  display: inherit;\n}\n\n/* end nav menu close state */\n\n/* end nav menu */\n\n/* search results section */\n\n.inboxsdk__custom_sections {\n  margin-bottom: 15px;\n}\n\n.inboxsdk__custom_sections.Wc {\n  padding: 0px;\n  margin-bottom: 0px;\n}\n\n/* stylelint-disable-next-line no-duplicate-selectors */\n.inboxsdk__custom_sections {\n  margin-bottom: 8px;\n}\n\n.inboxsdk__resultsSection.inboxsdk__resultsSection_nonCollapsible\n  .inboxsdk__resultsSection_title\n  .Wp {\n  visibility: hidden;\n}\n\n.inboxsdk__custom_sections.Wc .inboxsdk__resultsSection {\n  padding-top: 0px;\n}\n\n.inboxsdk__custom_sections .Wg {\n  padding-top: 0px;\n}\n\n.inboxsdk__custom_sections.Wc .Wg {\n  border-bottom: 0;\n  padding: 0px;\n}\n\n/* end lone collapsed SectionView in Gmailv1 */\n\n.inboxsdk__results_collapsedContainer.Wg {\n  height: auto;\n}\n\n.inboxsdk__results_collapsedContainer > div {\n  display: flex;\n  flex-wrap: wrap;\n  flex: 1 0 100%;\n}\n\n/* lone collapsed SectionView in Gmailv2 */\n\n/* If only a single SectionView is collapsed then its dropdown button and titleTextLink are still shown */\n.inboxsdk__results_collapsedContainer\n  > div\n  > .inboxsdk__resultsSection_collapsed:first-child:last-child {\n  flex: 1;\n  margin-right: 0;\n}\n\n.inboxsdk__results_collapsedContainer\n  > div\n  > .inboxsdk__resultsSection_collapsed:first-child:last-child\n  > .inboxsdk__resultsSection_header {\n  display: flex;\n  align-items: center;\n  flex: 1;\n}\n\n/* end lone collapsed SectionView in Gmailv2 */\n\n.inboxsdk__resultsSection.inboxsdk__resultsSection_collapsed {\n  display: inline-block;\n  margin-right: 20px;\n}\n\n/* stylelint-disable-next-line no-duplicate-selectors */\n.inboxsdk__resultsSection.inboxsdk__resultsSection_collapsed {\n  display: inline-flex;\n}\n\n.Wc .inboxsdk__resultsSection.inboxsdk__resultsSection_collapsed {\n  margin-right: 0px;\n}\n\n/* 2024-01-25 Prevent the addition of extra padding on the right side of the header from `.Wg` */\n.inboxsdk__resultsSection_collapsed .inboxsdk__resultsSection_header {\n  padding-right: 0;\n}\n\n.inboxsdk__resultsSection_title {\n  white-space: nowrap;\n  cursor: pointer;\n  display: inline-block;\n}\n\n/* stylelint-disable-next-line no-duplicate-selectors */\n.inboxsdk__resultsSection_title {\n  display: flex;\n  align-items: center;\n  height: 48px;\n}\n\n.Wc .inboxsdk__resultsSection_title {\n  padding: 3px 0 3px 8px;\n}\n\n.inboxsdk__resultsSection_header {\n  min-height: 48px;\n  line-height: 48px;\n}\n\n.inboxsdk__resultsSection_header_summaryText.Wm:last-child .amH {\n  padding-right: 0px;\n  margin-right: 0px;\n}\n\n.inboxsdk__custom_sections.Wc\n  .inboxsdk__resultsSection_header_summaryText:last-child {\n  margin-right: 11px;\n}\n\n.inboxsdk__custom_sections.Wc .J-JN-M-I {\n  margin-right: 13px;\n}\n\n.inboxsdk__resultsSection .TB.TC {\n  text-align: center;\n\n  /* 2025-07-10: Remove padding from the left and right of the message element.\n    prevents .TM .TC from being applied which has a padding 8px on the left and right.\n   */\n  padding-left: 0;\n  padding-right: 0;\n}\n\n.inboxsdk__resultsSection .inboxsdk__resultsSection_loading {\n  font-style: italic;\n}\n\n.inboxsdk__resultsSection .inboxsdk__resultsSection_result_icon {\n  height: 15px;\n  width: 15px;\n}\n\n.inboxsdk__resultsSection_label_iconHtml,\n.inboxsdk__resultsSection_result_iconHtml {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.inboxsdk__resultsSection .inboxsdk__resultsSection_tableRow.zA:hover > .xW {\n  /* Gmailv2 tries to hide the \"xW\" element when a \"zA\" element is hovered. This prevent that. */\n  display: flex;\n}\n\n.inboxsdk__resultsSection .inboxsdk__resultsSection_tableRow.zA > .xW {\n  max-width: none;\n  flex-basis: auto;\n}\n\n.inboxsdk__resultsSection .inboxsdk__resultsSection_tableRow .xT {\n  align-items: center;\n}\n\n.inboxsdk__resultsSection .xX {\n  width: 20ex;\n}\n\n.inboxsdk__resultsSection tr .xW > span {\n  overflow: hidden;\n  display: block;\n  text-overflow: ellipsis;\n}\n\n.inboxsdk__resultsSection .V3 {\n  overflow: hidden;\n  white-space: nowrap;\n}\n\n.inboxsdk__resultsSection .at {\n  position: relative;\n}\n\n.inboxsdk__thread_row_label {\n  flex-shrink: 0;\n  align-self: center;\n}\n\n/* stylelint-disable-next-line no-duplicate-selectors */\n.inboxsdk__thread_row_label {\n  align-self: flex-end;\n}\n\n/* label in vertical preview pane */\n.apv .inboxsdk__thread_row_label {\n  align-self: flex-start;\n}\n\n.inboxsdk__resultsSection_label_icon {\n  height: 11px;\n  width: 11px;\n  position: absolute;\n  top: 2px;\n  margin-left: 4px;\n}\n\n/* stylelint-disable-next-line no-duplicate-selectors */\n.inboxsdk__resultsSection_label_icon {\n  margin-top: 1px;\n}\n\n.inboxsdk__resultsSection .av,\n.inboxsdk__thread_row_label .av {\n  /* max-width is set inline, default is 90px */\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.inboxsdk__resultsSection_label_icon + .av,\n.inboxsdk__thread_row_label .inboxsdk__button_icon + .av {\n  margin-left: 16px;\n}\n\n.Wc .inboxsdk__resultsSection_footer {\n  padding: 3px 3px 3px 8px;\n}\n\n/* end search results section */\n\n/* tooltip */\n\n/* gmail styles */\n\n.inboxsdk__tooltip .T-P {\n  box-shadow: 0 1px 3px rgb(0 0 0 / 20%);\n  background-color: #fff;\n  border: 1px solid;\n  border-color: #bbb #bbb #a8a8a8;\n  padding: 16px;\n  position: absolute;\n  z-index: 1201 !important;\n}\n\n.inboxsdk__tooltip.inboxdk__tooltip_content .T-P {\n  padding: 0px;\n}\n\n.inboxsdk__tooltip .aRM {\n  outline: none;\n  padding: 13px 10px 16px;\n  text-align: center;\n  font:\n    normal normal normal normal 16px / normal arial,\n    sans-serif;\n}\n\n.inboxdk__tooltip_content.inboxsdk__tooltip .aRM {\n  padding: 0px;\n}\n\n.inboxsdk__tooltip .aRR {\n  color: #333;\n  font-size: 18px;\n  margin-top: 13px;\n}\n\n.inboxsdk__tooltip .aRQ {\n  color: #777;\n  font-size: 13px;\n  margin: 3px 0 14px 0;\n}\n\n/* end gmail styles */\n\n.inboxsdk__tooltip {\n  position: fixed;\n  z-index: 1300;\n  transition:\n    left 200ms ease,\n    top 200ms ease;\n}\n\n/* stylelint-disable-next-line no-duplicate-selectors */\n.inboxsdk__tooltip .T-P {\n  position: relative;\n  width: auto;\n  max-width: 500px;\n}\n\n.inboxsdk__tooltip .inboxsdk__tooltip_arrow {\n  position: fixed;\n  z-index: 1400;\n  margin-top: -1px;\n  transition:\n    left 200ms ease,\n    top 200ms ease;\n}\n\n.inboxsdk__tooltip .inboxsdk__tooltip_close {\n  user-select: none;\n}\n\n.inboxsdk__tooltip .inboxsdk__button {\n  margin-right: 0px;\n}\n\n.inboxsdk__tooltip .inboxsdk__tooltip_image {\n  max-height: 300px;\n  max-width: 500px;\n  overflow: hidden;\n  height: auto;\n}\n\n.inboxsdk__tooltip .inboxsdk__tooltip_image > img {\n  max-height: 300px;\n  max-width: 500px;\n}\n\n/* end tooltip */\n\n/* attachment card */\n\n.inboxsdk__attachmentCard img.aQG.aYB {\n  max-width: 178px;\n  min-width: 178px;\n  min-height: 118px;\n}\n\n.inboxsdk__attachmentCard img.aZG.aYw {\n  background: none;\n}\n\n/* add some margins between cards so 4+ cards don't hit each other */\n\n.aQw > .T-I.J-J5-Ji.L3 {\n  margin-top: 5px;\n}\n\n/* end attachment card */\n\n/* keyboard shortcut help */\n\ntable.cf.wd.inboxsdk__shortcutHelp_table {\n  margin-bottom: 15px;\n}\n\n.inboxsdk__shortcutHelp_table td.Dn {\n  display: inline-block;\n  width: 50%;\n}\n\n.inboxsdk__shortcutHelp_table table.cf {\n  display: block;\n}\n\n.inboxsdk__shortcutHelp_table tbody tbody {\n  display: block;\n}\n\n.inboxsdk__shortcutHelp_table tbody tbody tr {\n  display: block;\n  white-space: nowrap;\n}\n\n.inboxsdk__shortcutHelp_table td.wg.Dn {\n  display: inline-block;\n  width: 45%;\n}\n\n.inboxsdk__shortcutHelp_table span.wb {\n  margin-left: 3px;\n}\n\n.inboxsdk__shortcutHelp_table td.we.Dn {\n  width: 60%;\n  white-space: normal;\n}\n\n.inboxsdk__shortcutHelp_title img.inboxsdk__icon {\n  height: 21px;\n  width: 21px;\n  vertical-align: middle;\n  margin-right: 10px;\n  border-radius: 4px;\n}\n\n/* end keyboard shortcut help */\n\n/* search suggestions */\n\n.asor.inboxsdk__custom_suggestion {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.inboxsdk__custom_suggestion img {\n  max-width: 32px;\n  max-height: 32px;\n}\n\n.inboxsdk__custom_suggestion_iconHTML {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  left: 8px;\n  height: 32px;\n  width: 43px;\n}\n\n/* Adjust positioning when no description present */\n.gstq_d .inboxsdk__custom_suggestion_iconHTML {\n  margin-top: -8px;\n}\n\n/* end send suggestions */\n\n/* app toolbar */\n\n.inboxsdk__appButton {\n  margin-right: 8px;\n}\n\n.inboxsdk__appButton + .inboxsdk__appButton {\n  margin-left: 16px;\n}\n\n.inboxsdk__appButton.inboxsdk__appButton_noGPlus {\n  margin-right: 0px;\n}\n\n.inboxsdk__appButton .inboxsdk__button_icon {\n  margin-right: 5px;\n  position: relative;\n}\n\n.inboxsdk__appButton a {\n  color: #404040;\n  text-decoration: none;\n  line-height: 24px;\n}\n\n.inboxsdk__appButton.inboxsdk__appButton_noGPlus a {\n  line-height: 30px;\n}\n\n.inboxsdk__appButton a:hover {\n  text-decoration: underline;\n  color: #000;\n}\n\n.inboxsdk__gmail_dark_theme .inboxsdk__appButton a {\n  color: #eee;\n}\n\n.inboxsdk__gmail_dark_theme .inboxsdk__appButton a:hover {\n  color: #fff;\n}\n\n.inboxsdk__appButton_tooltip {\n  outline: none;\n  transition: none;\n  animation: gb__a 0.2s;\n}\n\n.inboxsdk__appButton_tooltip .inboxsdk__tooltip_close {\n  display: none;\n}\n\n.inboxsdk__tooltip.inboxsdk__appButton_tooltip .T-P {\n  padding: 0px;\n}\n\n.inboxsdk__tooltip.inboxsdk__appButton_tooltip .aRM {\n  padding: 0px;\n  white-space: initial;\n  text-align: center;\n  font:\n    normal normal normal normal 16px / normal arial,\n    sans-serif;\n}\n\n.inboxsdk__tooltip.inboxsdk__appButton_tooltip .inboxsdk__tooltip_arrow {\n  transform-origin: top;\n  transform: rotateZ(180deg);\n  margin-top: 9px;\n}\n\n/* resize based on width */\n\n.inboxsdk__searchIsNarrow .streak__appToolbarButton_title {\n  display: none;\n}\n\n/* end resize based on width */\n\n/* end app toolbar */\n\n/* custom message views */\n\n.inboxsdk__custom_message_view {\n  display: flex;\n  padding-top: 20px;\n  padding-bottom: 20px;\n  border-top: 1px solid #efefef;\n  border-collapse: collapse;\n}\n\n.inboxsdk__custom_message_view_hidden {\n  display: none;\n}\n\n/* when cusotm message is right after the last message with its reply */\n.h7.ie + .inboxsdk__custom_message_view {\n  margin-top: 5px;\n}\n\n/* when custom message is after the super collapsed message elements */\n.kQ + .inboxsdk__custom_message_view,\n.kx + .inboxsdk__custom_message_view {\n  margin-top: 1px;\n}\n\n.inboxsdk__custom_message_view.inboxsdk__custom_message_view_collapsed {\n  cursor: pointer;\n}\n\n.inboxsdk__custom_message_view .inboxsdk__custom_message_view_icon {\n  padding-left: 16px;\n  padding-right: 16px;\n  flex-shrink: 0;\n}\n\n.inboxsdk__custom_message_view .inboxsdk__custom_message_view_icon img {\n  height: 32px;\n  width: 32px;\n  border-radius: 50%;\n}\n\n.inboxsdk__custom_message_view .inboxsdk__custom_message_view_content {\n  width: 100%;\n  min-width: 0px;\n}\n\n.inboxsdk__custom_message_view .inboxsdk__custom_message_view_header {\n  cursor: pointer;\n}\n\n.inboxsdk__custom_message_view_app_notice_content {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  z-index: 1;\n}\n\n.adx.inboxsdk__custom_message_view_app_notice_container.inboxsdk__custom_message_view_app_notice_container {\n  position: relative;\n  width: auto !important;\n  min-width: 32px;\n}\n\n/* stylelint-disable-next-line no-duplicate-selectors */\n.inboxsdk__custom_message_view_app_notice_content {\n  align-items: center;\n  display: flex;\n  font-size: 0.75rem !important;\n  justify-content: flex-start;\n  margin-left: 0;\n  padding: 0px;\n  top: 0;\n}\n\n.adx.inboxsdk__custom_message_view_app_notice_container.inboxsdk__custom_message_view_app_notice_container:hover::before {\n  content: none !important;\n}\n\n.adx.inboxsdk__custom_message_view_app_notice_container.inboxsdk__custom_message_view_app_notice_container\n  > span:first-child {\n  display: none;\n}\n\n.inboxsdk__custom_message_view_app_notice_container::before {\n  position: absolute;\n}\n\n.inboxsdk__custom_message_view_app_notice_content > * {\n  color: #555;\n}\n\ntable[role='presentation'].inboxsdk__thread_view_with_custom_view {\n  table-layout: fixed;\n}\n\ntable[role='presentation'].inboxsdk__thread_view_with_custom_view > tr {\n  display: block;\n}\n\n/* end custom message views */\n\n/* butter/snack bar */\n\n.inboxsdk__butterbar.inboxsdk__butterbar_error {\n  background-color: #c53929 !important;\n}\n\n.inboxsdk__butterbar.inboxsdk__butterbar_error [role='button'] {\n  color: #fff;\n}\n\n.inboxsdk__butterbar.inboxsdk__butterbar_error [role='button']::before {\n  background: rgb(255 255 255 / 8%);\n}\n\n/* end butter/snack bar */\n\n/* support menu item */\n.inboxsdk__support_menuItem:hover {\n  background-color: #eee;\n  outline: 1px dashed transparent;\n}\n\n.inboxsdk__compose_addressList {\n  display: flex !important;\n}\n\n/* end support menu item */\n\n/* compose popover */\n.inboxsdk__linkPopOver_section_container {\n  position: absolute;\n  width: 100%;\n  left: 0;\n  margin-top: 8px;\n  box-sizing: border-box;\n}\n\n/* version with new gmail style (late 2024) popover: match width better */\n.VRezbc.phnWcc .inboxsdk__linkPopOver_section_container {\n  padding: 0 5px;\n}\n\n.inboxsdk__linkPopOver_section {\n  width: 100%;\n  background: #fff;\n  border: 1px solid;\n  border-color: #bbb #bbb #a8a8a8;\n  font:\n    13px arial,\n    sans-serif;\n  padding: 5px 8px;\n  margin-bottom: 5px;\n  box-sizing: border-box;\n  box-shadow: 0 1px 3px rgb(0 0 0 / 20%);\n}\n\n/* end compose popover */\n\n/*\n Toolbar/Thread button style fix for\n when the gmail setting \"Button labels\" is set to \"text\"\n*/\n\n.T-I.J-J5-Ji.T-I-ax7.inboxsdk__button .asa::after {\n  width: auto;\n}\n\n/* ListRouteView hideFilterToolbar() support */\n.inboxsdk__hide_filter_toolbar .G6[role=\"toolbar\"] /* chat+meet off */,\n.inboxsdk__hide_filter_toolbar .biW[data-srm=\"email\"] /* chat+meet on */ {\n  display: none;\n}\n\n.inboxsdk__hide_filter_toolbar .G-atb.PY /* chat+meet off */ {\n  min-height: 32px !important;\n  height: 32px !important;\n}\n",null],sourceRoot:""}]);var _="inboxsdk__nJrOYb9x4IUalKhkqH70",g="inboxsdk__YVRXKNcaUvgm8xbnhvbA",b="inboxsdk__L1YTilBb_3NY6uyjljIg",v="inboxsdk__ZsVjiThsnbCmCG_X1Vvn",A="inboxsdk__RRnCd87hoA2uHeC1Z_FE",y="inboxsdk__iYzl6PjYB9v7KGQNbONH",w="inboxsdk__o9YcckDJql686JS0n2cc",C="inboxsdk__XdCPRDkO7zSIv6nU4USH",x="inboxsdk__vTsoFgWgM9ldKGsRJYHd",E="inboxsdk__lD1h9YUibxcHdtWGdiWq",k="inboxsdk__p_cMIiZvN4vwQdGOpCts",S="inboxsdk__fQK2Ffccj51PVtC_ibDc",I="inboxsdk__KudoZ1EBFoQsddbSavvj",T="inboxsdk__TFQRFr4aJVmDmx2llTVx",D="inboxsdk__Yzt2_upvw7fe6BjWdlhZ",B="inboxsdk__M4Frio2Us0lwSTltblkg",M="inboxsdk__Nr6Udyn2ocUynKpdfxh1",N="inboxsdk__QsikHKWmzD0Ovsg3wrIw",L="inboxsdk__z3cCBtGXYneog44Vf16J",V="inboxsdk__ARG5bpD2vntIyElH978u",R="inboxsdk__QbxpXL1mja3SlO_1nJOS",O="inboxsdk__lmkPHCz841PzU2vywMZI",P="inboxsdk__IpDkQtEZuh257muFXot6",j="inboxsdk__jQiSbhX57v1JCl6fIbdb",F="inboxsdk__cnd4jAy3zFUYdR_NdMxT";const U=h},6408:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t._62To10=t._36To10=t._32To10=t._16To10=t._8To10=t._2To10=t._10To62=t._10To36=t._10To32=t._10To16=t._10To8=t._10To2=t.convertBase=void 0;var i=r(n(2400));i.default.set({precision:1e9}),i.default.set({toExpPos:9e15});var o=function(e,t,n){var r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";if("number"!=typeof e&&"string"!=typeof e||"number"==typeof e&&!isFinite(e))throw new Error("First augument must be a number or string.");if("number"==typeof e&&(e=e.toString()),"number"!=typeof t&&"string"!=typeof t)throw new Error("Second augument must be a number or string.");if("number"==typeof t){if(!Number.isInteger(t))throw new Error("Second augument must be integer.");if(!(2<=t&&t<=62))throw new Error("Second augument must be between 2 and 62.");t=r.substr(0,t)}if(t.length<=1)throw new Error("Second augument' length must be larger than 1. Base 1 or smaller cannnot be defined.");if(t.length!==new Set(t).size)throw new Error("Second augument must not contain the same characters.");if(!new RegExp("^["+t+"]+$").test(e))throw new Error("First augument must consist of second augument.");if("number"!=typeof n&&"string"!=typeof n)throw new Error("Third augument must be a number or string.");if("number"==typeof n){if(!Number.isInteger(n))throw new Error("Third augument must be integer.");if(!(2<=n&&n<=62))throw new Error("Third augument must be between 2 and 62.");n=r.substr(0,n)}if(n.length<=1)throw new Error("Third augument' length must be larger than 1. Base 1 or smaller cannnot be defined.");if(n.length!==new Set(n).size)throw new Error("Third augument must not contain the same characters.");var o=function(e,t){for(var n={},r=0;r<t.length;r++)n[t.substr(r,1)]=new i.default(r);var o=new i.default(t.length),s=new i.default(0);for(r=0;r<e.length;r++){var a=n[e.substr(-1*(r+1),1)],l=i.default.pow(o,r),u=a.times(l);s=s.plus(u)}return s.toString()}(e,t);return function(e,t){for(var n=[],r=new i.default(e),o=new i.default(t.length);!r.isZero();){var s=r.mod(o).toNumber();r=r.dividedToIntegerBy(o),n.unshift(t.substr(s,1))}return 0===n.length&&n.unshift("0"),n.join("")}(o,n)};t.convertBase=o,t._10To2=function(e){return o(e,10,2)},t._10To8=function(e){return o(e,10,8)},t._10To16=function(e){return o(e,10,16)},t._10To32=function(e){return o(e,10,32)},t._10To36=function(e){return o(e,10,36)},t._10To62=function(e){return o(e,10,62)},t._2To10=function(e){return o(e,2,10)},t._8To10=function(e){return o(e,8,10)},t._16To10=function(e){return o(e,16,10)},t._32To10=function(e){return o(e,32,10)},t._36To10=function(e){return o(e,36,10)},t._62To10=function(e){return o(e,62,10)}},9060:e=>{e.exports=function(e,t){var n="number"==typeof e,r="number"==typeof t;n&&!r?(t=e,e=0):n||r||(e=0,t=0);var i=(t|=0)-(e|=0);if(i<0)throw new Error("array length must be positive");for(var o=new Array(i),s=0,a=e;s<i;s++,a++)o[s]=a;return o}},4622:(e,t,n)=>{"use strict";var r=n(6285),i=[],o=[],s=r.makeRequestCallFromTimer(function(){if(o.length)throw o.shift()});function a(e){var t;(t=i.length?i.pop():new l).task=e,r(t)}function l(){this.task=null}e.exports=a,l.prototype.call=function(){try{this.task.call()}catch(e){a.onerror?a.onerror(e):(o.push(e),s())}finally{this.task=null,i[i.length]=this}}},6285:(e,t,n)=>{"use strict";function r(e){o.length||i(),o[o.length]=e}e.exports=r;var i,o=[],s=0;function a(){for(;s<o.length;){var e=s;if(s+=1,o[e].call(),s>1024){for(var t=0,n=o.length-s;t<n;t++)o[t]=o[t+s];o.length-=s,s=0}}o.length=0,s=0}var l,u,c,d=void 0!==n.g?n.g:self,h=d.MutationObserver||d.WebKitMutationObserver;function p(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}"function"==typeof h?(l=1,u=new h(a),c=document.createTextNode(""),u.observe(c,{characterData:!0}),i=function(){l=-l,c.data=l}):i=p(a),r.requestFlush=i,r.makeRequestCallFromTimer=p},1812:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new Array(2*e.length-1);t[0]=e[0];for(var n=0,r=arguments.length<=1?0:arguments.length-1;n<r;n++){var o=n+1<1||arguments.length<=n+1?void 0:arguments[n+1];t[2*n+1]=o&&Object.prototype.hasOwnProperty.call(o,"__html")?o.__html:(0,i.default)(o),t[2*n+2]=e[n+1]}return t.join("")};var r,i=(r=n(3131))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},2504:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=a(e),s=o[0],l=o[1],u=new i(function(e,t,n){return 3*(t+n)/4-n}(0,s,l)),c=0,d=l>0?s-4:s;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===l&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[c++]=255&t),1===l&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=16383,a=0,l=r-i;a<l;a+=s)o.push(u(e,a,a+s>l?l:a+s));return 1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function u(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(l(r));return i.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},2180:function(e,t,n){var r;!function(){"use strict";var i,o=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s=Math.ceil,a=Math.floor,l="[BigNumber Error] ",u=l+"Number primitive has more than 15 significant digits: ",c=1e14,d=14,h=9007199254740991,p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],f=1e7,m=1e9;function _(e){var t=0|e;return e>0||e===t?t:t-1}function g(e){for(var t,n,r=1,i=e.length,o=e[0]+"";r<i;){for(t=e[r++]+"",n=d-t.length;n--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function b(e,t){var n,r,i=e.c,o=t.c,s=e.s,a=t.s,l=e.e,u=t.e;if(!s||!a)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-a:s;if(s!=a)return s;if(n=s<0,r=l==u,!i||!o)return r?0:!i^n?1:-1;if(!r)return l>u^n?1:-1;for(a=(l=i.length)<(u=o.length)?l:u,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^n?1:-1;return l==u?0:l>u^n?1:-1}function v(e,t,n,r){if(e<t||e>n||e!==a(e))throw Error(l+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function A(e){var t=e.c.length-1;return _(e.e/d)==t&&e.c[t]%2!=0}function y(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function w(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}i=function e(t){var n,r,i,C,x,E,k,S,I,T,D=z.prototype={constructor:z,toString:null,valueOf:null},B=new z(1),M=20,N=4,L=-7,V=21,R=-1e7,O=1e7,P=!1,j=1,F=0,U={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},H="0123456789abcdefghijklmnopqrstuvwxyz";function z(e,t){var n,s,l,c,p,f,m,_,g=this;if(!(g instanceof z))return new z(e,t);if(null==t){if(e&&!0===e._isBigNumber)return g.s=e.s,void(!e.c||e.e>O?g.c=g.e=null:e.e<R?g.c=[g.e=0]:(g.e=e.e,g.c=e.c.slice()));if((f="number"==typeof e)&&0*e==0){if(g.s=1/e<0?(e=-e,-1):1,e===~~e){for(c=0,p=e;p>=10;p/=10,c++);return void(c>O?g.c=g.e=null:(g.e=c,g.c=[e]))}_=String(e)}else{if(!o.test(_=String(e)))return i(g,_,f);g.s=45==_.charCodeAt(0)?(_=_.slice(1),-1):1}(c=_.indexOf("."))>-1&&(_=_.replace(".","")),(p=_.search(/e/i))>0?(c<0&&(c=p),c+=+_.slice(p+1),_=_.substring(0,p)):c<0&&(c=_.length)}else{if(v(t,2,H.length,"Base"),10==t)return G(g=new z(e),M+g.e+1,N);if(_=String(e),f="number"==typeof e){if(0*e!=0)return i(g,_,f,t);if(g.s=1/e<0?(_=_.slice(1),-1):1,z.DEBUG&&_.replace(/^0\.0*|\./,"").length>15)throw Error(u+e)}else g.s=45===_.charCodeAt(0)?(_=_.slice(1),-1):1;for(n=H.slice(0,t),c=p=0,m=_.length;p<m;p++)if(n.indexOf(s=_.charAt(p))<0){if("."==s){if(p>c){c=m;continue}}else if(!l&&(_==_.toUpperCase()&&(_=_.toLowerCase())||_==_.toLowerCase()&&(_=_.toUpperCase()))){l=!0,p=-1,c=0;continue}return i(g,String(e),f,t)}f=!1,(c=(_=r(_,t,10,g.s)).indexOf("."))>-1?_=_.replace(".",""):c=_.length}for(p=0;48===_.charCodeAt(p);p++);for(m=_.length;48===_.charCodeAt(--m););if(_=_.slice(p,++m)){if(m-=p,f&&z.DEBUG&&m>15&&(e>h||e!==a(e)))throw Error(u+g.s*e);if((c=c-p-1)>O)g.c=g.e=null;else if(c<R)g.c=[g.e=0];else{if(g.e=c,g.c=[],p=(c+1)%d,c<0&&(p+=d),p<m){for(p&&g.c.push(+_.slice(0,p)),m-=d;p<m;)g.c.push(+_.slice(p,p+=d));p=d-(_=_.slice(p)).length}else p-=m;for(;p--;_+="0");g.c.push(+_)}}else g.c=[g.e=0]}function q(e,t,n,r){var i,o,s,a,l;if(null==n?n=N:v(n,0,8),!e.c)return e.toString();if(i=e.c[0],s=e.e,null==t)l=g(e.c),l=1==r||2==r&&(s<=L||s>=V)?y(l,s):w(l,s,"0");else if(o=(e=G(new z(e),t,n)).e,a=(l=g(e.c)).length,1==r||2==r&&(t<=o||o<=L)){for(;a<t;l+="0",a++);l=y(l,o)}else if(t-=s,l=w(l,o,"0"),o+1>a){if(--t>0)for(l+=".";t--;l+="0");}else if((t+=o-a)>0)for(o+1==a&&(l+=".");t--;l+="0");return e.s<0&&i?"-"+l:l}function W(e,t){for(var n,r=1,i=new z(e[0]);r<e.length;r++){if(!(n=new z(e[r])).s){i=n;break}t.call(i,n)&&(i=n)}return i}function Y(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+n*d-1)>O?e.c=e.e=null:n<R?e.c=[e.e=0]:(e.e=n,e.c=t),e}function G(e,t,n,r){var i,o,l,u,h,f,m,_=e.c,g=p;if(_){e:{for(i=1,u=_[0];u>=10;u/=10,i++);if((o=t-i)<0)o+=d,l=t,m=(h=_[f=0])/g[i-l-1]%10|0;else if((f=s((o+1)/d))>=_.length){if(!r)break e;for(;_.length<=f;_.push(0));h=m=0,i=1,l=(o%=d)-d+1}else{for(h=u=_[f],i=1;u>=10;u/=10,i++);m=(l=(o%=d)-d+i)<0?0:h/g[i-l-1]%10|0}if(r=r||t<0||null!=_[f+1]||(l<0?h:h%g[i-l-1]),r=n<4?(m||r)&&(0==n||n==(e.s<0?3:2)):m>5||5==m&&(4==n||r||6==n&&(o>0?l>0?h/g[i-l]:0:_[f-1])%10&1||n==(e.s<0?8:7)),t<1||!_[0])return _.length=0,r?(t-=e.e+1,_[0]=g[(d-t%d)%d],e.e=-t||0):_[0]=e.e=0,e;if(0==o?(_.length=f,u=1,f--):(_.length=f+1,u=g[d-o],_[f]=l>0?a(h/g[i-l]%g[l])*u:0),r)for(;;){if(0==f){for(o=1,l=_[0];l>=10;l/=10,o++);for(l=_[0]+=u,u=1;l>=10;l/=10,u++);o!=u&&(e.e++,_[0]==c&&(_[0]=1));break}if(_[f]+=u,_[f]!=c)break;_[f--]=0,u=1}for(o=_.length;0===_[--o];_.pop());}e.e>O?e.c=e.e=null:e.e<R&&(e.c=[e.e=0])}return e}function Q(e){var t,n=e.e;return null===n?e.toString():(t=g(e.c),t=n<=L||n>=V?y(t,n):w(t,n,"0"),e.s<0?"-"+t:t)}return z.clone=e,z.ROUND_UP=0,z.ROUND_DOWN=1,z.ROUND_CEIL=2,z.ROUND_FLOOR=3,z.ROUND_HALF_UP=4,z.ROUND_HALF_DOWN=5,z.ROUND_HALF_EVEN=6,z.ROUND_HALF_CEIL=7,z.ROUND_HALF_FLOOR=8,z.EUCLID=9,z.config=z.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(l+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(v(n=e[t],0,m,t),M=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(v(n=e[t],0,8,t),N=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(v(n[0],-m,0,t),v(n[1],0,m,t),L=n[0],V=n[1]):(v(n,-m,m,t),L=-(V=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)v(n[0],-m,-1,t),v(n[1],1,m,t),R=n[0],O=n[1];else{if(v(n,-m,m,t),!n)throw Error(l+t+" cannot be zero: "+n);R=-(O=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(l+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw P=!n,Error(l+"crypto unavailable");P=n}else P=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(v(n=e[t],0,9,t),j=n),e.hasOwnProperty(t="POW_PRECISION")&&(v(n=e[t],0,m,t),F=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(l+t+" not an object: "+n);U=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(l+t+" invalid: "+n);H=n}}return{DECIMAL_PLACES:M,ROUNDING_MODE:N,EXPONENTIAL_AT:[L,V],RANGE:[R,O],CRYPTO:P,MODULO_MODE:j,POW_PRECISION:F,FORMAT:U,ALPHABET:H}},z.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!z.DEBUG)return!0;var t,n,r=e.c,i=e.e,o=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===o||-1===o)&&i>=-m&&i<=m&&i===a(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break e}if((t=(i+1)%d)<1&&(t+=d),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=c||n!==a(n))break e;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===o||1===o||-1===o))return!0;throw Error(l+"Invalid BigNumber: "+e)},z.maximum=z.max=function(){return W(arguments,D.lt)},z.minimum=z.min=function(){return W(arguments,D.gt)},z.random=(C=9007199254740992,x=Math.random()*C&2097151?function(){return a(Math.random()*C)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,i,o,u=0,c=[],h=new z(B);if(null==e?e=M:v(e,0,m),i=s(e/d),P)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(i*=2));u<i;)(o=131072*t[u]+(t[u+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[u]=n[0],t[u+1]=n[1]):(c.push(o%1e14),u+=2);u=i/2}else{if(!crypto.randomBytes)throw P=!1,Error(l+"crypto unavailable");for(t=crypto.randomBytes(i*=7);u<i;)(o=281474976710656*(31&t[u])+1099511627776*t[u+1]+4294967296*t[u+2]+16777216*t[u+3]+(t[u+4]<<16)+(t[u+5]<<8)+t[u+6])>=9e15?crypto.randomBytes(7).copy(t,u):(c.push(o%1e14),u+=7);u=i/7}if(!P)for(;u<i;)(o=x())<9e15&&(c[u++]=o%1e14);for(i=c[--u],e%=d,i&&e&&(o=p[d-e],c[u]=a(i/o)*o);0===c[u];c.pop(),u--);if(u<0)c=[r=0];else{for(r=-1;0===c[0];c.splice(0,1),r-=d);for(u=1,o=c[0];o>=10;o/=10,u++);u<d&&(r-=d-u)}return h.e=r,h.c=c,h}),z.sum=function(){for(var e=1,t=arguments,n=new z(t[0]);e<t.length;)n=n.plus(t[e++]);return n},r=function(){var e="0123456789";function t(e,t,n,r){for(var i,o,s=[0],a=0,l=e.length;a<l;){for(o=s.length;o--;s[o]*=t);for(s[0]+=r.indexOf(e.charAt(a++)),i=0;i<s.length;i++)s[i]>n-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/n|0,s[i]%=n)}return s.reverse()}return function(r,i,o,s,a){var l,u,c,d,h,p,f,m,_=r.indexOf("."),b=M,v=N;for(_>=0&&(d=F,F=0,r=r.replace(".",""),p=(m=new z(i)).pow(r.length-_),F=d,m.c=t(w(g(p.c),p.e,"0"),10,o,e),m.e=m.c.length),c=d=(f=t(r,i,o,a?(l=H,e):(l=e,H))).length;0==f[--d];f.pop());if(!f[0])return l.charAt(0);if(_<0?--c:(p.c=f,p.e=c,p.s=s,f=(p=n(p,m,b,v,o)).c,h=p.r,c=p.e),_=f[u=c+b+1],d=o/2,h=h||u<0||null!=f[u+1],h=v<4?(null!=_||h)&&(0==v||v==(p.s<0?3:2)):_>d||_==d&&(4==v||h||6==v&&1&f[u-1]||v==(p.s<0?8:7)),u<1||!f[0])r=h?w(l.charAt(1),-b,l.charAt(0)):l.charAt(0);else{if(f.length=u,h)for(--o;++f[--u]>o;)f[u]=0,u||(++c,f=[1].concat(f));for(d=f.length;!f[--d];);for(_=0,r="";_<=d;r+=l.charAt(f[_++]));r=w(r,c,l.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,i,o,s,a=0,l=e.length,u=t%f,c=t/f|0;for(e=e.slice();l--;)a=((i=u*(o=e[l]%f)+(r=c*o+(s=e[l]/f|0)*u)%f*f+a)/n|0)+(r/f|0)+c*s,e[l]=i%n;return a&&(e=[a].concat(e)),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,i,o,s,l){var u,h,p,f,m,g,b,v,A,y,w,C,x,E,k,S,I,T=r.s==i.s?1:-1,D=r.c,B=i.c;if(!(D&&D[0]&&B&&B[0]))return new z(r.s&&i.s&&(D?!B||D[0]!=B[0]:B)?D&&0==D[0]||!B?0*T:T/0:NaN);for(A=(v=new z(T)).c=[],T=o+(h=r.e-i.e)+1,l||(l=c,h=_(r.e/d)-_(i.e/d),T=T/d|0),p=0;B[p]==(D[p]||0);p++);if(B[p]>(D[p]||0)&&h--,T<0)A.push(1),f=!0;else{for(E=D.length,S=B.length,p=0,T+=2,(m=a(l/(B[0]+1)))>1&&(B=e(B,m,l),D=e(D,m,l),S=B.length,E=D.length),x=S,w=(y=D.slice(0,S)).length;w<S;y[w++]=0);I=B.slice(),I=[0].concat(I),k=B[0],B[1]>=l/2&&k++;do{if(m=0,(u=t(B,y,S,w))<0){if(C=y[0],S!=w&&(C=C*l+(y[1]||0)),(m=a(C/k))>1)for(m>=l&&(m=l-1),b=(g=e(B,m,l)).length,w=y.length;1==t(g,y,b,w);)m--,n(g,S<b?I:B,b,l),b=g.length,u=1;else 0==m&&(u=m=1),b=(g=B.slice()).length;if(b<w&&(g=[0].concat(g)),n(y,g,w,l),w=y.length,-1==u)for(;t(B,y,S,w)<1;)m++,n(y,S<w?I:B,w,l),w=y.length}else 0===u&&(m++,y=[0]);A[p++]=m,y[0]?y[w++]=D[x]||0:(y=[D[x]],w=1)}while((x++<E||null!=y[0])&&T--);f=null!=y[0],A[0]||A.splice(0,1)}if(l==c){for(p=1,T=A[0];T>=10;T/=10,p++);G(v,o+(v.e=p+h*d-1)+1,s,f)}else v.e=h,v.r=+f;return v}}(),E=/^(-?)0([xbo])(?=\w[\w.]*$)/i,k=/^([^.]+)\.$/,S=/^\.([^.]+)$/,I=/^-?(Infinity|NaN)$/,T=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(e,t,n,r){var i,o=n?t:t.replace(T,"");if(I.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!n&&(o=o.replace(E,function(e,t,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?e:t}),r&&(i=r,o=o.replace(k,"$1").replace(S,"0.$1")),t!=o))return new z(o,i);if(z.DEBUG)throw Error(l+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},D.absoluteValue=D.abs=function(){var e=new z(this);return e.s<0&&(e.s=1),e},D.comparedTo=function(e,t){return b(this,new z(e,t))},D.decimalPlaces=D.dp=function(e,t){var n,r,i,o=this;if(null!=e)return v(e,0,m),null==t?t=N:v(t,0,8),G(new z(o),e+o.e+1,t);if(!(n=o.c))return null;if(r=((i=n.length-1)-_(this.e/d))*d,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},D.dividedBy=D.div=function(e,t){return n(this,new z(e,t),M,N)},D.dividedToIntegerBy=D.idiv=function(e,t){return n(this,new z(e,t),0,1)},D.exponentiatedBy=D.pow=function(e,t){var n,r,i,o,u,c,h,p,f=this;if((e=new z(e)).c&&!e.isInteger())throw Error(l+"Exponent not an integer: "+Q(e));if(null!=t&&(t=new z(t)),u=e.e>14,!f.c||!f.c[0]||1==f.c[0]&&!f.e&&1==f.c.length||!e.c||!e.c[0])return p=new z(Math.pow(+Q(f),u?2-A(e):+Q(e))),t?p.mod(t):p;if(c=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new z(NaN);(r=!c&&f.isInteger()&&t.isInteger())&&(f=f.mod(t))}else{if(e.e>9&&(f.e>0||f.e<-1||(0==f.e?f.c[0]>1||u&&f.c[1]>=24e7:f.c[0]<8e13||u&&f.c[0]<=9999975e7)))return o=f.s<0&&A(e)?-0:0,f.e>-1&&(o=1/o),new z(c?1/o:o);F&&(o=s(F/d+2))}for(u?(n=new z(.5),c&&(e.s=1),h=A(e)):h=(i=Math.abs(+Q(e)))%2,p=new z(B);;){if(h){if(!(p=p.times(f)).c)break;o?p.c.length>o&&(p.c.length=o):r&&(p=p.mod(t))}if(i){if(0===(i=a(i/2)))break;h=i%2}else if(G(e=e.times(n),e.e+1,1),e.e>14)h=A(e);else{if(0===(i=+Q(e)))break;h=i%2}f=f.times(f),o?f.c&&f.c.length>o&&(f.c.length=o):r&&(f=f.mod(t))}return r?p:(c&&(p=B.div(p)),t?p.mod(t):o?G(p,F,N,void 0):p)},D.integerValue=function(e){var t=new z(this);return null==e?e=N:v(e,0,8),G(t,t.e+1,e)},D.isEqualTo=D.eq=function(e,t){return 0===b(this,new z(e,t))},D.isFinite=function(){return!!this.c},D.isGreaterThan=D.gt=function(e,t){return b(this,new z(e,t))>0},D.isGreaterThanOrEqualTo=D.gte=function(e,t){return 1===(t=b(this,new z(e,t)))||0===t},D.isInteger=function(){return!!this.c&&_(this.e/d)>this.c.length-2},D.isLessThan=D.lt=function(e,t){return b(this,new z(e,t))<0},D.isLessThanOrEqualTo=D.lte=function(e,t){return-1===(t=b(this,new z(e,t)))||0===t},D.isNaN=function(){return!this.s},D.isNegative=function(){return this.s<0},D.isPositive=function(){return this.s>0},D.isZero=function(){return!!this.c&&0==this.c[0]},D.minus=function(e,t){var n,r,i,o,s=this,a=s.s;if(t=(e=new z(e,t)).s,!a||!t)return new z(NaN);if(a!=t)return e.s=-t,s.plus(e);var l=s.e/d,u=e.e/d,h=s.c,p=e.c;if(!l||!u){if(!h||!p)return h?(e.s=-t,e):new z(p?s:NaN);if(!h[0]||!p[0])return p[0]?(e.s=-t,e):new z(h[0]?s:3==N?-0:0)}if(l=_(l),u=_(u),h=h.slice(),a=l-u){for((o=a<0)?(a=-a,i=h):(u=l,i=p),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(r=(o=(a=h.length)<(t=p.length))?a:t,a=t=0;t<r;t++)if(h[t]!=p[t]){o=h[t]<p[t];break}if(o&&(i=h,h=p,p=i,e.s=-e.s),(t=(r=p.length)-(n=h.length))>0)for(;t--;h[n++]=0);for(t=c-1;r>a;){if(h[--r]<p[r]){for(n=r;n&&!h[--n];h[n]=t);--h[n],h[r]+=c}h[r]-=p[r]}for(;0==h[0];h.splice(0,1),--u);return h[0]?Y(e,h,u):(e.s=3==N?-1:1,e.c=[e.e=0],e)},D.modulo=D.mod=function(e,t){var r,i,o=this;return e=new z(e,t),!o.c||!e.s||e.c&&!e.c[0]?new z(NaN):!e.c||o.c&&!o.c[0]?new z(o):(9==j?(i=e.s,e.s=1,r=n(o,e,0,3),e.s=i,r.s*=i):r=n(o,e,0,j),(e=o.minus(r.times(e))).c[0]||1!=j||(e.s=o.s),e)},D.multipliedBy=D.times=function(e,t){var n,r,i,o,s,a,l,u,h,p,m,g,b,v,A,y=this,w=y.c,C=(e=new z(e,t)).c;if(!(w&&C&&w[0]&&C[0]))return!y.s||!e.s||w&&!w[0]&&!C||C&&!C[0]&&!w?e.c=e.e=e.s=null:(e.s*=y.s,w&&C?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=_(y.e/d)+_(e.e/d),e.s*=y.s,(l=w.length)<(p=C.length)&&(b=w,w=C,C=b,i=l,l=p,p=i),i=l+p,b=[];i--;b.push(0));for(v=c,A=f,i=p;--i>=0;){for(n=0,m=C[i]%A,g=C[i]/A|0,o=i+(s=l);o>i;)n=((u=m*(u=w[--s]%A)+(a=g*u+(h=w[s]/A|0)*m)%A*A+b[o]+n)/v|0)+(a/A|0)+g*h,b[o--]=u%v;b[o]=n}return n?++r:b.splice(0,1),Y(e,b,r)},D.negated=function(){var e=new z(this);return e.s=-e.s||null,e},D.plus=function(e,t){var n,r=this,i=r.s;if(t=(e=new z(e,t)).s,!i||!t)return new z(NaN);if(i!=t)return e.s=-t,r.minus(e);var o=r.e/d,s=e.e/d,a=r.c,l=e.c;if(!o||!s){if(!a||!l)return new z(i/0);if(!a[0]||!l[0])return l[0]?e:new z(a[0]?r:0*i)}if(o=_(o),s=_(s),a=a.slice(),i=o-s){for(i>0?(s=o,n=l):(i=-i,n=a),n.reverse();i--;n.push(0));n.reverse()}for((i=a.length)-(t=l.length)<0&&(n=l,l=a,a=n,t=i),i=0;t;)i=(a[--t]=a[t]+l[t]+i)/c|0,a[t]=c===a[t]?0:a[t]%c;return i&&(a=[i].concat(a),++s),Y(e,a,s)},D.precision=D.sd=function(e,t){var n,r,i,o=this;if(null!=e&&e!==!!e)return v(e,1,m),null==t?t=N:v(t,0,8),G(new z(o),e,t);if(!(n=o.c))return null;if(r=(i=n.length-1)*d+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return e&&o.e+1>r&&(r=o.e+1),r},D.shiftedBy=function(e){return v(e,-9007199254740991,h),this.times("1e"+e)},D.squareRoot=D.sqrt=function(){var e,t,r,i,o,s=this,a=s.c,l=s.s,u=s.e,c=M+4,d=new z("0.5");if(1!==l||!a||!a[0])return new z(!l||l<0&&(!a||a[0])?NaN:a?s:1/0);if(0==(l=Math.sqrt(+Q(s)))||l==1/0?(((t=g(a)).length+u)%2==0&&(t+="0"),l=Math.sqrt(+t),u=_((u+1)/2)-(u<0||u%2),r=new z(t=l==1/0?"5e"+u:(t=l.toExponential()).slice(0,t.indexOf("e")+1)+u)):r=new z(l+""),r.c[0])for((l=(u=r.e)+c)<3&&(l=0);;)if(o=r,r=d.times(o.plus(n(s,o,c,1))),g(o.c).slice(0,l)===(t=g(r.c)).slice(0,l)){if(r.e<u&&--l,"9999"!=(t=t.slice(l-3,l+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(G(r,r.e+M+2,1),e=!r.times(r).eq(s));break}if(!i&&(G(o,o.e+M+2,0),o.times(o).eq(s))){r=o;break}c+=4,l+=4,i=1}return G(r,r.e+M+1,N,e)},D.toExponential=function(e,t){return null!=e&&(v(e,0,m),e++),q(this,e,t,1)},D.toFixed=function(e,t){return null!=e&&(v(e,0,m),e=e+this.e+1),q(this,e,t)},D.toFormat=function(e,t,n){var r,i=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=U;else if("object"!=typeof n)throw Error(l+"Argument not an object: "+n);if(r=i.toFixed(e,t),i.c){var o,s=r.split("."),a=+n.groupSize,u=+n.secondaryGroupSize,c=n.groupSeparator||"",d=s[0],h=s[1],p=i.s<0,f=p?d.slice(1):d,m=f.length;if(u&&(o=a,a=u,u=o,m-=o),a>0&&m>0){for(o=m%a||a,d=f.substr(0,o);o<m;o+=a)d+=c+f.substr(o,a);u>0&&(d+=c+f.slice(o)),p&&(d="-"+d)}r=h?d+(n.decimalSeparator||"")+((u=+n.fractionGroupSize)?h.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):h):d}return(n.prefix||"")+r+(n.suffix||"")},D.toFraction=function(e){var t,r,i,o,s,a,u,c,h,f,m,_,b=this,v=b.c;if(null!=e&&(!(u=new z(e)).isInteger()&&(u.c||1!==u.s)||u.lt(B)))throw Error(l+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+Q(u));if(!v)return new z(b);for(t=new z(B),h=r=new z(B),i=c=new z(B),_=g(v),s=t.e=_.length-b.e-1,t.c[0]=p[(a=s%d)<0?d+a:a],e=!e||u.comparedTo(t)>0?s>0?t:h:u,a=O,O=1/0,u=new z(_),c.c[0]=0;f=n(u,t,0,1),1!=(o=r.plus(f.times(i))).comparedTo(e);)r=i,i=o,h=c.plus(f.times(o=h)),c=o,t=u.minus(f.times(o=t)),u=o;return o=n(e.minus(r),i,0,1),c=c.plus(o.times(h)),r=r.plus(o.times(i)),c.s=h.s=b.s,m=n(h,i,s*=2,N).minus(b).abs().comparedTo(n(c,r,s,N).minus(b).abs())<1?[h,i]:[c,r],O=a,m},D.toNumber=function(){return+Q(this)},D.toPrecision=function(e,t){return null!=e&&v(e,1,m),q(this,e,t,2)},D.toString=function(e){var t,n=this,i=n.s,o=n.e;return null===o?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(null==e?t=o<=L||o>=V?y(g(n.c),o):w(g(n.c),o,"0"):10===e?t=w(g((n=G(new z(n),M+o+1,N)).c),n.e,"0"):(v(e,2,H.length,"Base"),t=r(w(g(n.c),o,"0"),10,e,i,!0)),i<0&&n.c[0]&&(t="-"+t)),t},D.valueOf=D.toJSON=function(){return Q(this)},D._isBigNumber=!0,null!=t&&z.set(t),z}(),i.default=i.BigNumber=i,void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}()},9844:(e,t,n)=>{"use strict";var r=n(1654);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(6583)),o=r(n(9131)),s=r(n(8463)),a=r(n(5985)),l=r(n(1680)),u=r(n(3281)),c=function(){function e(t){var r=this,s=t.key,c=t.getAfromB,d=t.getBfromA,h=t.storage,p=t.saveThrottle,f=t.maxLimit,m=t.maxAge;(0,o.default)(this,e),(0,a.default)(this,"_key",void 0),(0,a.default)(this,"_getAfromB",void 0),(0,a.default)(this,"_getBfromA",void 0),(0,a.default)(this,"_storage",void 0),(0,a.default)(this,"_aToTimestamp",new Map),(0,a.default)(this,"_aToB",new Map),(0,a.default)(this,"_bToA",new Map),(0,a.default)(this,"_aToBpromise",new Map),(0,a.default)(this,"_bToApromise",new Map),(0,a.default)(this,"_saveCache",void 0),this._key=s,this._getBfromA=d,this._getAfromB=c,this._storage=h||(n.g.localStorage?n.g.localStorage:null),null==p&&(p=3e3),null==f&&(f=1e3),null==m&&(m=31536e6);var _=f,g=m;this._saveCache=(0,l.default)(function(){var e=r._storage;if(e){r._loadCache();var t=Date.now()-g,n={version:2,ids:[]};r._aToB.forEach(function(e,i){var o=r._aToTimestamp.get(i);null!=o&&o>t&&n.ids.push([i,e,o])}),n.ids.length>_&&(n.ids=(0,u.default)(n.ids,function(e){return(0,i.default)(e,3)[2]}).slice(-_)),e.setItem(r._key,JSON.stringify(n))}},p,{leading:!1}),this._loadCache()}return(0,s.default)(e,[{key:"_loadCache",value:function(){var e=this._storage;if(e)try{var t=JSON.parse(e.getItem(this._key)||"null");if(!t||2!==t.version)return;var n=!0,r=!1,o=void 0;try{for(var s,a=t.ids[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var l=s.value,u=(0,i.default)(l,3),c=u[0],d=u[1],h=u[2];this._aToTimestamp.set(c,h),this._aToB.set(c,d),this._bToA.set(d,c)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}catch(e){console.error("failed to load BiMapCache from storage",e)}}},{key:"_rememberPair",value:function(e,t){this._aToTimestamp.set(e,Date.now()),this._aToB.set(e,t),this._bToA.set(t,e),this._saveCache()}},{key:"_update",value:function(e){this._aToTimestamp.set(e,Date.now()),this._saveCache()}},{key:"getBfromA",value:function(e){var t=this,n=this._aToB.get(e);if(n)return this._update(e),Promise.resolve(n);var r=this._aToBpromise.get(e);if(r)return r;var i=this._getBfromA(e);return this._aToBpromise.set(e,i),i.then(function(n){i===t._aToBpromise.get(e)&&(t._aToBpromise.delete(e),t._rememberPair(e,n))},function(){i===t._aToBpromise.get(e)&&t._aToBpromise.delete(e)}),i}},{key:"getAfromB",value:function(e){var t=this,n=this._bToA.get(e);if(n)return this._update(n),Promise.resolve(n);var r=this._bToApromise.get(e);if(r)return r;var i=this._getAfromB(e);return this._bToApromise.set(e,i),i.then(function(n){i===t._bToApromise.get(e)&&(t._bToApromise.delete(e),t._rememberPair(n,e))},function(){i===t._bToApromise.get(e)&&t._bToApromise.delete(e)}),i}},{key:"removeAfromCache",value:function(e){if(this._aToBpromise.delete(e),this._aToB.has(e)){var t=this._aToB.get(e);this._aToB.delete(e),this._bToA.delete(t),this._saveCache()}}},{key:"removeBfromCache",value:function(e){if(this._bToApromise.delete(e),this._bToA.has(e)){var t=this._bToA.get(e);this._aToB.delete(t),this._bToA.delete(e),this._saveCache()}}}]),e}();t.default=c,e.exports=t.default,e.exports.default=t.default},2313:(e,t,n)=>{"use strict";const r=n(2504),i=n(9029),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return u(e,t,n)}function u(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|m(e,t);let r=a(n);const i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if($(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if($(e,ArrayBuffer)||e&&$(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&($(e,SharedArrayBuffer)||e&&$(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,t,n);const i=function(e){if(l.isBuffer(e)){const t=0|f(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||K(e.length)?a(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return c(e),a(e<0?0:0|f(e))}function h(e){const t=e.length<0?0:0|f(e.length),n=a(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,l.prototype),r}function f(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function m(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||$(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return Y(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(e).length;default:if(i)return r?-1:Y(e).length;t=(""+t).toLowerCase(),i=!0}}function _(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return I(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),K(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){let o,s=1,a=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,n/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let r=-1;for(o=n;o<a;o++)if(u(e,o)===u(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===l)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+l>a&&(n=a-l),o=n;o>=0;o--){let n=!0;for(let r=0;r<l;r++)if(u(e,o+r)!==u(t,r)){n=!1;break}if(n)return o}return-1}function A(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=t.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(t.substr(2*s,2),16);if(K(r))return s;e[n+s]=r}return s}function y(e,t,n,r){return Q(Y(t,e.length-n),e,n,r)}function w(e,t,n,r){return Q(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function C(e,t,n,r){return Q(G(t),e,n,r)}function x(e,t,n,r){return Q(function(e,t){let n,r,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=n){let n,r,a,l;switch(s){case 1:t<128&&(o=t);break;case 2:n=e[i+1],128==(192&n)&&(l=(31&t)<<6|63&n,l>127&&(o=l));break;case 3:n=e[i+1],r=e[i+2],128==(192&n)&&128==(192&r)&&(l=(15&t)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:n=e[i+1],r=e[i+2],a=e[i+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,l>65535&&l<1114112&&(o=l))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(e){const t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=S));return n}(r)}t.kMaxLength=s,l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return c(e),e<=0?a(e):void 0!==t?"string"==typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},l.allocUnsafe=function(e){return d(e)},l.allocUnsafeSlow=function(e){return d(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if($(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),$(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=l.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if($(t,Uint8Array))i+t.length>r.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?k(this,0,e):_.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(e,t,n,r,i){if($(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0);const a=Math.min(o,s),u=this.slice(r,i),c=e.slice(t,n);for(let e=0;e<a;++e)if(u[e]!==c[e]){o=u[e],s=c[e];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return A(this,e,t,n);case"utf8":case"utf-8":return y(this,e,t,n);case"ascii":case"latin1":case"binary":return w(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const S=4096;function I(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function T(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function D(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=t;r<n;++r)i+=J[e[r]];return i}function B(e,t,n){const r=e.slice(t,n);let i="";for(let e=0;e<r.length-1;e+=2)i+=String.fromCharCode(r[e]+256*r[e+1]);return i}function M(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function L(e,t,n,r,i){H(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function V(e,t,n,r,i){H(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function R(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function O(e,t,n,r,o){return t=+t,n>>>=0,o||R(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function P(e,t,n,r,o){return t=+t,n>>>=0,o||R(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=Z(function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))}),l.prototype.readBigUInt64BE=Z(function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)}),l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);let r=t,i=1,o=this[e+--r];for(;r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||M(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||M(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=Z(function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)}),l.prototype.readBigInt64BE=Z(function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)}),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||M(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||M(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||M(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||M(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||N(this,e,t,n,Math.pow(2,8*n)-1,0);let i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||N(this,e,t,n,Math.pow(2,8*n)-1,0);let i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=Z(function(e,t=0){return L(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=Z(function(e,t=0){return V(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);N(this,e,t,n,r-1,-r)}let i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);N(this,e,t,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=Z(function(e,t=0){return L(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=Z(function(e,t=0){return V(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeFloatLE=function(e,t,n){return O(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return O(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return P(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return P(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{const o=l.isBuffer(e)?e:l.from(e,r),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%s]}return this};const j={};function F(e,t,n){j[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function U(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function H(e,t,n,r,i,o){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new j.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){z(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||q(t,e.length-(n+1))}(r,i,o)}function z(e,t){if("number"!=typeof e)throw new j.ERR_INVALID_ARG_TYPE(t,"number",e)}function q(e,t,n){if(Math.floor(e)!==e)throw z(e,n),new j.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new j.ERR_BUFFER_OUT_OF_BOUNDS;throw new j.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}F("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),F("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),F("ERR_OUT_OF_RANGE",function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=U(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=U(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r},RangeError);const W=/[^+/0-9A-Za-z-_]/g;function Y(e,t){let n;t=t||1/0;const r=e.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function G(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Q(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function $(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function K(e){return e!=e}const J=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function Z(e){return"undefined"==typeof BigInt?X:e}function X(){throw new Error("BigInt not supported")}},5755:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var s=i.apply(null,n);s&&e.push(s)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var a in n)r.call(n,a)&&n[a]&&e.push(a);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},6401:(e,t,n)=>{"use strict";e.exports=function(e,t){var n=this,r=n.constructor;return n.callbacks={},n.activeSequences=[],n.resetTimer,n.ignoreNextKeyup=!1,n.ignoreNextKeypress=!1,n.nextExpectedAction=!1,n.element=e,n.addEvents(t),r.instances.push(n),n},e.exports.prototype.bind=n(4830),e.exports.prototype.bindMultiple=n(9829),e.exports.prototype.trigger=n(9240),e.exports.prototype.reset=n(8967),e.exports.prototype.stopCallback=n(8873),e.exports.prototype.handleKey=n(1605),e.exports.prototype.addEvents=n(486),e.exports.prototype.bindSingle=n(4041),e.exports.prototype.getKeyInfo=n(553),e.exports.prototype.pickBestAction=n(2867),e.exports.prototype.getReverseMap=n(7752),e.exports.prototype.getMatches=n(3763),e.exports.prototype.resetSequences=n(4101),e.exports.prototype.fireCallback=n(8805),e.exports.prototype.bindSequence=n(8844),e.exports.prototype.resetSequenceTimer=n(4173),e.exports.instances=[],e.exports.reset=n(870),e.exports.REVERSE_MAP=null},486:(e,t,n)=>{"use strict";e.exports=function(e){var t,r,i,o=this.element;r=n(1254),(t=n(7193))(o,"keypress",i=r.bind(this),e),t(o,"keydown",i,e),t(o,"keyup",i,e)}},4830:e=>{"use strict";e.exports=function(e,t,n){return e=e instanceof Array?e:[e],this.bindMultiple(e,t,n)}},9829:e=>{"use strict";e.exports=function(e,t,n){for(var r=[],i=0;i<e.length;++i)r.push(this.bindSingle(e[i],t,n));return function(){for(var e=0;e<r.length;e++)r[e]()}}},8844:(e,t,n)=>{"use strict";e.exports=function(e,t,r,i){var o=this;function s(e){return function(){return o.nextExpectedAction=e,++r.currentLevel,o.resetSequenceTimer(),!0}}function a(t){var s;o.fireCallback(r,t,e),"keyup"!==i&&(s=n(7625),o.ignoreNextKeyup=s(t)),setTimeout(function(){o.resetSequences()},10)}r.currentLevel=0;for(var l=[],u=0;u<t.length;++u){var c=u+1===t.length?a:s(i||o.getKeyInfo(t[u+1]).action);l.push(o.bindSingle(t[u],c,i,e,u,r))}return function(){for(var e=0;e<l.length;e++)l[e]()}}},4041:e=>{"use strict";e.exports=function(e,t,n,r,i,o){var s,a=this,l=(e=e.replace(/\s+/g," ")).split(" ");if(l.length>1)return a.bindSequence(e,l,t,n);s=a.getKeyInfo(e,n),a.callbacks[s.key]=a.callbacks[s.key]||{sequences:[],singles:[]};var u=a.callbacks[s.key][r?"sequences":"singles"],c={callback:t,originalCallback:o||t,modifiers:s.modifiers,action:s.action,seq:r,level:i,combo:e};return u.push(c),function(){var e=u.indexOf(c);u.splice(e,1)}}},8805:(e,t,n)=>{"use strict";e.exports=function(e,t,r,i){if(this.stopCallback(t,t.target||t.srcElement,r,i))return!0;var o=e(t,r);return!1===o&&(n(7623)(t),n(696)(t)),o}},553:(e,t,n)=>{"use strict";e.exports=function(e,t){var r,i,o,s,a,l,u=[];for(r=n(7417)(e),s=n(3232),a=n(8385),l=n(973),o=0;o<r.length;++o)s[i=r[o]]&&(i=s[i]),t&&"keypress"!==t&&a[i]&&(i=a[i],u.push("shift")),l(i)&&u.push(i);return{key:i,modifiers:u,action:t=this.pickBestAction(i,u,t)}}},3763:(e,t,n)=>{"use strict";e.exports=function(e,t,r,i,o,s){var a,l,u,c=this,d=[],h=r.type;if(!c.callbacks[e])return[];l=n(973),"keyup"===h&&l(e)&&(t=[e]);var p=c.callbacks[e].sequences.reverse().concat(c.callbacks[e].singles.reverse());for(c.callbacks[e].sequences.reverse(),c.callbacks[e].singles.reverse(),a=0;a<p.length;++a){var f=p[a];!i&&f.seq&&f.originalCallback.currentLevel!==f.level||h===f.action&&(u=n(4069),("keypress"===h&&!r.metaKey&&!r.ctrlKey||u(t,f.modifiers))&&d.push(f))}return d}},7752:(e,t,n)=>{"use strict";e.exports=function(){var e,t=this.constructor;if(!t.REVERSE_MAP)for(var r in t.REVERSE_MAP={},e=n(6037))r>95&&r<112||e.hasOwnProperty(r)&&(t.REVERSE_MAP[e[r]]=r);return t.REVERSE_MAP}},1605:(e,t,n)=>{"use strict";e.exports=function(e,t,r){var i,o,s,a,l=this,u=[],c=0,d=!1;for(i=l.getMatches(e,t,r),o=0;o<i.length;++o)i[o].seq&&(c=Math.max(c,i[o].level));for(o=0;o<i.length;++o)if(i[o].seq){if(i[o].level!==c)continue;if(d=!0,u.push(i[o].originalCallback),!l.fireCallback(i[o].callback,r,i[o].combo,i[o].seq)){u=[];break}}else d||l.fireCallback(i[o].callback,r,i[o].combo);a="keypress"===r.type&&l.ignoreNextKeypress,s=n(973),r.type!==l.nextExpectedAction||s(e)||a||l.resetSequences(u),l.ignoreNextKeypress=d&&"keydown"===r.type}},1254:(e,t,n)=>{"use strict";e.exports=function(e){var t,r=this;"number"!=typeof e.which&&(e.which=e.keyCode);var i=n(7625)(e);i&&("keyup"!==e.type||r.ignoreNextKeyup!==i?(t=n(2490),r.handleKey(i,t(e),e)):r.ignoreNextKeyup=!1)}},4069:e=>{"use strict";e.exports=function(e,t){return e.sort().join(",")===t.sort().join(",")}},2867:e=>{"use strict";e.exports=function(e,t,n){return n||(n=this.getReverseMap()[e]?"keydown":"keypress"),"keypress"===n&&t.length&&(n="keydown"),n}},8967:e=>{"use strict";e.exports=function(){return this.callbacks={},this.directMap={},this}},4173:e=>{"use strict";e.exports=function(){var e=this;clearTimeout(e.resetTimer),e.resetTimer=setTimeout(function(){e.resetSequences()},1e3)}},4101:e=>{"use strict";e.exports=function(e){for(var t in e=e||[],this.callbacks)for(var n=this.callbacks[t].sequences,r=0;r<n.length;r++)-1===e.indexOf(n[r].originalCallback)&&(n[r].originalCallback.currentLevel=0);this.nextExpectedAction=e.length>0}},8873:e=>{"use strict";e.exports=function(e,t){return!((" "+t.className+" ").indexOf(" combokeys ")>-1)&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)}},9240:e=>{"use strict";e.exports=function(e,t){}},870:e=>{"use strict";e.exports=function(){this.instances.forEach(function(e){e.reset()})}},7193:e=>{"use strict";e.exports=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent("on"+t,n)}},7625:(e,t,n)=>{"use strict";e.exports=function(e){var t,r;if(t=n(6037),r=n(5129),"keypress"===e.type){var i=String.fromCharCode(e.which);return e.shiftKey||(i=i.toLowerCase()),i}return t[e.which]?t[e.which]:r[e.which]?r[e.which]:String.fromCharCode(e.which).toLowerCase()}},2490:e=>{"use strict";e.exports=function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}},973:e=>{"use strict";e.exports=function(e){return"shift"===e||"ctrl"===e||"alt"===e||"meta"===e}},7417:e=>{"use strict";e.exports=function(e){return"+"===e?["+"]:e.split("+")}},7623:e=>{"use strict";e.exports=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}},8385:e=>{"use strict";e.exports={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"}},3232:e=>{"use strict";e.exports={option:"alt",command:"meta",return:"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"}},5129:e=>{"use strict";e.exports={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}},6037:e=>{"use strict";e.exports={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",187:"plus",189:"minus",224:"meta"};for(var t=1;t<20;++t)e.exports[111+t]="f"+t;for(t=0;t<=9;++t)e.exports[t+96]=t},696:e=>{"use strict";e.exports=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}},4400:(e,t,n)=>{"use strict";e.exports=n(6401)},5714:(e,t,n)=>{"use strict";var r=n(1654);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){for(var r=s(e),l=s(t),u={all:n.buffer||0,top:n.topBuffer||0,bottom:n.bottomBuffer||0,left:n.leftBuffer||0,right:n.rightBuffer||0},c=Array.isArray(n.position)?n.position:[n.position].filter(Boolean),d=Array.isArray(n.hAlign)?n.hAlign:[n.hAlign].filter(Boolean),h=Array.isArray(n.vAlign)?n.vAlign:[n.vAlign].filter(Boolean),p=c.length>0&&n.forcePosition?c:(0,o.default)(c.concat(["top","bottom","left","right"])),f=d.length>0&&n.forceHAlign?d:(0,o.default)(d.concat(["center","left","right"])),m=h.length>0&&n.forceVAlign?h:(0,o.default)(h.concat(["center","top","bottom"])),_=(0,i.default)(p.map(function(e){return"cover"===e?(0,i.default)(f.map(function(t){return m.map(function(n){return{position:e,hAlign:t,vAlign:n}})})):"top"===e||"bottom"===e?f.map(function(t){return{position:e,hAlign:t,vAlign:"center"}}):m.map(function(t){return{position:e,hAlign:"center",vAlign:t}})})),g=null,b=0;b<_.length;b++){var v=_[b],A=a(r,l,v,u),y=A.top,w=A.left;if(y-u.all-u.top>=0&&w-u.all-u.left>=0&&y+r.height+u.all+u.bottom<=window.innerHeight&&w+r.width+u.all+u.right<=window.innerWidth){g={choice:v,coord:A};break}}if(!g){var C={position:c[0]||"top",hAlign:d[0]||"center",vAlign:h[0]||"center"};g={choice:C,coord:a(r,l,C,u)}}return e.style.top="".concat(g.coord.top,"px"),e.style.left="".concat(g.coord.left,"px"),g.choice};var i=r(n(4176)),o=r(n(1285));function s(e){var t=e.getBoundingClientRect();return"width"in t||(t=Object.assign({width:t.right-t.left,height:t.bottom-t.top},t)),t}function a(e,t,n,r){var i=n.position,o=n.hAlign,s=n.vAlign,a=0,l=0;if("cover"===i){switch(o){case"center":l=Math.round((t.left+t.right-e.width)/2);break;case"left":l=Math.floor(t.left);break;case"right":l=Math.ceil(t.right-e.width);break;default:throw new Error("Should not happen")}switch(s){case"center":a=Math.round((t.top+t.bottom-e.height)/2);break;case"top":a=Math.floor(t.top);break;case"bottom":a=Math.ceil(t.bottom-e.height);break;default:throw new Error("Should not happen")}}else if("top"===i||"bottom"===i){switch(i){case"top":a=Math.floor(t.top-e.height-r.all-r.bottom);break;case"bottom":a=Math.ceil(t.bottom+r.all+r.top);break;default:throw new Error("Should not happen")}switch(o){case"center":l=Math.round((t.left+t.right-e.width)/2);break;case"left":l=Math.round(t.left);break;case"right":l=Math.round(t.right-e.width);break;default:throw new Error("Should not happen")}}else{switch(i){case"left":l=Math.floor(t.left-e.width-r.all-r.right);break;case"right":l=Math.ceil(t.right+r.all+r.left);break;default:throw new Error("Should not happen")}switch(s){case"center":a=Math.round((t.top+t.bottom-e.height)/2);break;case"top":a=Math.round(t.top);break;case"bottom":a=Math.round(t.bottom-e.height);break;default:throw new Error("Should not happen")}}return{top:a,left:l}}e.exports=t.default,e.exports.default=t.default},1364:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(r)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(s[l]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);r&&s[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),t.push(c))}},t}},3615:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},5516:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(i," */");return[t].concat([o]).join("\n")}return[t].join("\n")}},2400:function(e,t,n){var r;!function(){"use strict";var i,o,s,a=9e15,l=1e9,u="0123456789abcdef",c="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",d="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",h={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-a,maxE:a,crypto:!1},p=!0,f="[DecimalError] ",m=f+"Invalid argument: ",_=f+"Precision limit exceeded",g=f+"crypto unavailable",b=Math.floor,v=Math.pow,A=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,y=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,w=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,C=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,x=1e7,E=c.length-1,k=d.length-1,S={name:"[object Decimal]"};function I(e){var t,n,r,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=j(n)),o+=r;(n=7-(r=(s=e[t])+"").length)&&(o+=j(n))}else if(0===s)return"0";for(;s%10==0;)s/=10;return o+s}function T(e,t,n){if(e!==~~e||e<t||e>n)throw Error(m+e)}function D(e,t,n,r){var i,o,s,a;for(o=e[0];o>=10;o/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),o=v(10,7-t),a=e[i]%o|0,null==r?t<3?(0==t?a=a/100|0:1==t&&(a=a/10|0),s=n<4&&99999==a||n>3&&49999==a||5e4==a||0==a):s=(n<4&&a+1==o||n>3&&a+1==o/2)&&(e[i+1]/o/100|0)==v(10,t-2)-1||(a==o/2||0==a)&&!(e[i+1]/o/100|0):t<4?(0==t?a=a/1e3|0:1==t?a=a/100|0:2==t&&(a=a/10|0),s=(r||n<4)&&9999==a||!r&&n>3&&4999==a):s=((r||n<4)&&a+1==o||!r&&n>3&&a+1==o/2)&&(e[i+1]/o/1e3|0)==v(10,t-3)-1,s}function B(e,t,n){for(var r,i,o=[0],s=0,a=e.length;s<a;){for(i=o.length;i--;)o[i]*=t;for(o[0]+=u.indexOf(e.charAt(s++)),r=0;r<o.length;r++)o[r]>n-1&&(void 0===o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}S.absoluteValue=S.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),N(e)},S.ceil=function(){return N(new this.constructor(this),this.e+1,2)},S.comparedTo=S.cmp=function(e){var t,n,r,i,o=this,s=o.d,a=(e=new o.constructor(e)).d,l=o.s,u=e.s;if(!s||!a)return l&&u?l!==u?l:s===a?0:!s^l<0?1:-1:NaN;if(!s[0]||!a[0])return s[0]?l:a[0]?-u:0;if(l!==u)return l;if(o.e!==e.e)return o.e>e.e^l<0?1:-1;for(t=0,n=(r=s.length)<(i=a.length)?r:i;t<n;++t)if(s[t]!==a[t])return s[t]>a[t]^l<0?1:-1;return r===i?0:r>i^l<0?1:-1},S.cosine=S.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r,i=t.d.length;i<32?r=(1/$(4,n=Math.ceil(i/3))).toString():(n=16,r="2.3283064365386962890625e-10"),e.precision+=n,t=Q(e,1,t.times(r),new e(1));for(var o=n;o--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return e.precision-=n,t}(r,K(r,n)),r.precision=e,r.rounding=t,N(2==s||3==s?n.neg():n,e,t,!0)):new r(1):new r(NaN)},S.cubeRoot=S.cbrt=function(){var e,t,n,r,i,o,s,a,l,u,c=this,d=c.constructor;if(!c.isFinite()||c.isZero())return new d(c);for(p=!1,(o=c.s*v(c.s*c,1/3))&&Math.abs(o)!=1/0?r=new d(o.toString()):(n=I(c.d),(o=((e=c.e)-n.length+1)%3)&&(n+=1==o||-2==o?"0":"00"),o=v(n,1/3),e=b((e+1)/3)-(e%3==(e<0?-1:2)),(r=new d(n=o==1/0?"5e"+e:(n=o.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=c.s),s=(e=d.precision)+3;;)if(u=(l=(a=r).times(a).times(a)).plus(c),r=M(u.plus(c).times(a),u.plus(l),s+2,1),I(a.d).slice(0,s)===(n=I(r.d)).slice(0,s)){if("9999"!=(n=n.slice(s-3,s+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(N(r,e+1,1),t=!r.times(r).times(r).eq(c));break}if(!i&&(N(a,e+1,0),a.times(a).times(a).eq(c))){r=a;break}s+=4,i=1}return p=!0,N(r,e,d.rounding,t)},S.decimalPlaces=S.dp=function(){var e,t=this.d,n=NaN;if(t){if(n=7*((e=t.length-1)-b(this.e/7)),e=t[e])for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n},S.dividedBy=S.div=function(e){return M(this,new this.constructor(e))},S.dividedToIntegerBy=S.divToInt=function(e){var t=this.constructor;return N(M(this,new t(e),0,1,1),t.precision,t.rounding)},S.equals=S.eq=function(e){return 0===this.cmp(e)},S.floor=function(){return N(new this.constructor(this),this.e+1,3)},S.greaterThan=S.gt=function(e){return this.cmp(e)>0},S.greaterThanOrEqualTo=S.gte=function(e){var t=this.cmp(e);return 1==t||0===t},S.hyperbolicCosine=S.cosh=function(){var e,t,n,r,i,o=this,s=o.constructor,a=new s(1);if(!o.isFinite())return new s(o.s?1/0:NaN);if(o.isZero())return a;n=s.precision,r=s.rounding,s.precision=n+Math.max(o.e,o.sd())+4,s.rounding=1,(i=o.d.length)<32?t=(1/$(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),o=Q(s,1,o.times(t),new s(1),!0);for(var l,u=e,c=new s(8);u--;)l=o.times(o),o=a.minus(l.times(c.minus(l.times(c))));return N(o,s.precision=n,s.rounding=r,!0)},S.hyperbolicSine=S.sinh=function(){var e,t,n,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(t=o.precision,n=o.rounding,o.precision=t+Math.max(i.e,i.sd())+4,o.rounding=1,(r=i.d.length)<3)i=Q(o,2,i,i,!0);else{e=(e=1.4*Math.sqrt(r))>16?16:0|e,i=Q(o,2,i=i.times(1/$(5,e)),i,!0);for(var s,a=new o(5),l=new o(16),u=new o(20);e--;)s=i.times(i),i=i.times(a.plus(s.times(l.times(s).plus(u))))}return o.precision=t,o.rounding=n,N(i,t,n,!0)},S.hyperbolicTangent=S.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,M(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)},S.inverseCosine=S.acos=function(){var e,t=this,n=t.constructor,r=t.abs().cmp(1),i=n.precision,o=n.rounding;return-1!==r?0===r?t.isNeg()?O(n,i,o):new n(0):new n(NaN):t.isZero()?O(n,i+4,o).times(.5):(n.precision=i+6,n.rounding=1,t=t.asin(),e=O(n,i+4,o).times(.5),n.precision=i,n.rounding=o,e.minus(t))},S.inverseHyperbolicCosine=S.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,p=!1,n=n.times(n).minus(1).sqrt().plus(n),p=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)},S.inverseHyperbolicSine=S.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,p=!1,n=n.times(n).plus(1).sqrt().plus(n),p=!0,r.precision=e,r.rounding=t,n.ln())},S.inverseHyperbolicTangent=S.atanh=function(){var e,t,n,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=o.precision,t=o.rounding,r=i.sd(),Math.max(r,e)<2*-i.e-1?N(new o(i),e,t,!0):(o.precision=n=r-i.e,i=M(i.plus(1),new o(1).minus(i),n+e,1),o.precision=e+4,o.rounding=1,i=i.ln(),o.precision=e,o.rounding=t,i.times(.5))):new o(NaN)},S.inverseSine=S.asin=function(){var e,t,n,r,i=this,o=i.constructor;return i.isZero()?new o(i):(t=i.abs().cmp(1),n=o.precision,r=o.rounding,-1!==t?0===t?((e=O(o,n+4,r).times(.5)).s=i.s,e):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=r,i.times(2)))},S.inverseTangent=S.atan=function(){var e,t,n,r,i,o,s,a,l,u=this,c=u.constructor,d=c.precision,h=c.rounding;if(u.isFinite()){if(u.isZero())return new c(u);if(u.abs().eq(1)&&d+4<=k)return(s=O(c,d+4,h).times(.25)).s=u.s,s}else{if(!u.s)return new c(NaN);if(d+4<=k)return(s=O(c,d+4,h).times(.5)).s=u.s,s}for(c.precision=a=d+10,c.rounding=1,e=n=Math.min(28,a/7+2|0);e;--e)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(p=!1,t=Math.ceil(a/7),r=1,l=u.times(u),s=new c(u),i=u;-1!==e;)if(i=i.times(l),o=s.minus(i.div(r+=2)),i=i.times(l),void 0!==(s=o.plus(i.div(r+=2))).d[t])for(e=t;s.d[e]===o.d[e]&&e--;);return n&&(s=s.times(2<<n-1)),p=!0,N(s,c.precision=d,c.rounding=h,!0)},S.isFinite=function(){return!!this.d},S.isInteger=S.isInt=function(){return!!this.d&&b(this.e/7)>this.d.length-2},S.isNaN=function(){return!this.s},S.isNegative=S.isNeg=function(){return this.s<0},S.isPositive=S.isPos=function(){return this.s>0},S.isZero=function(){return!!this.d&&0===this.d[0]},S.lessThan=S.lt=function(e){return this.cmp(e)<0},S.lessThanOrEqualTo=S.lte=function(e){return this.cmp(e)<1},S.logarithm=S.log=function(e){var t,n,r,i,o,s,a,l,u=this,c=u.constructor,d=c.precision,h=c.rounding;if(null==e)e=new c(10),t=!0;else{if(n=(e=new c(e)).d,e.s<0||!n||!n[0]||e.eq(1))return new c(NaN);t=e.eq(10)}if(n=u.d,u.s<0||!n||!n[0]||u.eq(1))return new c(n&&!n[0]?-1/0:1!=u.s?NaN:n?0:1/0);if(t)if(n.length>1)o=!0;else{for(i=n[0];i%10==0;)i/=10;o=1!==i}if(p=!1,s=q(u,a=d+5),r=t?R(c,a+10):q(e,a),D((l=M(s,r,a,1)).d,i=d,h))do{if(s=q(u,a+=10),r=t?R(c,a+10):q(e,a),l=M(s,r,a,1),!o){+I(l.d).slice(i+1,i+15)+1==1e14&&(l=N(l,d+1,0));break}}while(D(l.d,i+=10,h));return p=!0,N(l,d,h)},S.minus=S.sub=function(e){var t,n,r,i,o,s,a,l,u,c,d,h,f=this,m=f.constructor;if(e=new m(e),!f.d||!e.d)return f.s&&e.s?f.d?e.s=-e.s:e=new m(e.d||f.s!==e.s?f:NaN):e=new m(NaN),e;if(f.s!=e.s)return e.s=-e.s,f.plus(e);if(u=f.d,h=e.d,a=m.precision,l=m.rounding,!u[0]||!h[0]){if(h[0])e.s=-e.s;else{if(!u[0])return new m(3===l?-0:0);e=new m(f)}return p?N(e,a,l):e}if(n=b(e.e/7),c=b(f.e/7),u=u.slice(),o=c-n){for((d=o<0)?(t=u,o=-o,s=h.length):(t=h,n=c,s=u.length),o>(r=Math.max(Math.ceil(a/7),s)+2)&&(o=r,t.length=1),t.reverse(),r=o;r--;)t.push(0);t.reverse()}else{for((d=(r=u.length)<(s=h.length))&&(s=r),r=0;r<s;r++)if(u[r]!=h[r]){d=u[r]<h[r];break}o=0}for(d&&(t=u,u=h,h=t,e.s=-e.s),s=u.length,r=h.length-s;r>0;--r)u[s++]=0;for(r=h.length;r>o;){if(u[--r]<h[r]){for(i=r;i&&0===u[--i];)u[i]=x-1;--u[i],u[r]+=x}u[r]-=h[r]}for(;0===u[--s];)u.pop();for(;0===u[0];u.shift())--n;return u[0]?(e.d=u,e.e=V(u,n),p?N(e,a,l):e):new m(3===l?-0:0)},S.modulo=S.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?N(new r(n),r.precision,r.rounding):(p=!1,9==r.modulo?(t=M(n,e.abs(),0,3,1)).s*=e.s:t=M(n,e,0,r.modulo,1),t=t.times(e),p=!0,n.minus(t))},S.naturalExponential=S.exp=function(){return z(this)},S.naturalLogarithm=S.ln=function(){return q(this)},S.negated=S.neg=function(){var e=new this.constructor(this);return e.s=-e.s,N(e)},S.plus=S.add=function(e){var t,n,r,i,o,s,a,l,u,c,d=this,h=d.constructor;if(e=new h(e),!d.d||!e.d)return d.s&&e.s?d.d||(e=new h(e.d||d.s===e.s?d:NaN)):e=new h(NaN),e;if(d.s!=e.s)return e.s=-e.s,d.minus(e);if(u=d.d,c=e.d,a=h.precision,l=h.rounding,!u[0]||!c[0])return c[0]||(e=new h(d)),p?N(e,a,l):e;if(o=b(d.e/7),r=b(e.e/7),u=u.slice(),i=o-r){for(i<0?(n=u,i=-i,s=c.length):(n=c,r=o,s=u.length),i>(s=(o=Math.ceil(a/7))>s?o+1:s+1)&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((s=u.length)-(i=c.length)<0&&(i=s,n=c,c=u,u=n),t=0;i;)t=(u[--i]=u[i]+c[i]+t)/x|0,u[i]%=x;for(t&&(u.unshift(t),++r),s=u.length;0==u[--s];)u.pop();return e.d=u,e.e=V(u,r),p?N(e,a,l):e},S.precision=S.sd=function(e){var t,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(m+e);return n.d?(t=P(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t},S.round=function(){var e=this,t=e.constructor;return N(new t(e),e.e+1,t.rounding)},S.sine=S.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r=t.d.length;if(r<3)return Q(e,2,t,t);n=(n=1.4*Math.sqrt(r))>16?16:0|n,t=Q(e,2,t=t.times(1/$(5,n)),t);for(var i,o=new e(5),s=new e(16),a=new e(20);n--;)i=t.times(t),t=t.times(o.plus(i.times(s.times(i).minus(a))));return t}(r,K(r,n)),r.precision=e,r.rounding=t,N(s>2?n.neg():n,e,t,!0)):new r(NaN)},S.squareRoot=S.sqrt=function(){var e,t,n,r,i,o,s=this,a=s.d,l=s.e,u=s.s,c=s.constructor;if(1!==u||!a||!a[0])return new c(!u||u<0&&(!a||a[0])?NaN:a?s:1/0);for(p=!1,0==(u=Math.sqrt(+s))||u==1/0?(((t=I(a)).length+l)%2==0&&(t+="0"),u=Math.sqrt(t),l=b((l+1)/2)-(l<0||l%2),r=new c(t=u==1/0?"5e"+l:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+l)):r=new c(u.toString()),n=(l=c.precision)+3;;)if(r=(o=r).plus(M(s,o,n+2,1)).times(.5),I(o.d).slice(0,n)===(t=I(r.d)).slice(0,n)){if("9999"!=(t=t.slice(n-3,n+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(N(r,l+1,1),e=!r.times(r).eq(s));break}if(!i&&(N(o,l+1,0),o.times(o).eq(s))){r=o;break}n+=4,i=1}return p=!0,N(r,l,c.rounding,e)},S.tangent=S.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,(n=n.sin()).s=1,n=M(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,N(2==s||4==s?n.neg():n,e,t,!0)):new r(NaN)},S.times=S.mul=function(e){var t,n,r,i,o,s,a,l,u,c=this,d=c.constructor,h=c.d,f=(e=new d(e)).d;if(e.s*=c.s,!(h&&h[0]&&f&&f[0]))return new d(!e.s||h&&!h[0]&&!f||f&&!f[0]&&!h?NaN:h&&f?0*e.s:e.s/0);for(n=b(c.e/7)+b(e.e/7),(l=h.length)<(u=f.length)&&(o=h,h=f,f=o,s=l,l=u,u=s),o=[],r=s=l+u;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)a=o[i]+f[r]*h[i-r-1]+t,o[i--]=a%x|0,t=a/x|0;o[i]=(o[i]+t)%x|0}for(;!o[--s];)o.pop();return t?++n:o.shift(),e.d=o,e.e=V(o,n),p?N(e,d.precision,d.rounding):e},S.toBinary=function(e,t){return J(this,2,e,t)},S.toDecimalPlaces=S.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(T(e,0,l),void 0===t?t=r.rounding:T(t,0,8),N(n,e+n.e+1,t))},S.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=L(r,!0):(T(e,0,l),void 0===t?t=i.rounding:T(t,0,8),n=L(r=N(new i(r),e+1,t),!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n},S.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?n=L(i):(T(e,0,l),void 0===t?t=o.rounding:T(t,0,8),n=L(r=N(new o(i),e+i.e+1,t),!1,e+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},S.toFraction=function(e){var t,n,r,i,o,s,a,l,u,c,d,h,f=this,_=f.d,g=f.constructor;if(!_)return new g(f);if(u=n=new g(1),r=l=new g(0),s=(o=(t=new g(r)).e=P(_)-f.e-1)%7,t.d[0]=v(10,s<0?7+s:s),null==e)e=o>0?t:u;else{if(!(a=new g(e)).isInt()||a.lt(u))throw Error(m+a);e=a.gt(t)?o>0?t:u:a}for(p=!1,a=new g(I(_)),c=g.precision,g.precision=o=7*_.length*2;d=M(a,t,0,1,1),1!=(i=n.plus(d.times(r))).cmp(e);)n=r,r=i,i=u,u=l.plus(d.times(i)),l=i,i=t,t=a.minus(d.times(i)),a=i;return i=M(e.minus(n),r,0,1,1),l=l.plus(i.times(u)),n=n.plus(i.times(r)),l.s=u.s=f.s,h=M(u,r,o,1).minus(f).abs().cmp(M(l,n,o,1).minus(f).abs())<1?[u,r]:[l,n],g.precision=c,p=!0,h},S.toHexadecimal=S.toHex=function(e,t){return J(this,16,e,t)},S.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),null==e){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),void 0===t?t=r.rounding:T(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(p=!1,n=M(n,e,0,t,1).times(e),p=!0,N(n)):(e.s=n.s,n=e),n},S.toNumber=function(){return+this},S.toOctal=function(e,t){return J(this,8,e,t)},S.toPower=S.pow=function(e){var t,n,r,i,o,s,a=this,l=a.constructor,u=+(e=new l(e));if(!(a.d&&e.d&&a.d[0]&&e.d[0]))return new l(v(+a,u));if((a=new l(a)).eq(1))return a;if(r=l.precision,o=l.rounding,e.eq(1))return N(a,r,o);if((t=b(e.e/7))>=e.d.length-1&&(n=u<0?-u:u)<=9007199254740991)return i=F(l,a,n,r),e.s<0?new l(1).div(i):N(i,r,o);if((s=a.s)<0){if(t<e.d.length-1)return new l(NaN);if(1&e.d[t]||(s=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=s,a}return(t=0!=(n=v(+a,u))&&isFinite(n)?new l(n+"").e:b(u*(Math.log("0."+I(a.d))/Math.LN10+a.e+1)))>l.maxE+1||t<l.minE-1?new l(t>0?s/0:0):(p=!1,l.rounding=a.s=1,n=Math.min(12,(t+"").length),(i=z(e.times(q(a,r+n)),r)).d&&D((i=N(i,r+5,1)).d,r,o)&&(t=r+10,+I((i=N(z(e.times(q(a,t+n)),t),t+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=N(i,r+1,0))),i.s=s,p=!0,l.rounding=o,N(i,r,o))},S.toPrecision=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=L(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(T(e,1,l),void 0===t?t=i.rounding:T(t,0,8),n=L(r=N(new i(r),e,t),e<=r.e||r.e<=i.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n},S.toSignificantDigits=S.toSD=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(T(e,1,l),void 0===t?t=n.rounding:T(t,0,8)),N(new n(this),e,t)},S.toString=function(){var e=this,t=e.constructor,n=L(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n},S.truncated=S.trunc=function(){return N(new this.constructor(this),this.e+1,1)},S.valueOf=S.toJSON=function(){var e=this,t=e.constructor,n=L(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};var M=function(){function e(e,t,n){var r,i=0,o=e.length;for(e=e.slice();o--;)r=e[o]*t+i,e[o]=r%n|0,i=r/n|0;return i&&e.unshift(i),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,s,a,l,u){var c,d,h,p,f,m,_,g,v,A,y,w,C,E,k,S,I,T,D,B,M=r.constructor,L=r.s==i.s?1:-1,V=r.d,R=i.d;if(!(V&&V[0]&&R&&R[0]))return new M(r.s&&i.s&&(V?!R||V[0]!=R[0]:R)?V&&0==V[0]||!R?0*L:L/0:NaN);for(u?(f=1,d=r.e-i.e):(u=x,f=7,d=b(r.e/f)-b(i.e/f)),D=R.length,I=V.length,A=(v=new M(L)).d=[],h=0;R[h]==(V[h]||0);h++);if(R[h]>(V[h]||0)&&d--,null==s?(E=s=M.precision,a=M.rounding):E=l?s+(r.e-i.e)+1:s,E<0)A.push(1),m=!0;else{if(E=E/f+2|0,h=0,1==D){for(p=0,R=R[0],E++;(h<I||p)&&E--;h++)k=p*u+(V[h]||0),A[h]=k/R|0,p=k%R|0;m=p||h<I}else{for((p=u/(R[0]+1)|0)>1&&(R=e(R,p,u),V=e(V,p,u),D=R.length,I=V.length),S=D,w=(y=V.slice(0,D)).length;w<D;)y[w++]=0;(B=R.slice()).unshift(0),T=R[0],R[1]>=u/2&&++T;do{p=0,(c=t(R,y,D,w))<0?(C=y[0],D!=w&&(C=C*u+(y[1]||0)),(p=C/T|0)>1?(p>=u&&(p=u-1),1==(c=t(_=e(R,p,u),y,g=_.length,w=y.length))&&(p--,n(_,D<g?B:R,g,u))):(0==p&&(c=p=1),_=R.slice()),(g=_.length)<w&&_.unshift(0),n(y,_,w,u),-1==c&&(c=t(R,y,D,w=y.length))<1&&(p++,n(y,D<w?B:R,w,u)),w=y.length):0===c&&(p++,y=[0]),A[h++]=p,c&&y[0]?y[w++]=V[S]||0:(y=[V[S]],w=1)}while((S++<I||void 0!==y[0])&&E--);m=void 0!==y[0]}A[0]||A.shift()}if(1==f)v.e=d,o=m;else{for(h=1,p=A[0];p>=10;p/=10)h++;v.e=h+d*f-1,N(v,l?s+v.e+1:s,a,m)}return v}}();function N(e,t,n,r){var i,o,s,a,l,u,c,d,h,f=e.constructor;e:if(null!=t){if(!(d=e.d))return e;for(i=1,a=d[0];a>=10;a/=10)i++;if((o=t-i)<0)o+=7,s=t,l=(c=d[h=0])/v(10,i-s-1)%10|0;else if((h=Math.ceil((o+1)/7))>=(a=d.length)){if(!r)break e;for(;a++<=h;)d.push(0);c=l=0,i=1,s=(o%=7)-7+1}else{for(c=a=d[h],i=1;a>=10;a/=10)i++;l=(s=(o%=7)-7+i)<0?0:c/v(10,i-s-1)%10|0}if(r=r||t<0||void 0!==d[h+1]||(s<0?c:c%v(10,i-s-1)),u=n<4?(l||r)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||r||6==n&&(o>0?s>0?c/v(10,i-s):0:d[h-1])%10&1||n==(e.s<0?8:7)),t<1||!d[0])return d.length=0,u?(t-=e.e+1,d[0]=v(10,(7-t%7)%7),e.e=-t||0):d[0]=e.e=0,e;if(0==o?(d.length=h,a=1,h--):(d.length=h+1,a=v(10,7-o),d[h]=s>0?(c/v(10,i-s)%v(10,s)|0)*a:0),u)for(;;){if(0==h){for(o=1,s=d[0];s>=10;s/=10)o++;for(s=d[0]+=a,a=1;s>=10;s/=10)a++;o!=a&&(e.e++,d[0]==x&&(d[0]=1));break}if(d[h]+=a,d[h]!=x)break;d[h--]=0,a=1}for(o=d.length;0===d[--o];)d.pop()}return p&&(e.e>f.maxE?(e.d=null,e.e=NaN):e.e<f.minE&&(e.e=0,e.d=[0])),e}function L(e,t,n){if(!e.isFinite())return W(e);var r,i=e.e,o=I(e.d),s=o.length;return t?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+j(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):i<0?(o="0."+j(-i-1)+o,n&&(r=n-s)>0&&(o+=j(r))):i>=s?(o+=j(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+j(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=j(r))),o}function V(e,t){var n=e[0];for(t*=7;n>=10;n/=10)t++;return t}function R(e,t,n){if(t>E)throw p=!0,n&&(e.precision=n),Error(_);return N(new e(c),t,1,!0)}function O(e,t,n){if(t>k)throw Error(_);return N(new e(d),t,n,!0)}function P(e){var t=e.length-1,n=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function j(e){for(var t="";e--;)t+="0";return t}function F(e,t,n,r){var i,o=new e(1),s=Math.ceil(r/7+4);for(p=!1;;){if(n%2&&Z((o=o.times(t)).d,s)&&(i=!0),0===(n=b(n/2))){n=o.d.length-1,i&&0===o.d[n]&&++o.d[n];break}Z((t=t.times(t)).d,s)}return p=!0,o}function U(e){return 1&e.d[e.d.length-1]}function H(e,t,n){for(var r,i=new e(t[0]),o=0;++o<t.length;){if(!(r=new e(t[o])).s){i=r;break}i[n](r)&&(i=r)}return i}function z(e,t){var n,r,i,o,s,a,l,u=0,c=0,d=0,h=e.constructor,f=h.rounding,m=h.precision;if(!e.d||!e.d[0]||e.e>17)return new h(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(p=!1,l=m):l=t,a=new h(.03125);e.e>-2;)e=e.times(a),d+=5;for(l+=r=Math.log(v(2,d))/Math.LN10*2+5|0,n=o=s=new h(1),h.precision=l;;){if(o=N(o.times(e),l,1),n=n.times(++c),I((a=s.plus(M(o,n,l,1))).d).slice(0,l)===I(s.d).slice(0,l)){for(i=d;i--;)s=N(s.times(s),l,1);if(null!=t)return h.precision=m,s;if(!(u<3&&D(s.d,l-r,f,u)))return N(s,h.precision=m,f,p=!0);h.precision=l+=10,n=o=a=new h(1),c=0,u++}s=a}}function q(e,t){var n,r,i,o,s,a,l,u,c,d,h,f=1,m=e,_=m.d,g=m.constructor,b=g.rounding,v=g.precision;if(m.s<0||!_||!_[0]||!m.e&&1==_[0]&&1==_.length)return new g(_&&!_[0]?-1/0:1!=m.s?NaN:_?0:m);if(null==t?(p=!1,c=v):c=t,g.precision=c+=10,r=(n=I(_)).charAt(0),!(Math.abs(o=m.e)<15e14))return u=R(g,c+2,v).times(o+""),m=q(new g(r+"."+n.slice(1)),c-10).plus(u),g.precision=v,null==t?N(m,v,b,p=!0):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=I((m=m.times(e)).d)).charAt(0),f++;for(o=m.e,r>1?(m=new g("0."+n),o++):m=new g(r+"."+n.slice(1)),d=m,l=s=m=M(m.minus(1),m.plus(1),c,1),h=N(m.times(m),c,1),i=3;;){if(s=N(s.times(h),c,1),I((u=l.plus(M(s,new g(i),c,1))).d).slice(0,c)===I(l.d).slice(0,c)){if(l=l.times(2),0!==o&&(l=l.plus(R(g,c+2,v).times(o+""))),l=M(l,new g(f),c,1),null!=t)return g.precision=v,l;if(!D(l.d,c-10,b,a))return N(l,g.precision=v,b,p=!0);g.precision=c+=10,u=s=m=M(d.minus(1),d.plus(1),c,1),h=N(m.times(m),c,1),i=a=1}l=u,i+=2}}function W(e){return String(e.s*e.s/0)}function Y(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);r++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(r,i)){if(i-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";e.d.push(+t),p&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function G(e,t){var n,r,o,s,a,l,u,c,d;if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(y.test(t))n=16,t=t.toLowerCase();else if(A.test(t))n=2;else{if(!w.test(t))throw Error(m+t);n=8}for((s=t.search(/p/i))>0?(u=+t.slice(s+1),t=t.substring(2,s)):t=t.slice(2),a=(s=t.indexOf("."))>=0,r=e.constructor,a&&(s=(l=(t=t.replace(".","")).length)-s,o=F(r,new r(n),s,2*s)),s=d=(c=B(t,n,x)).length-1;0===c[s];--s)c.pop();return s<0?new r(0*e.s):(e.e=V(c,d),e.d=c,p=!1,a&&(e=M(e,o,4*l)),u&&(e=e.times(Math.abs(u)<54?v(2,u):i.pow(2,u))),p=!0,e)}function Q(e,t,n,r,i){var o,s,a,l,u=e.precision,c=Math.ceil(u/7);for(p=!1,l=n.times(n),a=new e(r);;){if(s=M(a.times(l),new e(t++*t++),u,1),a=i?r.plus(s):r.minus(s),r=M(s.times(l),new e(t++*t++),u,1),void 0!==(s=a.plus(r)).d[c]){for(o=c;s.d[o]===a.d[o]&&o--;);if(-1==o)break}o=a,a=r,r=s,s=o}return p=!0,s.d.length=c+1,s}function $(e,t){for(var n=e;--t;)n*=e;return n}function K(e,t){var n,r=t.s<0,i=O(e,e.precision,1),o=i.times(.5);if((t=t.abs()).lte(o))return s=r?4:1,t;if((n=t.divToInt(i)).isZero())s=r?3:2;else{if((t=t.minus(n.times(i))).lte(o))return s=U(n)?r?2:3:r?4:1,t;s=U(n)?r?1:4:r?3:2}return t.minus(i).abs()}function J(e,t,n,r){var i,s,a,c,d,h,p,f,m,_=e.constructor,g=void 0!==n;if(g?(T(n,1,l),void 0===r?r=_.rounding:T(r,0,8)):(n=_.precision,r=_.rounding),e.isFinite()){for(g?(i=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):i=t,(a=(p=L(e)).indexOf("."))>=0&&(p=p.replace(".",""),(m=new _(1)).e=p.length-a,m.d=B(L(m),10,i),m.e=m.d.length),s=d=(f=B(p,10,i)).length;0==f[--d];)f.pop();if(f[0]){if(a<0?s--:((e=new _(e)).d=f,e.e=s,f=(e=M(e,m,n,r,0,i)).d,s=e.e,h=o),a=f[n],c=i/2,h=h||void 0!==f[n+1],h=r<4?(void 0!==a||h)&&(0===r||r===(e.s<0?3:2)):a>c||a===c&&(4===r||h||6===r&&1&f[n-1]||r===(e.s<0?8:7)),f.length=n,h)for(;++f[--n]>i-1;)f[n]=0,n||(++s,f.unshift(1));for(d=f.length;!f[d-1];--d);for(a=0,p="";a<d;a++)p+=u.charAt(f[a]);if(g){if(d>1)if(16==t||8==t){for(a=16==t?4:3,--d;d%a;d++)p+="0";for(d=(f=B(p,i,t)).length;!f[d-1];--d);for(a=1,p="1.";a<d;a++)p+=u.charAt(f[a])}else p=p.charAt(0)+"."+p.slice(1);p=p+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)p="0"+p;p="0."+p}else if(++s>d)for(s-=d;s--;)p+="0";else s<d&&(p=p.slice(0,s)+"."+p.slice(s))}else p=g?"0p+0":"0";p=(16==t?"0x":2==t?"0b":8==t?"0o":"")+p}else p=W(e);return e.s<0?"-"+p:p}function Z(e,t){if(e.length>t)return e.length=t,!0}function X(e){return new this(e).abs()}function ee(e){return new this(e).acos()}function te(e){return new this(e).acosh()}function ne(e,t){return new this(e).plus(t)}function re(e){return new this(e).asin()}function ie(e){return new this(e).asinh()}function oe(e){return new this(e).atan()}function se(e){return new this(e).atanh()}function ae(e,t){e=new this(e),t=new this(t);var n,r=this.precision,i=this.rounding,o=r+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(n=t.s<0?O(this,r,i):new this(0)).s=e.s:!e.d||t.isZero()?(n=O(this,o,1).times(.5)).s=e.s:t.s<0?(this.precision=o,this.rounding=1,n=this.atan(M(e,t,o,1)),t=O(this,o,1),this.precision=r,this.rounding=i,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(M(e,t,o,1)):(n=O(this,o,1).times(t.s>0?.25:.75)).s=e.s:n=new this(NaN),n}function le(e){return new this(e).cbrt()}function ue(e){return N(e=new this(e),e.e+1,2)}function ce(e){if(!e||"object"!=typeof e)throw Error(f+"Object expected");var t,n,r,i=!0===e.defaults,o=["precision",1,l,"rounding",0,8,"toExpNeg",-a,0,"toExpPos",0,a,"maxE",0,a,"minE",-a,0,"modulo",0,9];for(t=0;t<o.length;t+=3)if(n=o[t],i&&(this[n]=h[n]),void 0!==(r=e[n])){if(!(b(r)===r&&r>=o[t+1]&&r<=o[t+2]))throw Error(m+n+": "+r);this[n]=r}if(n="crypto",i&&(this[n]=h[n]),void 0!==(r=e[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(m+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(g);this[n]=!0}else this[n]=!1}return this}function de(e){return new this(e).cos()}function he(e){return new this(e).cosh()}function pe(e,t){return new this(e).div(t)}function fe(e){return new this(e).exp()}function me(e){return N(e=new this(e),e.e+1,3)}function _e(){var e,t,n=new this(0);for(p=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return p=!0,new this(1/0);n=t}return p=!0,n.sqrt()}function ge(e){return e instanceof i||e&&"[object Decimal]"===e.name||!1}function be(e){return new this(e).ln()}function ve(e,t){return new this(e).log(t)}function Ae(e){return new this(e).log(2)}function ye(e){return new this(e).log(10)}function we(){return H(this,arguments,"lt")}function Ce(){return H(this,arguments,"gt")}function xe(e,t){return new this(e).mod(t)}function Ee(e,t){return new this(e).mul(t)}function ke(e,t){return new this(e).pow(t)}function Se(e){var t,n,r,i,o=0,s=new this(1),a=[];if(void 0===e?e=this.precision:T(e,1,l),r=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));o<r;)(i=t[o])>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:a[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error(g);for(t=crypto.randomBytes(r*=4);o<r;)(i=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((127&t[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,o):(a.push(i%1e7),o+=4);o=r/4}else for(;o<r;)a[o++]=1e7*Math.random()|0;for(e%=7,(r=a[--o])&&e&&(i=v(10,7-e),a[o]=(r/i|0)*i);0===a[o];o--)a.pop();if(o<0)n=0,a=[0];else{for(n=-1;0===a[0];n-=7)a.shift();for(r=1,i=a[0];i>=10;i/=10)r++;r<7&&(n-=7-r)}return s.e=n,s.d=a,s}function Ie(e){return N(e=new this(e),e.e+1,this.rounding)}function Te(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function De(e){return new this(e).sin()}function Be(e){return new this(e).sinh()}function Me(e){return new this(e).sqrt()}function Ne(e,t){return new this(e).sub(t)}function Le(e){return new this(e).tan()}function Ve(e){return new this(e).tanh()}function Re(e){return N(e=new this(e),e.e+1,1)}(i=function e(t){var n,r,i;function o(e){var t,n,r,i=this;if(!(i instanceof o))return new o(e);if(i.constructor=o,e instanceof o)return i.s=e.s,void(p?!e.d||e.e>o.maxE?(i.e=NaN,i.d=null):e.e<o.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d?e.d.slice():e.d));if("number"==(r=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(t=0,n=e;n>=10;n/=10)t++;return void(p?t>o.maxE?(i.e=NaN,i.d=null):t<o.minE?(i.e=0,i.d=[0]):(i.e=t,i.d=[e]):(i.e=t,i.d=[e]))}return 0*e!=0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):Y(i,e.toString())}if("string"!==r)throw Error(m+e);return 45===(n=e.charCodeAt(0))?(e=e.slice(1),i.s=-1):(43===n&&(e=e.slice(1)),i.s=1),C.test(e)?Y(i,e):G(i,e)}if(o.prototype=S,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=ce,o.clone=e,o.isDecimal=ge,o.abs=X,o.acos=ee,o.acosh=te,o.add=ne,o.asin=re,o.asinh=ie,o.atan=oe,o.atanh=se,o.atan2=ae,o.cbrt=le,o.ceil=ue,o.cos=de,o.cosh=he,o.div=pe,o.exp=fe,o.floor=me,o.hypot=_e,o.ln=be,o.log=ve,o.log10=ye,o.log2=Ae,o.max=we,o.min=Ce,o.mod=xe,o.mul=Ee,o.pow=ke,o.random=Se,o.round=Ie,o.sign=Te,o.sin=De,o.sinh=Be,o.sqrt=Me,o.sub=Ne,o.tan=Le,o.tanh=Ve,o.trunc=Re,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}(h)).default=i.Decimal=i,c=new i(c),d=new i(d),void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}()},4785:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise(function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}m(e,t,o,{once:!0}),"error"!==t&&function(e,t){"function"==typeof e.on&&m(e,"error",t,{once:!0})}(e,i)})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var i,o,s,u;if(a(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=l(e))>0&&s.length>i&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,u=c,console&&console.warn&&console.warn(u)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=c.bind(r);return i.listener=n,r.wrapFn=i,i}function h(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):f(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function f(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)})}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)r(l,this,t);else{var u=l.length,c=f(l,u);for(n=0;n<u;++n)r(c[n],this,t)}return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return h(this,e,!0)},o.prototype.rawListeners=function(e){return h(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},9482:(e,t,n)=>{"use strict";var r=n(1654);t.np=void 0;var i=r(n(9131)),o=r(n(8463)),s=r(n(5985)),a=r(n(6583)),l=r(n(8921)),u=n(917),c=r(n(5440));function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=(0,l.default)(function(){var e={},t=new MessageChannel,n=t.port1;n.addEventListener("message",function(t){var n=t.data,r=n.id,i=n.type,o=e[r];if("COMPLETE"===i){var s=t.data,l=s.headers,u=s.readyState,c=s.status,d=s.statusText,h=s.response,p=s.responseText,f=s.responseURL,m={};l.split("\r\n").forEach(function(e){var t=e.split(":"),n=(0,a.default)(t,2),r=n[0],i=n[1];r&&i&&(m[r.toLowerCase().trim()]=i.trim())}),o._headers=l,o._headersObj=m,o.status=c,o.statusText=d,o.readyState=u,o.response=h,o.responseText=p,o.responseURL=f,delete e[r];for(var _=function(){var e=b[g],t={name:e,target:o};(Object.prototype.hasOwnProperty.call(o._eventListeners,e)?o._eventListeners[e]:[]).forEach(function(e){return e(t)}),o["on"+e]&&o["on"+e](t)},g=0,b=["load","loadend","readystatechange"];g<b.length;g++)_()}else console.error("ext-corb-workaround: Unknown event in content script:",t)}),n.addEventListener("messageerror",function(e){console.error("ext-corb-workaround: Unknown error in content script:",e)}),n.start(),window.postMessage({type:"ext-corb-workaround_port",moduleId:u.moduleId,port:t.port2},document.location.origin,[t.port2]);var r=0,l=function(){function t(){var o=this;(0,i.default)(this,t),(0,s.default)(this,"UNSENT",0),(0,s.default)(this,"OPENED",1),(0,s.default)(this,"HEADERS_RECEIVED",2),(0,s.default)(this,"LOADING",3),(0,s.default)(this,"DONE",4),(0,s.default)(this,"_id",r++),(0,s.default)(this,"_eventListeners",{}),(0,s.default)(this,"_headersObj",{}),(0,s.default)(this,"status",0),(0,s.default)(this,"statusText",""),(0,s.default)(this,"readyState",0),(0,s.default)(this,"response",""),(0,s.default)(this,"responseText",""),(0,s.default)(this,"responseURL",""),(0,s.default)(this,"_headers",""),(0,s.default)(this,"responseType",void 0),(0,s.default)(this,"withCredentials",void 0),(0,s.default)(this,"setRequestHeader",void 0),(0,s.default)(this,"open",void 0),(0,s.default)(this,"send",void 0),(0,s.default)(this,"abort",void 0);var a=this._id;e[a]=this,n.postMessage({type:"NEW_XHR",id:a});var l,u=d(["responseType","withCredentials"]);try{var h=function(){var e=l.value,t=void 0;Object.defineProperty(o,e,{get:function(){return t},set:function(r){t=r,n.postMessage({type:"SET",id:a,prop:e,value:r})}})};for(u.s();!(l=u.n()).done;)h()}catch(e){u.e(e)}finally{u.f()}var p,f=d(["setRequestHeader","open","send","abort"]);try{var m=function(){var e=p.value;o[e]=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];n.postMessage({type:"CALL",id:a,method:e,args:r},(0,c.default)(r))}};for(f.s();!(p=f.n()).done;)m()}catch(e){f.e(e)}finally{f.f()}}return(0,o.default)(t,[{key:"getAllResponseHeaders",value:function(){return this._headers}},{key:"getResponseHeader",value:function(e){if(e=e.toLowerCase(),Object.prototype.hasOwnProperty.call(this._headersObj,e))return this._headersObj[e]}},{key:"addEventListener",value:function(e,t){Object.prototype.hasOwnProperty.call(this._eventListeners,e)||(this._eventListeners[e]=[]),this._eventListeners[e].push(t)}},{key:"removeEventListener",value:function(e,t){Object.prototype.hasOwnProperty.call(this._eventListeners,e)&&(this._eventListeners[e]=this._eventListeners[e].filter(function(e){return t!==e}))}}]),t}();return(0,s.default)(l,"UNSENT",0),(0,s.default)(l,"OPENED",1),(0,s.default)(l,"HEADERS_RECEIVED",2),(0,s.default)(l,"LOADING",3),(0,s.default)(l,"DONE",4),l});t.np=p,(0,l.default)(function(){window.XMLHttpRequest=p()})},917:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.moduleId=void 0,t.moduleId="1f24 e53a"},5440:(e,t,n)=>{"use strict";var r=n(1654);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.map(function(e){if(e&&"object"===(0,i.default)(e)&&e.__proto__){if("ArrayBuffer"===e.__proto__.constructor.name)return e;if(e.__proto__.__proto__&&"TypedArray"===e.__proto__.__proto__.constructor.name)return e.buffer}}).filter(Boolean)};var i=r(n(2990))},5215:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!==i--;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!=t&&n!=n}},9029:(e,t)=>{t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,l=(1<<a)-1,u=l>>1,c=-7,d=n?i-1:0,h=n?-1:1,p=e[t+d];for(d+=h,o=p&(1<<-c)-1,p>>=-c,c+=a;c>0;o=256*o+e[t+d],d+=h,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;c>0;s=256*s+e[t+d],d+=h,c-=8);if(0===o)o=1-u;else{if(o===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=u}return(p?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,l,u=8*o-i-1,c=(1<<u)-1,d=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(s++,l/=2),s+d>=c?(a=0,s=c):s+d>=1?(a=(t*l-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[n+p]=255&a,p+=f,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[n+p]=255&s,p+=f,s/=256,u-=8);e[n+p-f]|=128*m}},2996:(e,t,n)=>{"use strict";var r=n(9964);function i(e){return"object"!=typeof e||"toString"in e?e:Object.prototype.toString.call(e).slice(8,-1)}Object.defineProperty(t,"__esModule",{value:!0});var o="object"==typeof r&&!0;function s(e,t){if(!e){if(o)throw new Error("Invariant failed");throw new Error(t())}}t.invariant=s;var a=Object.prototype.hasOwnProperty,l=Array.prototype.splice,u=Object.prototype.toString;function c(e){return u.call(e).slice(8,-1)}var d=Object.assign||function(e,t){return h(t).forEach(function(n){a.call(t,n)&&(e[n]=t[n])}),e},h="function"==typeof Object.getOwnPropertySymbols?function(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.keys(e)};function p(e){return Array.isArray(e)?d(e.constructor(e.length),e):"Map"===c(e)?new Map(e):"Set"===c(e)?new Set(e):e&&"object"==typeof e?d(Object.create(Object.getPrototypeOf(e)),e):e}var f=function(){function e(){this.commands=d({},m),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(e,t){return e===t},this.update.newContext=function(){return(new e).update}}return Object.defineProperty(e.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(e){this.update.isEquals=e},enumerable:!0,configurable:!0}),e.prototype.extend=function(e,t){this.commands[e]=t},e.prototype.update=function(e,t){var n=this,r="function"==typeof t?{$apply:t}:t;Array.isArray(e)&&Array.isArray(r)||s(!Array.isArray(r),function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."}),s("object"==typeof r&&null!==r,function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: "+Object.keys(n.commands).join(", ")+"."});var i=e;return h(r).forEach(function(t){if(a.call(n.commands,t)){var o=e===i;i=n.commands[t](r[t],i,r,e),o&&n.isEquals(i,e)&&(i=e)}else{var s="Map"===c(e)?n.update(e.get(t),r[t]):n.update(e[t],r[t]),l="Map"===c(i)?i.get(t):i[t];n.isEquals(s,l)&&(void 0!==s||a.call(e,t))||(i===e&&(i=p(e)),"Map"===c(i)?i.set(t,s):i[t]=s)}}),i},e}();t.Context=f;var m={$push:function(e,t,n){return g(t,n,"$push"),e.length?t.concat(e):t},$unshift:function(e,t,n){return g(t,n,"$unshift"),e.length?e.concat(t):t},$splice:function(e,t,n,r){return function(e,t){s(Array.isArray(e),function(){return"Expected $splice target to be an array; got "+i(e)}),v(t.$splice)}(t,n),e.forEach(function(e){v(e),t===r&&e.length&&(t=p(r)),l.apply(t,e)}),t},$set:function(e,t,n){return function(e){s(1===Object.keys(e).length,function(){return"Cannot have more than one key in an object with $set"})}(n),e},$toggle:function(e,t){b(e,"$toggle");var n=e.length?p(t):t;return e.forEach(function(e){n[e]=!t[e]}),n},$unset:function(e,t,n,r){return b(e,"$unset"),e.forEach(function(e){Object.hasOwnProperty.call(t,e)&&(t===r&&(t=p(r)),delete t[e])}),t},$add:function(e,t,n,r){return A(t,"$add"),b(e,"$add"),"Map"===c(t)?e.forEach(function(e){var n=e[0],i=e[1];t===r&&t.get(n)!==i&&(t=p(r)),t.set(n,i)}):e.forEach(function(e){t!==r||t.has(e)||(t=p(r)),t.add(e)}),t},$remove:function(e,t,n,r){return A(t,"$remove"),b(e,"$remove"),e.forEach(function(e){t===r&&t.has(e)&&(t=p(r)),t.delete(e)}),t},$merge:function(e,t,n,r){var o,a;return o=t,s((a=e)&&"object"==typeof a,function(){return"update(): $merge expects a spec of type 'object'; got "+i(a)}),s(o&&"object"==typeof o,function(){return"update(): $merge expects a target of type 'object'; got "+i(o)}),h(e).forEach(function(n){e[n]!==t[n]&&(t===r&&(t=p(r)),t[n]=e[n])}),t},$apply:function(e,t){var n;return s("function"==typeof(n=e),function(){return"update(): expected spec of $apply to be a function; got "+i(n)+"."}),e(t)}},_=new f;function g(e,t,n){s(Array.isArray(e),function(){return"update(): expected target of "+i(n)+" to be an array; got "+i(e)+"."}),b(t[n],n)}function b(e,t){s(Array.isArray(e),function(){return"update(): expected spec of "+i(t)+" to be an array; got "+i(e)+". Did you forget to wrap your parameter in an array?"})}function v(e){s(Array.isArray(e),function(){return"update(): expected spec of $splice to be an array of arrays; got "+i(e)+". Did you forget to wrap your parameters in an array?"})}function A(e,t){var n=c(e);s("Map"===n||"Set"===n,function(){return"update(): "+i(t)+" expects a target of type Set or Map; got "+i(n)})}t.isEquals=_.update.isEquals,t.extend=_.extend,t.default=_.update,t.default.default=e.exports=d(t.default,t)},9784:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},8631:function(e,t,n){var r,i,o;i=[n(7249)],void 0===(o="function"==typeof(r=function(e){var t={plug:function(){},unplug:function(){}};function n(){var n=!1,r=e.pool(),i=null,o=e.stream(function(e){function t(t){e.emitEvent(t)}if(i=e,!n)return r.onAny(t),function(){i=null,r.offAny(t)};e.end()});return o.value=o.emit=function(e){return i&&i.emit(e),o},o.error=function(e){return i&&i.error(e),o},o.event=o.emitEvent=function(e){return"end"===e.type?o.end():i&&i.emitEvent(e),o},o.plug=function(e){return r.plug(e),o},o.unplug=function(e){return r.unplug(e),o},o.end=function(){return n||(n=!0,i&&i.end(),r=t),o},o.setName("bus")}return n.default=n,n})?r.apply(t,i):r)||(e.exports=o)},5164:e=>{"use strict";e.exports=function(e,t){return t&&t.subscribe&&t.subscribeOnNext?e.stream(function(e){var n=t.subscribe(function(t){e.emit(t)},function(t){e.error(t),e.end()},function(){e.end()});return function(){n.dispose()}}):t&&t.onAny&&t.offAny?e.stream(function(e){var n=e.emitEvent;return t.onAny(n),function(){t.offAny(n)}}):t&&t.subscribe&&t.onValue?e.stream(function(e){return t.subscribe(function(t){"function"==typeof t.hasValue?t.hasValue()?e.emit(t.value()):t.isEnd()?e.end():t.isError()?e.error(t.error):console.error("Unknown type of Bacon event",t):t.hasValue?e.emit(t.value):t.isEnd?e.end():t.isError?e.error(t.error):console.error("Unknown type of Bacon event",t)})}):t&&t.subscribe&&t.lift?e.stream(function(e){var n=t.subscribe(function(t){e.emit(t)},function(t){e.error(t),e.end()},function(){e.end()});return function(){n.unsubscribe()}}):e.constant(t)}},4924:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=null;function t(){n.stopped=!0,e&&(e.emit(null),e.end())}var n=r.stream(function(r){e=r,n.stopped&&t()}).toProperty();return n.stopped=!1,n.destroy=t,n};var r=n(7249);e.exports=t.default,e.exports.default=t.default},7249:(e,t,n)=>{"use strict";function r(e){var t=arguments.length,n=void 0,r=void 0;for(n=1;n<t;n++)for(r in arguments[n])e[r]=arguments[n][r];return e}function i(e,t){var n,i,o=arguments.length,s=void 0;for(e.prototype=(n=t.prototype,(i=function(){}).prototype=n,new i),e.prototype.constructor=e,s=2;s<o;s++)r(e.prototype,arguments[s]);return e}n.r(t),n.d(t,{Kefir:()=>Yn,Observable:()=>v,Pool:()=>sn,Property:()=>y,Stream:()=>A,combine:()=>ue,concat:()=>on,constant:()=>q,constantError:()=>Y,default:()=>Gn,dissableDeprecationWarnings:()=>qn,fromCallback:()=>P,fromESObservable:()=>ie,fromEvents:()=>H,fromNodeCallback:()=>j,fromPoll:()=>M,fromPromise:()=>ee,interval:()=>I,later:()=>k,merge:()=>tn,never:()=>C,pool:()=>Hn,repeat:()=>rn,sequentially:()=>D,staticLand:()=>de,stream:()=>O,withInterval:()=>V,zip:()=>Jt}),e=n.hmd(e);var o=["<nothing>"],s="end",a="value",l="error",u="any";function c(e,t){var n=void 0,r=void 0,i=void 0,o=void 0;if(0===e.length)return t;if(0===t.length)return e;for(o=0,n=new Array(e.length+t.length),r=e.length,i=0;i<r;i++,o++)n[o]=e[i];for(r=t.length,i=0;i<r;i++,o++)n[o]=t[i];return n}function d(e,t){var n=e.length,r=void 0;for(r=0;r<n;r++)if(e[r]===t)return r;return-1}function h(e,t){var n=e.length,r=void 0;for(r=0;r<n;r++)if(t(e[r]))return r;return-1}function p(e){var t=e.length,n=new Array(t),r=void 0;for(r=0;r<t;r++)n[r]=e[r];return n}function f(e,t){var n=e.length,r=void 0,i=void 0,o=void 0;if(t>=0&&t<n){if(1===n)return[];for(r=new Array(n-1),i=0,o=0;i<n;i++)i!==t&&(r[o]=e[i],o++);return r}return e}function m(e,t){var n=e.length,r=new Array(n),i=void 0;for(i=0;i<n;i++)r[i]=t(e[i]);return r}function _(e,t){return-1!==d(e,t)}function g(e,t,n){e===u?t(n):e===n.type&&(e===a||e===l?t(n.value):t())}function b(){this._items=[],this._spies=[],this._inLoop=0,this._removedItems=null}function v(){this._dispatcher=new b,this._active=!1,this._alive=!0,this._activating=!1,this._logHandlers=null,this._spyHandlers=null}function A(){v.call(this)}function y(){v.call(this),this._currentEvent=null}r(b.prototype,{add:function(e,t){return this._items=c(this._items,[{type:e,fn:t}]),this._items.length},remove:function(e,t){var n=h(this._items,function(n){return n.type===e&&n.fn===t});return 0!==this._inLoop&&-1!==n&&(null===this._removedItems&&(this._removedItems=[]),this._removedItems.push(this._items[n])),this._items=f(this._items,n),this._items.length},addSpy:function(e){return this._spies=c(this._spies,[e]),this._spies.length},removeSpy:function(e){return this._spies=f(this._spies,this._spies.indexOf(e)),this._spies.length},dispatch:function(e){this._inLoop++;for(var t=0,n=this._spies;null!==this._spies&&t<n.length;t++)n[t](e);for(var r=0,i=this._items;r<i.length&&null!==this._items;r++)null!==this._removedItems&&_(this._removedItems,i[r])||g(i[r].type,i[r].fn,e);this._inLoop--,0===this._inLoop&&(this._removedItems=null)},cleanup:function(){this._items=null,this._spies=null}}),r(v.prototype,{_name:"observable",_onActivation:function(){},_onDeactivation:function(){},_setActive:function(e){this._active!==e&&(this._active=e,e?(this._activating=!0,this._onActivation(),this._activating=!1):this._onDeactivation())},_clear:function(){this._setActive(!1),this._dispatcher.cleanup(),this._dispatcher=null,this._logHandlers=null},_emit:function(e,t){switch(e){case a:return this._emitValue(t);case l:return this._emitError(t);case s:return this._emitEnd()}},_emitValue:function(e){this._alive&&this._dispatcher.dispatch({type:a,value:e})},_emitError:function(e){this._alive&&this._dispatcher.dispatch({type:l,value:e})},_emitEnd:function(){this._alive&&(this._alive=!1,this._dispatcher.dispatch({type:s}),this._clear())},_on:function(e,t){return this._alive?(this._dispatcher.add(e,t),this._setActive(!0)):g(e,t,{type:s}),this},_off:function(e,t){return this._alive&&0===this._dispatcher.remove(e,t)&&this._setActive(!1),this},onValue:function(e){return this._on(a,e)},onError:function(e){return this._on(l,e)},onEnd:function(e){return this._on(s,e)},onAny:function(e){return this._on(u,e)},offValue:function(e){return this._off(a,e)},offError:function(e){return this._off(l,e)},offEnd:function(e){return this._off(s,e)},offAny:function(e){return this._off(u,e)},observe:function(e,t,n){var r=this,i=!1,o=e&&"function"!=typeof e?e:{value:e,error:t,end:n},u=function(e){e.type===s&&(i=!0),e.type===a&&o.value?o.value(e.value):e.type===l&&o.error?o.error(e.value):e.type===s&&o.end&&o.end(e.value)};return this.onAny(u),{unsubscribe:function(){i||(r.offAny(u),i=!0)},get closed(){return i}}},_ofSameType:function(e,t){return e.prototype.getType()===this.getType()?e:t},setName:function(e,t){return this._name=t?e._name+"."+t:e,this},log:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.toString(),t=void 0,n=function(n){var r="<"+n.type+(t?":current":"")+">";n.type===s?console.log(e,r):console.log(e,r,n.value)};return this._alive&&(this._logHandlers||(this._logHandlers=[]),this._logHandlers.push({name:e,handler:n})),t=!0,this.onAny(n),t=!1,this},offLog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.toString();if(this._logHandlers){var t=h(this._logHandlers,function(t){return t.name===e});-1!==t&&(this.offAny(this._logHandlers[t].handler),this._logHandlers.splice(t,1))}return this},spy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.toString(),t=function(t){var n="<"+t.type+">";t.type===s?console.log(e,n):console.log(e,n,t.value)};return this._alive&&(this._spyHandlers||(this._spyHandlers=[]),this._spyHandlers.push({name:e,handler:t}),this._dispatcher.addSpy(t)),this},offSpy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.toString();if(this._spyHandlers){var t=h(this._spyHandlers,function(t){return t.name===e});-1!==t&&(this._dispatcher.removeSpy(this._spyHandlers[t].handler),this._spyHandlers.splice(t,1))}return this}}),v.prototype.toString=function(){return"["+this._name+"]"},i(A,v,{_name:"stream",getType:function(){return"stream"}}),i(y,v,{_name:"property",_emitValue:function(e){this._alive&&(this._currentEvent={type:a,value:e},this._activating||this._dispatcher.dispatch({type:a,value:e}))},_emitError:function(e){this._alive&&(this._currentEvent={type:l,value:e},this._activating||this._dispatcher.dispatch({type:l,value:e}))},_emitEnd:function(){this._alive&&(this._alive=!1,this._activating||this._dispatcher.dispatch({type:s}),this._clear())},_on:function(e,t){return this._alive&&(this._dispatcher.add(e,t),this._setActive(!0)),null!==this._currentEvent&&g(e,t,this._currentEvent),this._alive||g(e,t,{type:s}),this},getType:function(){return"property"}});var w=new A;function C(){return w}function x(e){function t(e,t){var n=this;A.call(this),this._wait=e,this._intervalId=null,this._$onTick=function(){return n._onTick()},this._init(t)}return i(t,A,{_init:function(){},_free:function(){},_onTick:function(){},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait)},_onDeactivation:function(){null!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null)},_clear:function(){A.prototype._clear.call(this),this._$onTick=null,this._free()}},e),t}w._emitEnd(),w._name="never";var E=x({_name:"later",_init:function(e){var t=e.x;this._x=t},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x),this._emitEnd()}});function k(e,t){return new E(e,{x:t})}var S=x({_name:"interval",_init:function(e){var t=e.x;this._x=t},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x)}});function I(e,t){return new S(e,{x:t})}var T=x({_name:"sequentially",_init:function(e){var t=e.xs;this._xs=p(t)},_free:function(){this._xs=null},_onTick:function(){1===this._xs.length?(this._emitValue(this._xs[0]),this._emitEnd()):this._emitValue(this._xs.shift())}});function D(e,t){return 0===t.length?C():new T(e,{xs:t})}var B=x({_name:"fromPoll",_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_onTick:function(){var e=this._fn;this._emitValue(e())}});function M(e,t){return new B(e,{fn:t})}function N(e){function t(t){return e._emitValue(t),e._active}function n(t){return e._emit(t.type,t.value),e._active}return{value:t,error:function(t){return e._emitError(t),e._active},end:function(){return e._emitEnd(),e._active},event:n,emit:t,emitEvent:n}}var L=x({_name:"withInterval",_init:function(e){var t=e.fn;this._fn=t,this._emitter=N(this)},_free:function(){this._fn=null,this._emitter=null},_onTick:function(){(0,this._fn)(this._emitter)}});function V(e,t){return new L(e,{fn:t})}function R(e){A.call(this),this._fn=e,this._unsubscribe=null}function O(e){return new R(e)}function P(e){var t=!1;return O(function(n){t||(e(function(e){n.emit(e),n.end()}),t=!0)}).setName("fromCallback")}function j(e){var t=!1;return O(function(n){t||(e(function(e,t){e?n.error(e):n.emit(t),n.end()}),t=!0)}).setName("fromNodeCallback")}function F(e,t){switch(t){case 0:return function(){return e()};case 1:return function(t){return e(t[0])};case 2:return function(t){return e(t[0],t[1])};case 3:return function(t){return e(t[0],t[1],t[2])};case 4:return function(t){return e(t[0],t[1],t[2],t[3])};default:return function(t){return e.apply(null,t)}}}i(R,A,{_name:"stream",_onActivation:function(){var e=(0,this._fn)(N(this));this._unsubscribe="function"==typeof e?e:null,this._active||this._callUnsubscribe()},_callUnsubscribe:function(){null!==this._unsubscribe&&(this._unsubscribe(),this._unsubscribe=null)},_onDeactivation:function(){this._callUnsubscribe()},_clear:function(){A.prototype._clear.call(this),this._fn=null}});var U=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"]];function H(e,t,n){for(var r=void 0,i=void 0,o=0;o<U.length;o++)if("function"==typeof e[U[o][0]]&&"function"==typeof e[U[o][1]]){r=U[o][0],i=U[o][1];break}if(void 0===r)throw new Error("target don't support any of addEventListener/removeEventListener, addListener/removeListener, on/off method pair");return function(e,t,n){return O(function(r){var i=n?function(){r.emit(function(e,t,n){var r=n?n.length:0;if(null!=t)return 0===r?e.call(t):e.apply(t,n);switch(r){case 0:return e();case 1:return e(n[0]);case 2:return e(n[0],n[1]);case 3:return e(n[0],n[1],n[2]);case 4:return e(n[0],n[1],n[2],n[3]);default:return e.apply(null,n)}}(n,this,arguments))}:function(e){r.emit(e)};return e(i),function(){return t(i)}}).setName("fromSubUnsub")}(function(n){return e[r](t,n)},function(n){return e[i](t,n)},n).setName("fromEvents")}function z(e){this._currentEvent={type:"value",value:e,current:!0}}function q(e){return new z(e)}function W(e){this._currentEvent={type:"error",value:e,current:!0}}function Y(e){return new W(e)}function G(e,t){return function(n,r){var i=this;e.call(this),this._source=n,this._name=n._name+"."+t,this._init(r),this._$handleAny=function(e){return i._handleAny(e)}}}function Q(e){return{_init:function(){},_free:function(){},_handleValue:function(e){this._emitValue(e)},_handleError:function(e){this._emitError(e)},_handleEnd:function(){this._emitEnd()},_handleAny:function(e){switch(e.type){case a:return this._handleValue(e.value);case l:return this._handleError(e.value);case s:return this._handleEnd()}},_onActivation:function(){this._source.onAny(this._$handleAny)},_onDeactivation:function(){this._source.offAny(this._$handleAny)},_clear:function(){e.prototype._clear.call(this),this._source=null,this._$handleAny=null,this._free()}}}function $(e,t){var n=G(A,e);return i(n,A,Q(A),t),n}function K(e,t){var n=G(y,e);return i(n,y,Q(y),t),n}i(z,y,{_name:"constant",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null}),i(W,y,{_name:"constantError",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null});var J=K("toProperty",{_init:function(e){var t=e.fn;this._getInitialCurrent=t},_onActivation:function(){if(null!==this._getInitialCurrent){var e=this._getInitialCurrent;this._emitValue(e())}this._source.onAny(this._$handleAny)}});function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!==t&&"function"!=typeof t)throw new Error("You should call toProperty() with a function or no arguments.");return new J(e,{fn:t})}var X=$("changes",{_handleValue:function(e){this._activating||this._emitValue(e)},_handleError:function(e){this._activating||this._emitError(e)}});function ee(e){var t=!1,n=O(function(n){if(!t){var r=e.then(function(e){n.emit(e),n.end()},function(e){n.error(e),n.end()});r&&"function"==typeof r.done&&r.done(),t=!0}});return Z(n,null).setName("fromPromise")}function te(){if("function"==typeof Promise)return Promise;throw new Error("There isn't default Promise, use shim or parameter")}var ne=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:e),re=ne.default?ne.default:ne;function ie(e){var t=e[re]?e[re]():e;return O(function(e){var n=t.subscribe({error:function(t){e.error(t),e.end()},next:function(t){e.emit(t)},complete:function(){e.end()}});return n.unsubscribe?function(){n.unsubscribe()}:n}).setName("fromESObservable")}function oe(e){this._observable=e.takeErrors(1)}function se(){return new oe(this)}function ae(e,t,n){for(var r in e)e.hasOwnProperty(r)&&(t.push(r),n.push(e[r]))}function le(e,t,n){var r=this;A.call(this),this._activeCount=e.length,this._sources=c(e,t),this._combinator=n,this._aliveCount=0,this._latestValues=new Array(this._sources.length),this._latestErrors=new Array(this._sources.length),function(e,t){var n=e.length,r=void 0;for(r=0;r<n;r++)e[r]=t}(this._latestValues,o),this._emitAfterActivation=!1,this._endAfterActivation=!1,this._latestErrorIndex=0,this._$handlers=[];for(var i=function(e){r._$handlers.push(function(t){return r._handleAny(e,t)})},s=0;s<this._sources.length;s++)i(s)}function ue(e,t,n){return"function"==typeof t&&(n=t,t=void 0),Array.isArray(e)?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2];if(!Array.isArray(t))throw new Error("Combine can only combine active and passive collections of the same type.");return n=n?F(n,e.length+t.length):function(e){return e},0===e.length?C():new le(e,t,n)}(e,t,n):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];if("object"!=typeof t||Array.isArray(t))throw new Error("Combine can only combine active and passive collections of the same type.");var r=[],i=[],o=[];return ae(e,r,i),ae(t,r,o),0===i.length?C():new le(i,o,function(e){for(var t={},i=e.length-1;0<=i;i--)t[r[i]]=e[i];return n?n(t):t})}(e,t,n)}r(oe.prototype,{subscribe:function(e,t,n){var r=this,i="function"==typeof e?{next:e,error:t,complete:n}:e,o=function(e){e.type===s&&(u=!0),e.type===a&&i.next?i.next(e.value):e.type===l&&i.error?i.error(e.value):e.type===s&&i.complete&&i.complete(e.value)};this._observable.onAny(o);var u=!1;return{unsubscribe:function(){u=!0,r._observable.offAny(o)},get closed(){return u}}}}),oe.prototype[re]=function(){return this},i(le,A,{_name:"combine",_onActivation:function(){this._aliveCount=this._activeCount;for(var e=this._activeCount;e<this._sources.length;e++)this._sources[e].onAny(this._$handlers[e]);for(var t=0;t<this._activeCount;t++)this._sources[t].onAny(this._$handlers[t]);this._emitAfterActivation&&(this._emitAfterActivation=!1,this._emitIfFull()),this._endAfterActivation&&this._emitEnd()},_onDeactivation:function(){var e=this._sources.length,t=void 0;for(t=0;t<e;t++)this._sources[t].offAny(this._$handlers[t])},_emitIfFull:function(){for(var e=!0,t=!1,n=this._latestValues.length,r=new Array(n),i=new Array(n),s=0;s<n;s++)r[s]=this._latestValues[s],i[s]=this._latestErrors[s],r[s]===o&&(e=!1),void 0!==i[s]&&(t=!0);if(e){var a=this._combinator;this._emitValue(a(r))}t&&this._emitError(function(e){for(var t=void 0,n=0;n<e.length;n++)void 0!==e[n]&&(void 0===t||t.index<e[n].index)&&(t=e[n]);return t.error}(i))},_handleAny:function(e,t){t.type===a||t.type===l?(t.type===a&&(this._latestValues[e]=t.value,this._latestErrors[e]=void 0),t.type===l&&(this._latestValues[e]=o,this._latestErrors[e]={index:this._latestErrorIndex++,error:t.value}),e<this._activeCount&&(this._activating?this._emitAfterActivation=!0:this._emitIfFull())):e<this._activeCount&&(this._aliveCount--,0===this._aliveCount&&(this._activating?this._endAfterActivation=!0:this._emitEnd()))},_clear:function(){A.prototype._clear.call(this),this._sources=null,this._latestValues=null,this._latestErrors=null,this._combinator=null,this._$handlers=null}});var ce={empty:function(){return C()},concat:function(e,t){return e.merge(t)},of:function(e){return q(e)},map:function(e,t){return t.map(e)},bimap:function(e,t,n){return n.mapErrors(e).map(t)},ap:function(e,t){return ue([e,t],function(e,t){return e(t)})},chain:function(e,t){return t.flatMap(e)}},de=Object.freeze({Observable:ce}),he={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){var t=this._fn;this._emitValue(t(e))}},pe=$("map",he),fe=K("map",he),me=function(e){return e};function _e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:me;return new(e._ofSameType(pe,fe))(e,{fn:t})}var ge={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){(0,this._fn)(e)&&this._emitValue(e)}},be=$("filter",ge),ve=K("filter",ge),Ae=function(e){return e},ye={_init:function(e){var t=e.n;this._n=t,t<=0&&this._emitEnd()},_handleValue:function(e){0!==this._n&&(this._n--,this._emitValue(e),0===this._n&&this._emitEnd())}},we=$("take",ye),Ce=K("take",ye),xe={_init:function(e){var t=e.n;this._n=t,t<=0&&this._emitEnd()},_handleError:function(e){0!==this._n&&(this._n--,this._emitError(e),0===this._n&&this._emitEnd())}},Ee=$("takeErrors",xe),ke=K("takeErrors",xe),Se={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){(0,this._fn)(e)?this._emitValue(e):this._emitEnd()}},Ie=$("takeWhile",Se),Te=K("takeWhile",Se),De=function(e){return e},Be={_init:function(){this._lastValue=o},_free:function(){this._lastValue=null},_handleValue:function(e){this._lastValue=e},_handleEnd:function(){this._lastValue!==o&&this._emitValue(this._lastValue),this._emitEnd()}},Me=$("last",Be),Ne=K("last",Be),Le={_init:function(e){var t=e.n;this._n=Math.max(0,t)},_handleValue:function(e){0===this._n?this._emitValue(e):this._n--}},Ve=$("skip",Le),Re=K("skip",Le),Oe={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){var t=this._fn;null===this._fn||t(e)||(this._fn=null),null===this._fn&&this._emitValue(e)}},Pe=$("skipWhile",Oe),je=K("skipWhile",Oe),Fe=function(e){return e},Ue={_init:function(e){var t=e.fn;this._fn=t,this._prev=o},_free:function(){this._fn=null,this._prev=null},_handleValue:function(e){var t=this._fn;this._prev!==o&&t(this._prev,e)||(this._prev=e,this._emitValue(e))}},He=$("skipDuplicates",Ue),ze=K("skipDuplicates",Ue),qe=function(e,t){return e===t};function We(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qe;return new(e._ofSameType(He,ze))(e,{fn:t})}var Ye={_init:function(e){var t=e.fn,n=e.seed;this._fn=t,this._prev=n},_free:function(){this._prev=null,this._fn=null},_handleValue:function(e){if(this._prev!==o){var t=this._fn;this._emitValue(t(this._prev,e))}this._prev=e}},Ge=$("diff",Ye),Qe=K("diff",Ye);function $e(e,t){return[e,t]}var Ke=K("scan",{_init:function(e){var t=e.fn,n=e.seed;this._fn=t,this._seed=n,n!==o&&this._emitValue(n)},_free:function(){this._fn=null,this._seed=null},_handleValue:function(e){var t=this._fn;null===this._currentEvent||this._currentEvent.type===l?this._emitValue(this._seed===o?e:t(this._seed,e)):this._emitValue(t(this._currentEvent.value,e))}}),Je=$("flatten",{_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){for(var t=(0,this._fn)(e),n=0;n<t.length;n++)this._emitValue(t[n])}}),Ze=function(e){return e},Xe={},et={_init:function(e){var t=this,n=e.wait;this._wait=Math.max(0,n),this._buff=[],this._$shiftBuff=function(){var e=t._buff.shift();e===Xe?t._emitEnd():t._emitValue(e)}},_free:function(){this._buff=null,this._$shiftBuff=null},_handleValue:function(e){this._activating?this._emitValue(e):(this._buff.push(e),setTimeout(this._$shiftBuff,this._wait))},_handleEnd:function(){this._activating?this._emitEnd():(this._buff.push(Xe),setTimeout(this._$shiftBuff,this._wait))}},tt=$("delay",et),nt=K("delay",et),rt=Date.now?function(){return Date.now()}:function(){return(new Date).getTime()},it={_init:function(e){var t=this,n=e.wait,r=e.leading,i=e.trailing;this._wait=Math.max(0,n),this._leading=r,this._trailing=i,this._trailingValue=null,this._timeoutId=null,this._endLater=!1,this._lastCallTime=0,this._$trailingCall=function(){return t._trailingCall()}},_free:function(){this._trailingValue=null,this._$trailingCall=null},_handleValue:function(e){if(this._activating)this._emitValue(e);else{var t=rt();0!==this._lastCallTime||this._leading||(this._lastCallTime=t);var n=this._wait-(t-this._lastCallTime);n<=0?(this._cancelTrailing(),this._lastCallTime=t,this._emitValue(e)):this._trailing&&(this._cancelTrailing(),this._trailingValue=e,this._timeoutId=setTimeout(this._$trailingCall,n))}},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId?this._endLater=!0:this._emitEnd()},_cancelTrailing:function(){null!==this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null)},_trailingCall:function(){this._emitValue(this._trailingValue),this._timeoutId=null,this._trailingValue=null,this._lastCallTime=this._leading?rt():0,this._endLater&&this._emitEnd()}},ot=$("throttle",it),st=K("throttle",it),at={_init:function(e){var t=this,n=e.wait,r=e.immediate;this._wait=Math.max(0,n),this._immediate=r,this._lastAttempt=0,this._timeoutId=null,this._laterValue=null,this._endLater=!1,this._$later=function(){return t._later()}},_free:function(){this._laterValue=null,this._$later=null},_handleValue:function(e){this._activating?this._emitValue(e):(this._lastAttempt=rt(),this._immediate&&!this._timeoutId&&this._emitValue(e),this._timeoutId||(this._timeoutId=setTimeout(this._$later,this._wait)),this._immediate||(this._laterValue=e))},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId&&!this._immediate?this._endLater=!0:this._emitEnd()},_later:function(){var e=rt()-this._lastAttempt;if(e<this._wait&&e>=0)this._timeoutId=setTimeout(this._$later,this._wait-e);else{if(this._timeoutId=null,!this._immediate){var t=this._laterValue;this._laterValue=null,this._emitValue(t)}this._endLater&&this._emitEnd()}}},lt=$("debounce",at),ut=K("debounce",at),ct={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleError:function(e){var t=this._fn;this._emitError(t(e))}},dt=$("mapErrors",ct),ht=K("mapErrors",ct),pt=function(e){return e},ft={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleError:function(e){(0,this._fn)(e)&&this._emitError(e)}},mt=$("filterErrors",ft),_t=K("filterErrors",ft),gt=function(e){return e},bt={_handleValue:function(){}},vt=$("ignoreValues",bt),At=K("ignoreValues",bt),yt={_handleError:function(){}},wt=$("ignoreErrors",yt),Ct=K("ignoreErrors",yt),xt={_handleEnd:function(){}},Et=$("ignoreEnd",xt),kt=K("ignoreEnd",xt),St={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleEnd:function(){var e=this._fn;this._emitValue(e()),this._emitEnd()}},It=$("beforeEnd",St),Tt=K("beforeEnd",St),Dt={_init:function(e){var t=e.min,n=e.max;this._max=n,this._min=t,this._buff=[]},_free:function(){this._buff=null},_handleValue:function(e){this._buff=function(e,t,n){var r=Math.min(n,e.length+1),i=e.length-r+1,o=new Array(r),s=void 0;for(s=i;s<r;s++)o[s-i]=e[s];return o[r-1]=t,o}(this._buff,e,this._max),this._buff.length>=this._min&&this._emitValue(this._buff)}},Bt=$("slidingWindow",Dt),Mt=K("slidingWindow",Dt),Nt={_init:function(e){var t=e.fn,n=e.flushOnEnd;this._fn=t,this._flushOnEnd=n,this._buff=[]},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&0!==this._buff.length&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(e){this._buff.push(e),(0,this._fn)(e)||this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},Lt=$("bufferWhile",Nt),Vt=K("bufferWhile",Nt),Rt=function(e){return e},Ot={_init:function(e){var t=e.count,n=e.flushOnEnd;this._count=t,this._flushOnEnd=n,this._buff=[]},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&0!==this._buff.length&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(e){this._buff.push(e),this._buff.length>=this._count&&this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},Pt=$("bufferWithCount",Ot),jt=K("bufferWithCount",Ot),Ft={_init:function(e){var t=this,n=e.wait,r=e.count,i=e.flushOnEnd;this._wait=n,this._count=r,this._flushOnEnd=i,this._intervalId=null,this._$onTick=function(){return t._flush()},this._buff=[]},_free:function(){this._$onTick=null,this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(e){this._buff.push(e),this._buff.length>=this._count&&(clearInterval(this._intervalId),this._flush(),this._intervalId=setInterval(this._$onTick,this._wait))},_handleEnd:function(){this._flushOnEnd&&0!==this._buff.length&&this._flush(),this._emitEnd()},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait),this._source.onAny(this._$handleAny)},_onDeactivation:function(){null!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null),this._source.offAny(this._$handleAny)}},Ut=$("bufferWithTimeOrCount",Ft),Ht=K("bufferWithTimeOrCount",Ft),zt={_init:function(e){var t,n=e.transducer;this._xform=n((t=this,{"@@transducer/step":function(e,n){return t._emitValue(n),null},"@@transducer/result":function(){return t._emitEnd(),null}}))},_free:function(){this._xform=null},_handleValue:function(e){null!==this._xform["@@transducer/step"](null,e)&&this._xform["@@transducer/result"](null)},_handleEnd:function(){this._xform["@@transducer/result"](null)}},qt=$("transduce",zt),Wt=K("transduce",zt),Yt={_init:function(e){var t=e.fn;this._handler=t,this._emitter=N(this)},_free:function(){this._handler=null,this._emitter=null},_handleAny:function(e){this._handler(this._emitter,e)}},Gt=$("withHandler",Yt),Qt=K("withHandler",Yt),$t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function Kt(e,t){var n=this;A.call(this),this._buffers=m(e,function(e){return $t(e)?p(e):[]}),this._sources=m(e,function(e){return $t(e)?C():e}),this._combinator=t?F(t,this._sources.length):function(e){return e},this._aliveCount=0,this._$handlers=[];for(var r=function(e){n._$handlers.push(function(t){return n._handleAny(e,t)})},i=0;i<this._sources.length;i++)r(i)}function Jt(e,t){return 0===e.length?C():new Kt(e,t)}i(Kt,A,{_name:"zip",_onActivation:function(){for(;this._isFull();)this._emit();var e=this._sources.length;this._aliveCount=e;for(var t=0;t<e&&this._active;t++)this._sources[t].onAny(this._$handlers[t])},_onDeactivation:function(){for(var e=0;e<this._sources.length;e++)this._sources[e].offAny(this._$handlers[e])},_emit:function(){for(var e=new Array(this._buffers.length),t=0;t<this._buffers.length;t++)e[t]=this._buffers[t].shift();var n=this._combinator;this._emitValue(n(e))},_isFull:function(){for(var e=0;e<this._buffers.length;e++)if(0===this._buffers[e].length)return!1;return!0},_handleAny:function(e,t){t.type===a&&(this._buffers[e].push(t.value),this._isFull()&&this._emit()),t.type===l&&this._emitError(t.value),t.type===s&&(this._aliveCount--,0===this._aliveCount&&this._emitEnd())},_clear:function(){A.prototype._clear.call(this),this._sources=null,this._buffers=null,this._combinator=null,this._$handlers=null}});var Zt=function(e){return e};function Xt(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.queueLim,r=void 0===n?0:n,i=t.concurLim,o=void 0===i?-1:i,s=t.drop,a=void 0===s?"new":s;A.call(this),this._queueLim=r<0?-1:r,this._concurLim=o<0?-1:o,this._drop=a,this._queue=[],this._curSources=[],this._$handleSubAny=function(t){return e._handleSubAny(t)},this._$endHandlers=[],this._currentlyAdding=null,0===this._concurLim&&this._emitEnd()}function en(e){Xt.call(this),this._addAll(e),this._initialised=!0}function tn(e){return 0===e.length?C():new en(e)}function nn(e){var t=this;A.call(this),this._generator=e,this._source=null,this._inLoop=!1,this._iteration=0,this._$handleAny=function(e){return t._handleAny(e)}}i(Xt,A,{_name:"abstractPool",_add:function(e,t){t=t||Zt,-1===this._concurLim||this._curSources.length<this._concurLim?this._addToCur(t(e)):-1===this._queueLim||this._queue.length<this._queueLim?this._addToQueue(t(e)):"old"===this._drop&&(this._removeOldest(),this._add(e,t))},_addAll:function(e){var t=this;!function(e,t){var n=e.length,r=void 0;for(r=0;r<n;r++)t(e[r])}(e,function(e){return t._add(e)})},_remove:function(e){-1===this._removeCur(e)&&this._removeQueue(e)},_addToQueue:function(e){this._queue=c(this._queue,[e])},_addToCur:function(e){if(this._active){if(!e._alive)return e._currentEvent&&this._emit(e._currentEvent.type,e._currentEvent.value),void(this._active&&(0!==this._queue.length?this._pullQueue():0===this._curSources.length&&this._onEmpty()));this._currentlyAdding=e,e.onAny(this._$handleSubAny),this._currentlyAdding=null,e._alive?(this._curSources=c(this._curSources,[e]),this._active&&this._subToEnd(e)):0!==this._queue.length?this._pullQueue():0===this._curSources.length&&this._onEmpty()}else this._curSources=c(this._curSources,[e])},_subToEnd:function(e){var t=this,n=function(){return t._removeCur(e)};this._$endHandlers.push({obs:e,handler:n}),e.onEnd(n)},_subscribe:function(e){e.onAny(this._$handleSubAny),this._active&&this._subToEnd(e)},_unsubscribe:function(e){e.offAny(this._$handleSubAny);var t=h(this._$endHandlers,function(t){return t.obs===e});-1!==t&&(e.offEnd(this._$endHandlers[t].handler),this._$endHandlers.splice(t,1))},_handleSubAny:function(e){e.type===a?this._emitValue(e.value):e.type===l&&this._emitError(e.value)},_removeQueue:function(e){var t=d(this._queue,e);return this._queue=f(this._queue,t),t},_removeCur:function(e){this._active&&this._unsubscribe(e);var t=d(this._curSources,e);return this._curSources=f(this._curSources,t),-1!==t&&(0!==this._queue.length?this._pullQueue():0===this._curSources.length&&this._onEmpty()),t},_removeOldest:function(){this._removeCur(this._curSources[0])},_pullQueue:function(){0!==this._queue.length&&(this._queue=p(this._queue),this._addToCur(this._queue.shift()))},_onActivation:function(){for(var e=0,t=this._curSources;e<t.length&&this._active;e++)this._subscribe(t[e])},_onDeactivation:function(){for(var e=0,t=this._curSources;e<t.length;e++)this._unsubscribe(t[e]);null!==this._currentlyAdding&&this._unsubscribe(this._currentlyAdding)},_isEmpty:function(){return 0===this._curSources.length},_onEmpty:function(){},_clear:function(){A.prototype._clear.call(this),this._queue=null,this._curSources=null,this._$handleSubAny=null,this._$endHandlers=null}}),i(en,Xt,{_name:"merge",_onEmpty:function(){this._initialised&&this._emitEnd()}}),i(nn,A,{_name:"repeat",_handleAny:function(e){e.type===s?(this._source=null,this._getSource()):this._emit(e.type,e.value)},_getSource:function(){if(!this._inLoop){this._inLoop=!0;for(var e=this._generator;null===this._source&&this._alive&&this._active;)this._source=e(this._iteration++),this._source?this._source.onAny(this._$handleAny):this._emitEnd();this._inLoop=!1}},_onActivation:function(){this._source?this._source.onAny(this._$handleAny):this._getSource()},_onDeactivation:function(){this._source&&this._source.offAny(this._$handleAny)},_clear:function(){A.prototype._clear.call(this),this._generator=null,this._source=null,this._$handleAny=null}});var rn=function(e){return new nn(e)};function on(e){return rn(function(t){return e.length>t&&e[t]}).setName("concat")}function sn(){Xt.call(this)}function an(e,t,n){var r=this;Xt.call(this,n),this._source=e,this._fn=t,this._mainEnded=!1,this._lastCurrent=null,this._$handleMain=function(e){return r._handleMain(e)}}function ln(e,t){an.call(this,e,t)}function un(e,t){return function(n,r,i){var s=this;e.call(this),this._primary=n,this._secondary=r,this._name=n._name+"."+t,this._lastSecondary=o,this._$handleSecondaryAny=function(e){return s._handleSecondaryAny(e)},this._$handlePrimaryAny=function(e){return s._handlePrimaryAny(e)},this._init(i)}}function cn(e){return{_init:function(){},_free:function(){},_handlePrimaryValue:function(e){this._emitValue(e)},_handlePrimaryError:function(e){this._emitError(e)},_handlePrimaryEnd:function(){this._emitEnd()},_handleSecondaryValue:function(e){this._lastSecondary=e},_handleSecondaryError:function(e){this._emitError(e)},_handleSecondaryEnd:function(){},_handlePrimaryAny:function(e){switch(e.type){case a:return this._handlePrimaryValue(e.value);case l:return this._handlePrimaryError(e.value);case s:return this._handlePrimaryEnd(e.value)}},_handleSecondaryAny:function(e){switch(e.type){case a:return this._handleSecondaryValue(e.value);case l:return this._handleSecondaryError(e.value);case s:this._handleSecondaryEnd(e.value),this._removeSecondary()}},_removeSecondary:function(){null!==this._secondary&&(this._secondary.offAny(this._$handleSecondaryAny),this._$handleSecondaryAny=null,this._secondary=null)},_onActivation:function(){null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny),this._active&&this._primary.onAny(this._$handlePrimaryAny)},_onDeactivation:function(){null!==this._secondary&&this._secondary.offAny(this._$handleSecondaryAny),this._primary.offAny(this._$handlePrimaryAny)},_clear:function(){e.prototype._clear.call(this),this._primary=null,this._secondary=null,this._lastSecondary=null,this._$handleSecondaryAny=null,this._$handlePrimaryAny=null,this._free()}}}function dn(e,t){var n=un(A,e);return i(n,A,cn(A),t),n}function hn(e,t){var n=un(y,e);return i(n,y,cn(y),t),n}i(sn,Xt,{_name:"pool",plug:function(e){return this._add(e),this},unplug:function(e){return this._remove(e),this}}),i(an,Xt,{_onActivation:function(){Xt.prototype._onActivation.call(this),this._active&&this._source.onAny(this._$handleMain)},_onDeactivation:function(){Xt.prototype._onDeactivation.call(this),this._source.offAny(this._$handleMain),this._hadNoEvSinceDeact=!0},_handleMain:function(e){e.type===a&&(this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===e.value||this._add(e.value,this._fn),this._lastCurrent=e.value,this._hadNoEvSinceDeact=!1),e.type===l&&this._emitError(e.value),e.type===s&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)},_onEmpty:function(){this._mainEnded&&this._emitEnd()},_clear:function(){Xt.prototype._clear.call(this),this._source=null,this._lastCurrent=null,this._$handleMain=null}}),i(ln,an,{_handleMain:function(e){e.type===l&&(this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===e.value||this._add(e.value,this._fn),this._lastCurrent=e.value,this._hadNoEvSinceDeact=!1),e.type===a&&this._emitValue(e.value),e.type===s&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)}});var pn={_handlePrimaryValue:function(e){this._lastSecondary!==o&&this._lastSecondary&&this._emitValue(e)},_handleSecondaryEnd:function(){this._lastSecondary!==o&&this._lastSecondary||this._emitEnd()}},fn=dn("filterBy",pn),mn=hn("filterBy",pn),_n=function(e,t){return t},gn={_handlePrimaryValue:function(e){this._lastSecondary!==o&&this._emitValue(e)},_handleSecondaryEnd:function(){this._lastSecondary===o&&this._emitEnd()}},bn=dn("skipUntilBy",gn),vn=hn("skipUntilBy",gn),An={_handleSecondaryValue:function(){this._emitEnd()}},yn=dn("takeUntilBy",An),wn=hn("takeUntilBy",An),Cn={_init:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).flushOnEnd,t=void 0===e||e;this._buff=[],this._flushOnEnd=t},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_onActivation:function(){this._primary.onAny(this._$handlePrimaryAny),this._alive&&null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny)},_handlePrimaryValue:function(e){this._buff.push(e)},_handleSecondaryValue:function(){this._flush()},_handleSecondaryEnd:function(){this._flushOnEnd||this._emitEnd()}},xn=dn("bufferBy",Cn),En=hn("bufferBy",Cn),kn={_init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.flushOnEnd,n=void 0===t||t,r=e.flushOnChange,i=void 0!==r&&r;this._buff=[],this._flushOnEnd=n,this._flushOnChange=i},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_handlePrimaryValue:function(e){this._buff.push(e),this._lastSecondary===o||this._lastSecondary||this._flush()},_handleSecondaryEnd:function(){this._flushOnEnd||this._lastSecondary!==o&&!this._lastSecondary||this._emitEnd()},_handleSecondaryValue:function(e){this._flushOnChange&&!e&&this._flush(),this._lastSecondary=e}},Sn=dn("bufferWhileBy",kn),In=hn("bufferWhileBy",kn),Tn=function(){return!1},Dn=function(){return!0},Bn={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){var t=(0,this._fn)(e);t.convert?this._emitError(t.error):this._emitValue(e)}},Mn=$("valuesToErrors",Bn),Nn=K("valuesToErrors",Bn),Ln=function(e){return{convert:!0,error:e}},Vn={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleError:function(e){var t=(0,this._fn)(e);t.convert?this._emitValue(t.value):this._emitError(e)}},Rn=$("errorsToValues",Vn),On=K("errorsToValues",Vn),Pn=function(e){return{convert:!0,value:e}},jn={_handleError:function(e){this._emitError(e),this._emitEnd()}},Fn=$("endOnError",jn),Un=K("endOnError",jn);v.prototype.toProperty=function(e){return Z(this,e)},v.prototype.changes=function(){return new X(this)},v.prototype.toPromise=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:te(),n=null;return new t(function(t,r){e.onAny(function(e){e.type===s&&null!==n?((n.type===a?t:r)(n.value),n=null):n=e})})}(this,e)},v.prototype.toESObservable=se,v.prototype[re]=se,v.prototype.map=function(e){return _e(this,e)},v.prototype.filter=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ae;return new(e._ofSameType(be,ve))(e,{fn:t})}(this,e)},v.prototype.take=function(e){return function(e,t){return new(e._ofSameType(we,Ce))(e,{n:t})}(this,e)},v.prototype.takeErrors=function(e){return function(e,t){return new(e._ofSameType(Ee,ke))(e,{n:t})}(this,e)},v.prototype.takeWhile=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;return new(e._ofSameType(Ie,Te))(e,{fn:t})}(this,e)},v.prototype.last=function(){return new((e=this)._ofSameType(Me,Ne))(e);var e},v.prototype.skip=function(e){return function(e,t){return new(e._ofSameType(Ve,Re))(e,{n:t})}(this,e)},v.prototype.skipWhile=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fe;return new(e._ofSameType(Pe,je))(e,{fn:t})}(this,e)},v.prototype.skipDuplicates=function(e){return We(this,e)},v.prototype.diff=function(e,t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;return new(e._ofSameType(Ge,Qe))(e,{fn:t||$e,seed:n})}(this,e,t)},v.prototype.scan=function(e,t){return function(e,t){return new Ke(e,{fn:t,seed:arguments.length>2&&void 0!==arguments[2]?arguments[2]:o})}(this,e,t)},v.prototype.flatten=function(e){return function(e){return new Je(e,{fn:arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ze})}(this,e)},v.prototype.delay=function(e){return function(e,t){return new(e._ofSameType(tt,nt))(e,{wait:t})}(this,e)},v.prototype.throttle=function(e,t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.leading,i=void 0===r||r,o=n.trailing,s=void 0===o||o;return new(e._ofSameType(ot,st))(e,{wait:t,leading:i,trailing:s})}(this,e,t)},v.prototype.debounce=function(e,t){return function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).immediate,r=void 0!==n&&n;return new(e._ofSameType(lt,ut))(e,{wait:t,immediate:r})}(this,e,t)},v.prototype.mapErrors=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pt;return new(e._ofSameType(dt,ht))(e,{fn:t})}(this,e)},v.prototype.filterErrors=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gt;return new(e._ofSameType(mt,_t))(e,{fn:t})}(this,e)},v.prototype.ignoreValues=function(){return new((e=this)._ofSameType(vt,At))(e);var e},v.prototype.ignoreErrors=function(){return new((e=this)._ofSameType(wt,Ct))(e);var e},v.prototype.ignoreEnd=function(){return new((e=this)._ofSameType(Et,kt))(e);var e},v.prototype.beforeEnd=function(e){return function(e,t){return new(e._ofSameType(It,Tt))(e,{fn:t})}(this,e)},v.prototype.slidingWindow=function(e,t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new(e._ofSameType(Bt,Mt))(e,{min:n,max:t})}(this,e,t)},v.prototype.bufferWhile=function(e,t){return function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).flushOnEnd,r=void 0===n||n;return new(e._ofSameType(Lt,Vt))(e,{fn:t||Rt,flushOnEnd:r})}(this,e,t)},v.prototype.bufferWithCount=function(e,t){return function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).flushOnEnd,r=void 0===n||n;return new(e._ofSameType(Pt,jt))(e,{count:t,flushOnEnd:r})}(this,e,t)},v.prototype.bufferWithTimeOrCount=function(e,t,n){return function(e,t,n){var r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).flushOnEnd,i=void 0===r||r;return new(e._ofSameType(Ut,Ht))(e,{wait:t,count:n,flushOnEnd:i})}(this,e,t,n)},v.prototype.transduce=function(e){return function(e,t){return new(e._ofSameType(qt,Wt))(e,{transducer:t})}(this,e)},v.prototype.withHandler=function(e){return function(e,t){return new(e._ofSameType(Gt,Qt))(e,{fn:t})}(this,e)},v.prototype.thru=function(e){return e(this)},v.prototype.combine=function(e,t){return ue([this,e],t)},v.prototype.zip=function(e,t){return Jt([this,e],t)},v.prototype.merge=function(e){return tn([this,e])},v.prototype.concat=function(e){return on([this,e])};var Hn=function(){return new sn};v.prototype.flatMap=function(e){return new an(this,e).setName(this,"flatMap")},v.prototype.flatMapLatest=function(e){return new an(this,e,{concurLim:1,drop:"old"}).setName(this,"flatMapLatest")},v.prototype.flatMapFirst=function(e){return new an(this,e,{concurLim:1}).setName(this,"flatMapFirst")},v.prototype.flatMapConcat=function(e){return new an(this,e,{queueLim:-1,concurLim:1}).setName(this,"flatMapConcat")},v.prototype.flatMapConcurLimit=function(e,t){return new an(this,e,{queueLim:-1,concurLim:t}).setName(this,"flatMapConcurLimit")},v.prototype.flatMapErrors=function(e){return new ln(this,e).setName(this,"flatMapErrors")},v.prototype.filterBy=function(e){return n=e,new((t=this)._ofSameType(fn,mn))(t,n);var t,n},v.prototype.sampledBy=function(e,t){return function(e,t,n){return ue([t],[e],n?function(e,t){return n(t,e)}:_n).setName(e,"sampledBy")}(this,e,t)},v.prototype.skipUntilBy=function(e){return n=e,new((t=this)._ofSameType(bn,vn))(t,n);var t,n},v.prototype.takeUntilBy=function(e){return n=e,new((t=this)._ofSameType(yn,wn))(t,n);var t,n},v.prototype.bufferBy=function(e,t){return function(e,t,n){return new(e._ofSameType(xn,En))(e,t,n)}(this,e,t)},v.prototype.bufferWhileBy=function(e,t){return function(e,t,n){return new(e._ofSameType(Sn,In))(e,t,n)}(this,e,t)};var zn=!0;function qn(){zn=!1}function Wn(e){zn&&console&&"function"==typeof console.warn&&console.warn(e,"\nHere is an Error object for you containing the call stack:",new Error)}v.prototype.awaiting=function(e){return Wn("You are using deprecated .awaiting() method, see https://github.com/kefirjs/kefir/issues/145"),function(e,t){var n=tn([_e(e,Dn),_e(t,Tn)]);return(n=Z(n=We(n),Tn)).setName(e,"awaiting")}(this,e)},v.prototype.valuesToErrors=function(e){return Wn("You are using deprecated .valuesToErrors() method, see https://github.com/kefirjs/kefir/issues/149"),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ln;return new(e._ofSameType(Mn,Nn))(e,{fn:t})}(this,e)},v.prototype.errorsToValues=function(e){return Wn("You are using deprecated .errorsToValues() method, see https://github.com/kefirjs/kefir/issues/149"),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pn;return new(e._ofSameType(Rn,On))(e,{fn:t})}(this,e)},v.prototype.endOnError=function(){return Wn("You are using deprecated .endOnError() method, see https://github.com/kefirjs/kefir/issues/150"),new((e=this)._ofSameType(Fn,Un))(e);var e};var Yn={Observable:v,Stream:A,Property:y,never:C,later:k,interval:I,sequentially:D,fromPoll:M,withInterval:V,fromCallback:P,fromNodeCallback:j,fromEvents:H,stream:O,constant:q,constantError:Y,fromPromise:ee,fromESObservable:ie,combine:ue,zip:Jt,merge:tn,concat:on,Pool:sn,pool:Hn,repeat:rn,staticLand:de};Yn.Kefir=Yn;const Gn=Yn},4401:(e,t,n)=>{"use strict";var r=n(1654);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(9131)),o=r(n(8463)),s=r(n(5985)),a=r(n(4622)),l=function(){function e(){(0,i.default)(this,e),(0,s.default)(this,"_queue",[]),(0,s.default)(this,"_isFlushing",!1),(0,s.default)(this,"_index",0)}return(0,o.default)(e,[{key:"schedule",value:function(e){var t=this;this._queue.push(function(){try{e()}catch(e){setTimeout(function(){throw e},0)}}),1===this._queue.length&&(0,a.default)(function(){t.flush()})}},{key:"flush",value:function(){if(!this._isFlushing){this._isFlushing=!0;for(var e=this._queue;this._index<e.length;){var t=this._index;if(this._index+=1,e[t].call(),this._index>1024){for(var n=0,r=e.length-this._index;n<r;n++)e[n]=e[n+this._index];e.length-=this._index,this._index=0}}e.length=0,this._index=0,this._isFlushing=!1}}}]),e}();t.default=l,e.exports=t.default,e.exports.default=t.default},3800:(e,t,n)=>{"use strict";var r=n(1654);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return new i.default({scheduler:e.getScheduler(),read:function(){var n=new Set;return e.values().forEach(function(e){t(e)&&n.add(e)}),n},listen:function(n,r){var i=new Set;return e.subscribe({start:function(){var r=new Set;e.values().forEach(function(e){t(e)&&(i.add(e),r.add(e))}),n(r)},next:function(e){e.forEach(function(e){"add"===e.type?t(e.value)&&(i.add(e.value),r.add(e.value)):"remove"===e.type&&i.has(e.value)&&(i.delete(e.value),r.remove(e.value))})},error:function(e){r.error(e)},complete:function(){r.end()}})}})};var i=r(n(2436));e.exports=t.default,e.exports.default=t.default},5145:(e,t,n)=>{"use strict";var r=n(1654);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=!1;return new i.default({scheduler:e.getScheduler(),read:function(){if(n)throw new Error("reading inactive recursively-flatMapped stream is not supported");n=!0;var r=new Set;return e.values().forEach(function(e){t(e).values().forEach(function(e){r.add(e)})}),n=!1,r},listen:function(n,r){var i=!1,o=!1,s=!1,a=new Map;function l(e){e.isEnded()?e.values().forEach(function(e){r.add(e)}):e.subscribe({start:function(t){a.set(e,t),e.values().forEach(function(e){r.add(e)})},next:function(e){s=!0,e.forEach(function(e){"add"===e.type?r.add(e.value):"remove"===e.type&&r.remove(e.value)})},error:function(e){r.error(e)},complete:function(){a.delete(e),i&&0===a.size&&r.end()}})}n(new Set);var u=new Map,c=e.subscribe({start:function(){e.values().forEach(function(e){var n=t(e);u.set(e,n),l(n)}),o=!0},next:function(e){s=!0,e.forEach(function(e){if("add"===e.type){var n=t(e.value);u.set(e.value,n),l(n)}else if("remove"===e.type){var i=u.get(e.value);if(!i)throw new Error("removed value not in liveset");i.values().forEach(function(e){r.remove(e)}),u.delete(e.value);var o=a.get(i);o&&(o.unsubscribe(),a.delete(i))}})},error:function(e){r.error(e)},complete:function(){i=!0,o&&0===a.size&&r.end()}}),d=!1;return{unsubscribe:function(){c.unsubscribe(),a.forEach(function(e){e.unsubscribe()}),u.clear(),a.clear()},pullChanges:function(){if(!d){d=!0;do{s=!1,c.pullChanges(),a.forEach(function(e){e.pullChanges()})}while(s);d=!1}}}}})};var i=r(n(2436));e.exports=t.default,e.exports.default=t.default},2436:(e,t,n)=>{"use strict";var r=n(1654);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(9131)),o=r(n(8463)),s=r(n(5985)),a=r(n(4401)),l=r(n(8899)),u=function(){function e(t){(0,i.default)(this,e),(0,s.default)(this,"_init",void 0),(0,s.default)(this,"_scheduler",void 0),(0,s.default)(this,"_values",null),(0,s.default)(this,"_mutableValues",!1),(0,s.default)(this,"_active",null),(0,s.default)(this,"_inSubscriptionStart",!1),(0,s.default)(this,"_ended",!1),(0,s.default)(this,"_endedWithError",!1),(0,s.default)(this,"_error",null),(0,s.default)(this,"_queuedCall",!1),(0,s.default)(this,"_changeQueue",[]),(0,s.default)(this,"_observers",[]),this._init=t,this._scheduler=t.scheduler||e.defaultScheduler}return(0,o.default)(e,[{key:"_queueChange",value:function(e){var t=this;e&&this._changeQueue.push(e),this._queuedCall||(this._queuedCall=!0,this._scheduler.schedule(function(){t._queuedCall=!1;var e,n=t._changeQueue;t._changeQueue=[];var r=t._ended;r?(e=t._observers,t._observers=[]):e=t._observers.slice(),e.forEach(function(e){var i=e.observer,o=e.ignore,s=i.next;if(s)if(0===o)s.call(i,n);else{e.ignore=0;var a=n.slice(o);a.length&&s.call(i,a)}r&&(t._endedWithError?i.error&&i.error(t._error):i.complete&&i.complete())})}))}},{key:"_deactivate",value:function(){if(!this._active)throw new Error("already inactive");var e=this._active.listenHandler;this._active=null,e&&e.unsubscribe()}},{key:"values",value:function(){if(this._values){if(this._active&&!this._inSubscriptionStart){var e=this._active.listenHandler;e.pullChanges&&e.pullChanges()}return this._mutableValues&&(this._mutableValues=!1,this._values),this._values}if(this._active)throw new Error("tried to call values() on liveset during subscription before setValues was called");return this._init.read()}},{key:"isEnded",value:function(){return this._ended}},{key:"getScheduler",value:function(){return this._scheduler}},{key:"subscribe",value:function(e,t,n){var r,i=this,o=this;if(r="function"==typeof e?{next:e,error:t,complete:n}:e,this._ended){var s={closed:!1,unsubscribe:function(){s.closed=!0},pullChanges:function(){}};return r.start&&r.start(s),s.closed||(this._endedWithError?r.error&&r.error(this._error):r.complete&&r.complete()),s.closed=!0,s}var a={observer:r,ignore:this._changeQueue.length},l=!0,u=!1,c={get closed(){return!l&&o._observers.indexOf(a)<0},unsubscribe:function(){if(l)u=!0;else{var e=i._observers.indexOf(a);e>=0&&(i._observers.splice(e,1),i._ended||0!==i._observers.length||(i._values=null,i._deactivate()))}},pullChanges:function(){i._active&&i._active.listenHandler&&i._active.listenHandler.pullChanges&&i._active.listenHandler.pullChanges();var e=i._changeQueue.length,t=r.next;if(0!==e&&t){var n=i._changeQueue.slice(a.ignore);0!==n.length&&(a.ignore=e,t.call(r,n))}}};if(!this._active){var d={get closed(){return!o._active||o._active.controller!==this},add:function(e){var t=i._values;if(!t)throw new Error("setValue must be called before controller is used");i._ended||t.has(e)||(i._mutableValues||(i._values=t=new Set(t),i._mutableValues=!0),t.add(e),i._queueChange({type:"add",value:e}))},remove:function(e){var t=i._values;if(!t)throw new Error("setValue must be called before controller is used");!i._ended&&t.has(e)&&(i._mutableValues||(i._values=t=new Set(t),i._mutableValues=!0),t.delete(e),i._queueChange({type:"remove",value:e}))},error:function(e){i._ended||(i._ended=!0,i._endedWithError=!0,i._error=e,i._queueChange(),i._deactivate())},end:function(){i._ended||(i._ended=!0,i._queueChange(),i._deactivate())}},h=this._active={controller:d,listenHandler:{unsubscribe:function(){}}},p=function(){throw new Error("setValues must be called once during listen")},f=function(e){f=p,i._values=e,i._mutableValues=!1},m=this._init.listen(function(e){return f(e)},d);if(this._values||p(),"function"==typeof m)h.listenHandler={unsubscribe:m};else if(null!=m&&"function"==typeof m.unsubscribe)h.listenHandler=m;else if(null!=m)throw new TypeError("listen must return object with unsubscribe method, a function, or null");d.closed&&(this._active=h,this._deactivate())}return r.start&&(this._inSubscriptionStart=!0,r.start(c),this._inSubscriptionStart=!1),l=!1,a.ignore=this._changeQueue.length,u||this._observers.push(a),c}}],[{key:"active",value:function(t,n){var r,i=t||new Set,o=new e({scheduler:n?n.scheduler:void 0,read:function(){return i},listen:function(e,t){e(i),r=t}});return o.subscribe({}),{liveSet:o,controller:r}}},{key:"constant",value:function(t,n){var r=function(){throw new Error("Should not happen")},i=new e({scheduler:n?n.scheduler:void 0,read:r,listen:r});return i._ended=!0,i._values=t,i._mutableValues=!1,i}}]),e}();t.default=u,(0,s.default)(u,"defaultScheduler",new a.default),u.prototype[l.default]=function(){return this},e.exports=t.default,e.exports.default=t.default},9976:(e,t,n)=>{"use strict";var r=n(1654);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new i.default({scheduler:e[0]?e[0].getScheduler():void 0,read:function(){var t=new Set;return e.forEach(function(e){e.values().forEach(function(e){t.add(e)})}),t},listen:function(t,n){var r=new Set,i=new Set,o=!1;return e.forEach(function(e){var t;e.subscribe({start:function(n){t=n,i.add(t),e.values().forEach(function(e){r.add(e)})},next:function(e){e.forEach(function(e){"add"===e.type?n.add(e.value):"remove"===e.type&&n.remove(e.value)})},error:function(e){n.error(e)},complete:function(){i.delete(t),o&&0===i.size&&n.end()}})}),t(r),o=!0,0===i.size&&n.end(),{unsubscribe:function(){i.forEach(function(e){e.unsubscribe()})},pullChanges:function(){i.forEach(function(e){e.pullChanges()})}}}})};var i=r(n(2436));e.exports=t.default,e.exports.default=t.default},3507:(e,t,n)=>{"use strict";var r=n(1654);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new i.default(function(t){var n=new Map;function r(e){var r,i=new Promise(function(e){r=e});n.set(e,r);var o={value:e,removal:i};t.next(o)}var i=e.subscribe({start:function(t){var n=!0,i=!1,o=void 0;try{for(var s,a=e.values()[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var l=s.value;if(t.closed)break;r(l)}}catch(e){i=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}},next:function(e){e.forEach(function(e){"add"===e.type?r(e.value):"remove"===e.type&&function(e){var t=n.get(e);if(!t)throw new Error("Resolver not found in map for value");n.delete(e),t()}(e.value)})},error:function(e){t.error(e)},complete:function(){t.complete()}});return function(){i.unsubscribe(),n.forEach(function(e){e()})}})},r(n(2436));var i=r(n(1442));e.exports=t.default,e.exports.default=t.default},1365:(e,t,n)=>{"use strict";var r=n(1654);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){function n(e,t){var n,r=!1,i=e["@@transducer/step"]([],t);return i&&i["@@transducer/reduced"]?(n=i["@@transducer/value"],r=!0):n=i,{outputValues:n,addsComplete:r}}function r(){var r=new Map,i=t(o),s=!1,a=new Set(i["@@transducer/init"]()),l=!0,u=!1,c=void 0;try{for(var d,h=e.values()[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value,f=n(i,p),m=f.outputValues,_=f.addsComplete;r.set(p,m);for(var g=0,b=m.length;g<b;g++)a.add(m[g]);if(_){s=!0,i["@@transducer/result"]([]).forEach(function(e){a.add(e)});break}}}catch(e){u=!0,c=e}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}return{values:a,inputToOutputValues:r,xform:i,addsComplete:s}}return new i.default({scheduler:e.getScheduler(),read:function(){return r().values},listen:function(t,i){var o,s,a;return e.subscribe({start:function(){var e=r();t(e.values),o=e.inputToOutputValues,s=e.xform,a=e.addsComplete},next:function(e){for(var t=0,r=e.length;t<r;t++){var l=e[t];if("add"===l.type){if(!a){var u=l.value,c=n(s,u),d=c.outputValues,h=c.addsComplete;o.set(u,d);for(var p=0,f=d.length;p<f;p++)i.add(d[p]);h&&(a=!0,s["@@transducer/result"]([]).forEach(function(e){i.add(e)}))}}else if("remove"===l.type){var m=l.value,_=o.get(m);if(!_)throw new Error("value had not been added");_.forEach(function(e){i.remove(e)}),o.delete(m)}}},error:function(e){i.error(e)},complete:function(){i.end()}})}})};var i=r(n(2436)),o={"@@transducer/init":function(){return[]},"@@transducer/step":function(e,t){return e.push(t),e},"@@transducer/result":function(e){return e}};e.exports=t.default,e.exports.default=t.default},7230:(e,t,n)=>{var r=n(3984)(n(9107),"DataView");e.exports=r},3435:(e,t,n)=>{var r=n(6890),i=n(9484),o=n(7215),s=n(7811),a=n(747);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,e.exports=l},5217:(e,t,n)=>{var r=n(4412),i=n(8522),o=n(469),s=n(1161),a=n(1441);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,e.exports=l},5661:(e,t,n)=>{var r=n(3984)(n(9107),"Map");e.exports=r},3287:(e,t,n)=>{var r=n(8206),i=n(9768),o=n(6827),s=n(663),a=n(5135);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,e.exports=l},9102:(e,t,n)=>{var r=n(3984)(n(9107),"Promise");e.exports=r},5963:(e,t,n)=>{var r=n(3984)(n(9107),"Set");e.exports=r},1641:(e,t,n)=>{var r=n(3287),i=n(2486),o=n(9361);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=i,s.prototype.has=o,e.exports=s},6435:(e,t,n)=>{var r=n(5217),i=n(8658),o=n(3844),s=n(6503),a=n(1563),l=n(259);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=s,u.prototype.has=a,u.prototype.set=l,e.exports=u},6711:(e,t,n)=>{var r=n(9107).Symbol;e.exports=r},9282:(e,t,n)=>{var r=n(9107).Uint8Array;e.exports=r},2850:(e,t,n)=>{var r=n(3984)(n(9107),"WeakMap");e.exports=r},807:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},3928:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}},3271:(e,t,n)=>{var r=n(8357);e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}},7599:e=>{e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},7137:(e,t,n)=>{var r=n(5410),i=n(2382),o=n(2003),s=n(1262),a=n(2615),l=n(9221),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&i(e),d=!n&&!c&&s(e),h=!n&&!c&&!d&&l(e),p=n||c||d||h,f=p?r(e.length,String):[],m=f.length;for(var _ in e)!t&&!u.call(e,_)||p&&("length"==_||d&&("offset"==_||"parent"==_)||h&&("buffer"==_||"byteLength"==_||"byteOffset"==_)||a(_,m))||f.push(_);return f}},14:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},562:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},9854:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},4767:(e,t,n)=>{var r=n(8330);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},9631:e=>{e.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}},7587:(e,t,n)=>{var r=n(427),i=n(3679)(r);e.exports=i},6917:e=>{e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},4958:(e,t,n)=>{var r=n(562),i=n(4385);e.exports=function e(t,n,o,s,a){var l=-1,u=t.length;for(o||(o=i),a||(a=[]);++l<u;){var c=t[l];n>0&&o(c)?n>1?e(c,n-1,o,s,a):r(a,c):s||(a[a.length]=c)}return a}},1595:(e,t,n)=>{var r=n(951)();e.exports=r},427:(e,t,n)=>{var r=n(1595),i=n(5304);e.exports=function(e,t){return e&&r(e,t,i)}},384:(e,t,n)=>{var r=n(4275),i=n(8059);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},8821:(e,t,n)=>{var r=n(562),i=n(2003);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},6522:(e,t,n)=>{var r=n(6711),i=n(905),o=n(2588),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?i(e):o(e)}},6571:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},8357:(e,t,n)=>{var r=n(6917),i=n(3001),o=n(5957);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,i,n)}},739:(e,t,n)=>{var r=n(1641),i=n(3271),o=n(7599),s=n(14),a=n(2347),l=n(7585),u=Math.min;e.exports=function(e,t,n){for(var c=n?o:i,d=e[0].length,h=e.length,p=h,f=Array(h),m=1/0,_=[];p--;){var g=e[p];p&&t&&(g=s(g,a(t))),m=u(g.length,m),f[p]=!n&&(t||d>=120&&g.length>=120)?new r(p&&g):void 0}g=e[0];var b=-1,v=f[0];e:for(;++b<d&&_.length<m;){var A=g[b],y=t?t(A):A;if(A=n||0!==A?A:0,!(v?l(v,y):c(_,y,n))){for(p=h;--p;){var w=f[p];if(!(w?l(w,y):c(e[p],y,n)))continue e}v&&v.push(y),_.push(A)}}return _}},9593:(e,t,n)=>{var r=n(427);e.exports=function(e,t,n,i){return r(e,function(e,r,o){t(i,n(e),r,o)}),i}},2744:(e,t,n)=>{var r=n(6522),i=n(2620);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},9336:(e,t,n)=>{var r=n(1894),i=n(2620);e.exports=function e(t,n,o,s,a){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,s,e,a))}},1894:(e,t,n)=>{var r=n(6435),i=n(1505),o=n(9620),s=n(439),a=n(695),l=n(2003),u=n(1262),c=n(9221),d="[object Arguments]",h="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,_,g){var b=l(e),v=l(t),A=b?h:a(e),y=v?h:a(t),w=(A=A==d?p:A)==p,C=(y=y==d?p:y)==p,x=A==y;if(x&&u(e)){if(!u(t))return!1;b=!0,w=!1}if(x&&!w)return g||(g=new r),b||c(e)?i(e,t,n,m,_,g):o(e,t,A,n,m,_,g);if(!(1&n)){var E=w&&f.call(e,"__wrapped__"),k=C&&f.call(t,"__wrapped__");if(E||k){var S=E?e.value():e,I=k?t.value():t;return g||(g=new r),_(S,I,n,m,g)}}return!!x&&(g||(g=new r),s(e,t,n,m,_,g))}},4253:(e,t,n)=>{var r=n(6435),i=n(9336);e.exports=function(e,t,n,o){var s=n.length,a=s,l=!o;if(null==e)return!a;for(e=Object(e);s--;){var u=n[s];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++s<a;){var c=(u=n[s])[0],d=e[c],h=u[1];if(l&&u[2]){if(void 0===d&&!(c in e))return!1}else{var p=new r;if(o)var f=o(d,h,c,e,t,p);if(!(void 0===f?i(h,d,3,o,p):f))return!1}}return!0}},3001:e=>{e.exports=function(e){return e!=e}},2249:(e,t,n)=>{var r=n(8148),i=n(1398),o=n(5603),s=n(1543),a=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,d=u.hasOwnProperty,h=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?h:a).test(s(e))}},5387:(e,t,n)=>{var r=n(6522),i=n(7164),o=n(2620),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!s[r(e)]}},7675:(e,t,n)=>{var r=n(5141),i=n(8476),o=n(1686),s=n(2003),a=n(7093);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?s(e)?i(e[0],e[1]):r(e):a(e)}},6794:(e,t,n)=>{var r=n(6165),i=n(6132),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},8157:(e,t,n)=>{var r=n(5603),i=n(6165),o=n(4555),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var a in e)("constructor"!=a||!t&&s.call(e,a))&&n.push(a);return n}},5718:(e,t,n)=>{var r=n(7587),i=n(6316);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,function(e,r,i){o[++n]=t(e,r,i)}),o}},5141:(e,t,n)=>{var r=n(4253),i=n(8418),o=n(3591);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},8476:(e,t,n)=>{var r=n(9336),i=n(1214),o=n(8765),s=n(5456),a=n(7030),l=n(3591),u=n(8059);e.exports=function(e,t){return s(e)&&a(t)?l(u(e),t):function(n){var s=i(n,e);return void 0===s&&s===t?o(n,e):r(t,s,3)}}},3729:(e,t,n)=>{var r=n(14),i=n(384),o=n(7675),s=n(5718),a=n(1163),l=n(2347),u=n(7644),c=n(1686),d=n(2003);e.exports=function(e,t,n){t=t.length?r(t,function(e){return d(e)?function(t){return i(t,1===e.length?e[0]:e)}:e}):[c];var h=-1;t=r(t,l(o));var p=s(e,function(e,n,i){return{criteria:r(t,function(t){return t(e)}),index:++h,value:e}});return a(p,function(e,t){return u(e,t,n)})}},1171:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},4589:(e,t,n)=>{var r=n(384);e.exports=function(e){return function(t){return r(t,e)}}},9390:e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},7916:(e,t,n)=>{var r=n(1289),i=n(2615),o=Array.prototype.splice;e.exports=function(e,t){for(var n=e?t.length:0,s=n-1;n--;){var a=t[n];if(n==s||a!==l){var l=a;i(a)?o.call(e,a,1):r(e,a)}}return e}},3408:(e,t,n)=>{var r=n(1686),i=n(5683),o=n(6391);e.exports=function(e,t){return o(i(e,t,r),e+"")}},7880:(e,t,n)=>{var r=n(7660),i=n(3009),o=n(1686),s=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=s},4198:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},1163:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},5410:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},8354:(e,t,n)=>{var r=n(6711),i=n(14),o=n(2003),s=n(6596),a=r?r.prototype:void 0,l=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(s(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},9070:(e,t,n)=>{var r=n(8882),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},2347:e=>{e.exports=function(e){return function(t){return e(t)}}},7971:(e,t,n)=>{var r=n(1641),i=n(3271),o=n(7599),s=n(7585),a=n(7455),l=n(5841);e.exports=function(e,t,n){var u=-1,c=i,d=e.length,h=!0,p=[],f=p;if(n)h=!1,c=o;else if(d>=200){var m=t?null:a(e);if(m)return l(m);h=!1,c=s,f=new r}else f=t?[]:p;e:for(;++u<d;){var _=e[u],g=t?t(_):_;if(_=n||0!==_?_:0,h&&g==g){for(var b=f.length;b--;)if(f[b]===g)continue e;t&&f.push(g),p.push(_)}else c(f,g,n)||(f!==p&&f.push(g),p.push(_))}return p}},1289:(e,t,n)=>{var r=n(4275),i=n(6456),o=n(1339),s=n(8059);e.exports=function(e,t){return t=r(t,e),null==(e=o(e,t))||delete e[s(i(t))]}},4956:(e,t,n)=>{var r=n(14);e.exports=function(e,t){return r(t,function(t){return e[t]})}},7585:e=>{e.exports=function(e,t){return e.has(t)}},9471:(e,t,n)=>{var r=n(1899);e.exports=function(e){return r(e)?e:[]}},4275:(e,t,n)=>{var r=n(2003),i=n(5456),o=n(5240),s=n(7060);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(s(e))}},8452:(e,t,n)=>{var r=n(6596);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e==e,s=r(e),a=void 0!==t,l=null===t,u=t==t,c=r(t);if(!l&&!c&&!s&&e>t||s&&a&&u&&!l&&!c||i&&a&&u||!n&&u||!o)return 1;if(!i&&!s&&!c&&e<t||c&&n&&o&&!i&&!s||l&&n&&o||!a&&o||!u)return-1}return 0}},7644:(e,t,n)=>{var r=n(8452);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,s=t.criteria,a=o.length,l=n.length;++i<a;){var u=r(o[i],s[i]);if(u)return i>=l?u:u*("desc"==n[i]?-1:1)}return e.index-t.index}},3887:(e,t,n)=>{var r=n(9107)["__core-js_shared__"];e.exports=r},3679:(e,t,n)=>{var r=n(6316);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,s=t?o:-1,a=Object(n);(t?s--:++s<o)&&!1!==i(a[s],s,a););return n}}},951:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var l=s[e?a:++i];if(!1===n(o[l],l,o))break}return t}}},7216:(e,t,n)=>{var r=n(7675),i=n(6316),o=n(5304);e.exports=function(e){return function(t,n,s){var a=Object(t);if(!i(t)){var l=r(n,3);t=o(t),n=function(e){return l(a[e],e,a)}}var u=e(t,n,s);return u>-1?a[l?t[u]:u]:void 0}}},1624:(e,t,n)=>{var r=n(9593);e.exports=function(e,t){return function(n,i){return r(n,e,t(i),{})}}},7455:(e,t,n)=>{var r=n(5963),i=n(1700),o=n(5841),s=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=s},3009:(e,t,n)=>{var r=n(3984),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},1505:(e,t,n)=>{var r=n(1641),i=n(9854),o=n(7585);e.exports=function(e,t,n,s,a,l){var u=1&n,c=e.length,d=t.length;if(c!=d&&!(u&&d>c))return!1;var h=l.get(e),p=l.get(t);if(h&&p)return h==t&&p==e;var f=-1,m=!0,_=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++f<c;){var g=e[f],b=t[f];if(s)var v=u?s(b,g,f,t,e,l):s(g,b,f,e,t,l);if(void 0!==v){if(v)continue;m=!1;break}if(_){if(!i(t,function(e,t){if(!o(_,t)&&(g===e||a(g,e,n,s,l)))return _.push(t)})){m=!1;break}}else if(g!==b&&!a(g,b,n,s,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},9620:(e,t,n)=>{var r=n(6711),i=n(9282),o=n(8330),s=n(1505),a=n(5483),l=n(5841),u=r?r.prototype:void 0,c=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=a;case"[object Set]":var f=1&r;if(p||(p=l),e.size!=t.size&&!f)return!1;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var _=s(p(e),p(t),r,u,d,h);return h.delete(e),_;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},439:(e,t,n)=>{var r=n(5760),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,s,a){var l=1&n,u=r(e),c=u.length;if(c!=r(t).length&&!l)return!1;for(var d=c;d--;){var h=u[d];if(!(l?h in t:i.call(t,h)))return!1}var p=a.get(e),f=a.get(t);if(p&&f)return p==t&&f==e;var m=!0;a.set(e,t),a.set(t,e);for(var _=l;++d<c;){var g=e[h=u[d]],b=t[h];if(o)var v=l?o(b,g,h,t,e,a):o(g,b,h,e,t,a);if(!(void 0===v?g===b||s(g,b,n,o,a):v)){m=!1;break}_||(_="constructor"==h)}if(m&&!_){var A=e.constructor,y=t.constructor;A==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof A&&A instanceof A&&"function"==typeof y&&y instanceof y||(m=!1)}return a.delete(e),a.delete(t),m}},9025:(e,t,n)=>{var r=n(9390)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=r},2718:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},5760:(e,t,n)=>{var r=n(8821),i=n(6806),o=n(5304);e.exports=function(e){return r(e,o,i)}},6929:(e,t,n)=>{var r=n(9732);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},8418:(e,t,n)=>{var r=n(7030),i=n(5304);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],s=e[o];t[n]=[o,s,r(s)]}return t}},3984:(e,t,n)=>{var r=n(2249),i=n(1074);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},905:(e,t,n)=>{var r=n(6711),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[a]=n:delete e[a]),i}},6806:(e,t,n)=>{var r=n(3928),i=n(119),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),r(s(e),function(t){return o.call(e,t)}))}:i;e.exports=a},695:(e,t,n)=>{var r=n(7230),i=n(5661),o=n(9102),s=n(5963),a=n(2850),l=n(6522),u=n(1543),c="[object Map]",d="[object Promise]",h="[object Set]",p="[object WeakMap]",f="[object DataView]",m=u(r),_=u(i),g=u(o),b=u(s),v=u(a),A=l;(r&&A(new r(new ArrayBuffer(1)))!=f||i&&A(new i)!=c||o&&A(o.resolve())!=d||s&&A(new s)!=h||a&&A(new a)!=p)&&(A=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case m:return f;case _:return c;case g:return d;case b:return h;case v:return p}return t}),e.exports=A},1074:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},2248:(e,t,n)=>{var r=n(4275),i=n(2382),o=n(2003),s=n(2615),a=n(7164),l=n(8059);e.exports=function(e,t,n){for(var u=-1,c=(t=r(t,e)).length,d=!1;++u<c;){var h=l(t[u]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++u!=c?d:!!(c=null==e?0:e.length)&&a(c)&&s(h,c)&&(o(e)||i(e))}},6890:(e,t,n)=>{var r=n(6060);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},9484:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7215:(e,t,n)=>{var r=n(6060),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},7811:(e,t,n)=>{var r=n(6060),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},747:(e,t,n)=>{var r=n(6060);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},4385:(e,t,n)=>{var r=n(6711),i=n(2382),o=n(2003),s=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(s&&e&&e[s])}},2615:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5934:(e,t,n)=>{var r=n(8330),i=n(6316),o=n(2615),s=n(5603);e.exports=function(e,t,n){if(!s(n))return!1;var a=typeof t;return!!("number"==a?i(n)&&o(t,n.length):"string"==a&&t in n)&&r(n[t],e)}},5456:(e,t,n)=>{var r=n(2003),i=n(6596),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||s.test(e)||!o.test(e)||null!=t&&e in Object(t)}},9732:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},1398:(e,t,n)=>{var r,i=n(3887),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},6165:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},7030:(e,t,n)=>{var r=n(5603);e.exports=function(e){return e==e&&!r(e)}},4412:e=>{e.exports=function(){this.__data__=[],this.size=0}},8522:(e,t,n)=>{var r=n(4767),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},469:(e,t,n)=>{var r=n(4767);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},1161:(e,t,n)=>{var r=n(4767);e.exports=function(e){return r(this.__data__,e)>-1}},1441:(e,t,n)=>{var r=n(4767);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},8206:(e,t,n)=>{var r=n(3435),i=n(5217),o=n(5661);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},9768:(e,t,n)=>{var r=n(6929);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},6827:(e,t,n)=>{var r=n(6929);e.exports=function(e){return r(this,e).get(e)}},663:(e,t,n)=>{var r=n(6929);e.exports=function(e){return r(this,e).has(e)}},5135:(e,t,n)=>{var r=n(6929);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},5483:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},3591:e=>{e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},874:(e,t,n)=>{var r=n(9513);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},6060:(e,t,n)=>{var r=n(3984)(Object,"create");e.exports=r},6132:(e,t,n)=>{var r=n(889)(Object.keys,Object);e.exports=r},4555:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},8315:(e,t,n)=>{e=n.nmd(e);var r=n(2718),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i&&r.process,a=function(){try{return o&&o.require&&o.require("util").types||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a},2588:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},889:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},5683:(e,t,n)=>{var r=n(807),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,s=-1,a=i(o.length-t,0),l=Array(a);++s<a;)l[s]=o[t+s];s=-1;for(var u=Array(t+1);++s<t;)u[s]=o[s];return u[t]=n(l),r(e,this,u)}}},1339:(e,t,n)=>{var r=n(384),i=n(4198);e.exports=function(e,t){return t.length<2?e:r(e,i(t,0,-1))}},9107:(e,t,n)=>{var r=n(2718),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},2486:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},9361:e=>{e.exports=function(e){return this.__data__.has(e)}},5841:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},6391:(e,t,n)=>{var r=n(7880),i=n(9437)(r);e.exports=i},9437:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},8658:(e,t,n)=>{var r=n(5217);e.exports=function(){this.__data__=new r,this.size=0}},3844:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},6503:e=>{e.exports=function(e){return this.__data__.get(e)}},1563:e=>{e.exports=function(e){return this.__data__.has(e)}},259:(e,t,n)=>{var r=n(5217),i=n(5661),o=n(3287);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}},5957:e=>{e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},5240:(e,t,n)=>{var r=n(874),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)}),t});e.exports=s},8059:(e,t,n)=>{var r=n(6596);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},1543:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},8882:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},163:(e,t,n)=>{var r=n(8007);e.exports=function(e,t){var n;if("function"!=typeof t)throw new TypeError("Expected a function");return e=r(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}},7660:e=>{e.exports=function(e){return function(){return e}}},4503:(e,t,n)=>{var r=n(5603),i=n(1406),o=n(3920),s=Math.max,a=Math.min;e.exports=function(e,t,n){var l,u,c,d,h,p,f=0,m=!1,_=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var n=l,r=u;return l=u=void 0,f=t,d=e.apply(r,n)}function v(e){var n=e-p;return void 0===p||n>=t||n<0||_&&e-f>=c}function A(){var e=i();if(v(e))return y(e);h=setTimeout(A,function(e){var n=t-(e-p);return _?a(n,c-(e-f)):n}(e))}function y(e){return h=void 0,g&&l?b(e):(l=u=void 0,d)}function w(){var e=i(),n=v(e);if(l=arguments,u=this,p=e,n){if(void 0===h)return function(e){return f=e,h=setTimeout(A,t),m?b(e):d}(p);if(_)return clearTimeout(h),h=setTimeout(A,t),b(p)}return void 0===h&&(h=setTimeout(A,t)),d}return t=o(t)||0,r(n)&&(m=!!n.leading,c=(_="maxWait"in n)?s(o(n.maxWait)||0,t):c,g="trailing"in n?!!n.trailing:g),w.cancel=function(){void 0!==h&&clearTimeout(h),f=0,l=p=u=h=void 0},w.flush=function(){return void 0===h?d:y(i())},w}},8278:(e,t,n)=>{var r=n(3408),i=n(8330),o=n(5934),s=n(7495),a=Object.prototype,l=a.hasOwnProperty,u=r(function(e,t){e=Object(e);var n=-1,r=t.length,u=r>2?t[2]:void 0;for(u&&o(t[0],t[1],u)&&(r=1);++n<r;)for(var c=t[n],d=s(c),h=-1,p=d.length;++h<p;){var f=d[h],m=e[f];(void 0===m||i(m,a[f])&&!l.call(e,f))&&(e[f]=c[f])}return e});e.exports=u},8330:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},3131:(e,t,n)=>{var r=n(9025),i=n(7060),o=/[&<>"']/g,s=RegExp(o.source);e.exports=function(e){return(e=i(e))&&s.test(e)?e.replace(o,r):e}},5098:(e,t,n)=>{var r=n(7060),i=/[\\^$.*+?()[\]{}|]/g,o=RegExp(i.source);e.exports=function(e){return(e=r(e))&&o.test(e)?e.replace(i,"\\$&"):e}},4455:(e,t,n)=>{var r=n(7216)(n(9339));e.exports=r},9339:(e,t,n)=>{var r=n(6917),i=n(7675),o=n(8007),s=Math.max;e.exports=function(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var l=null==n?0:o(n);return l<0&&(l=s(a+l,0)),r(e,i(t,3),l)}},2427:(e,t,n)=>{var r=n(6917),i=n(7675),o=n(8007),s=Math.max,a=Math.min;e.exports=function(e,t,n){var l=null==e?0:e.length;if(!l)return-1;var u=l-1;return void 0!==n&&(u=o(n),u=n<0?s(l+u,0):a(u,l-1)),r(e,i(t,3),u,!0)}},6501:(e,t,n)=>{var r=n(4958),i=n(7528);e.exports=function(e,t){return r(i(e,t),1)}},4176:(e,t,n)=>{var r=n(4958);e.exports=function(e){return null!=e&&e.length?r(e,1):[]}},1214:(e,t,n)=>{var r=n(384);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},8765:(e,t,n)=>{var r=n(6571),i=n(2248);e.exports=function(e,t){return null!=e&&i(e,t,r)}},1686:e=>{e.exports=function(e){return e}},5193:(e,t,n)=>{var r=n(8357),i=n(6316),o=n(3085),s=n(8007),a=n(2),l=Math.max;e.exports=function(e,t,n,u){e=i(e)?e:a(e),n=n&&!u?s(n):0;var c=e.length;return n<0&&(n=l(c+n,0)),o(e)?n<=c&&e.indexOf(t,n)>-1:!!c&&r(e,t,n)>-1}},4225:(e,t,n)=>{var r=n(14),i=n(739),o=n(3408),s=n(9471),a=o(function(e){var t=r(e,s);return t.length&&t[0]===e[0]?i(t):[]});e.exports=a},3929:(e,t,n)=>{var r=n(7675),i=n(1624),o=Object.prototype,s=o.hasOwnProperty,a=o.toString,l=i(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=a.call(t)),s.call(e,t)?e[t].push(n):e[t]=[n]},r);e.exports=l},2382:(e,t,n)=>{var r=n(2744),i=n(2620),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=l},2003:e=>{var t=Array.isArray;e.exports=t},6316:(e,t,n)=>{var r=n(8148),i=n(7164);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},1899:(e,t,n)=>{var r=n(6316),i=n(2620);e.exports=function(e){return i(e)&&r(e)}},1262:(e,t,n)=>{e=n.nmd(e);var r=n(9107),i=n(2125),o=t&&!t.nodeType&&t,s=o&&e&&!e.nodeType&&e,a=s&&s.exports===o?r.Buffer:void 0,l=(a?a.isBuffer:void 0)||i;e.exports=l},1470:(e,t,n)=>{var r=n(9336);e.exports=function(e,t){return r(e,t)}},8148:(e,t,n)=>{var r=n(6522),i=n(5603);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},7164:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},5603:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},2620:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},3085:(e,t,n)=>{var r=n(6522),i=n(2003),o=n(2620);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},6596:(e,t,n)=>{var r=n(6522),i=n(2620);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9221:(e,t,n)=>{var r=n(5387),i=n(2347),o=n(8315),s=o&&o.isTypedArray,a=s?i(s):r;e.exports=a},5304:(e,t,n)=>{var r=n(7137),i=n(6794),o=n(6316);e.exports=function(e){return o(e)?r(e):i(e)}},7495:(e,t,n)=>{var r=n(7137),i=n(8157),o=n(6316);e.exports=function(e){return o(e)?r(e,!0):i(e)}},6456:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},7528:(e,t,n)=>{var r=n(14),i=n(7675),o=n(5718),s=n(2003);e.exports=function(e,t){return(s(e)?r:o)(e,i(t,3))}},9513:(e,t,n)=>{var r=n(3287);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},1700:e=>{e.exports=function(){}},1406:(e,t,n)=>{var r=n(9107);e.exports=function(){return r.Date.now()}},8921:(e,t,n)=>{var r=n(163);e.exports=function(e){return r(2,e)}},7093:(e,t,n)=>{var r=n(1171),i=n(4589),o=n(5456),s=n(8059);e.exports=function(e){return o(e)?r(s(e)):i(e)}},2036:(e,t,n)=>{var r=n(7675),i=n(7916);e.exports=function(e,t){var n=[];if(!e||!e.length)return n;var o=-1,s=[],a=e.length;for(t=r(t,3);++o<a;){var l=e[o];t(l,o,e)&&(n.push(l),s.push(o))}return i(e,s),n}},3281:(e,t,n)=>{var r=n(4958),i=n(3729),o=n(3408),s=n(5934),a=o(function(e,t){if(null==e)return[];var n=t.length;return n>1&&s(e,t[0],t[1])?t=[]:n>2&&s(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])});e.exports=a},7013:(e,t,n)=>{var r=n(9631),i=n(8354),o=n(8007),s=n(7060);e.exports=function(e,t,n){return e=s(e),n=null==n?0:r(o(n),0,e.length),t=i(t),e.slice(n,n+t.length)==t}},119:e=>{e.exports=function(){return[]}},2125:e=>{e.exports=function(){return!1}},1680:(e,t,n)=>{var r=n(4503),i=n(5603);e.exports=function(e,t,n){var o=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:o,maxWait:t,trailing:s})}},3950:(e,t,n)=>{var r=n(3920),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},8007:(e,t,n)=>{var r=n(3950);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},3920:(e,t,n)=>{var r=n(9070),i=n(5603),o=n(6596),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=a.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):s.test(e)?NaN:+e}},7060:(e,t,n)=>{var r=n(8354);e.exports=function(e){return null==e?"":r(e)}},1285:(e,t,n)=>{var r=n(7971);e.exports=function(e){return e&&e.length?r(e):[]}},8496:(e,t,n)=>{var r=n(7675),i=n(7971);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},2344:(e,t,n)=>{var r=n(3928),i=n(14),o=n(1171),s=n(5410),a=n(1899),l=Math.max;e.exports=function(e){if(!e||!e.length)return[];var t=0;return e=r(e,function(e){if(a(e))return t=l(e.length,t),!0}),s(t,function(t){return i(e,o(t))})}},2:(e,t,n)=>{var r=n(4956),i=n(5304);e.exports=function(e){return null==e?[]:r(e,i(e))}},7981:(e,t,n)=>{var r=n(3408)(n(2344));e.exports=r},9864:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=function(e,t){if(i)return i.call(e,t);var n=e.parentNode;if(n&&"function"==typeof n.querySelectorAll)for(var r=n.querySelectorAll(t),o=0;o<r.length;o++)if(r[o]===e)return!0;return!1};var r=n.g.Element&&n.g.Element.prototype,i=r&&(r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector);e.exports=t.default,e.exports.default=t.default},5946:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var o,s,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in o=Object(arguments[l]))n.call(o,u)&&(a[u]=o[u]);if(t){s=t(o);for(var c=0;c<s.length;c++)r.call(o,s[c])&&(a[s[c]]=o[s[c]])}}return a}},3520:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n.g.Object.freeze||function(e){return e};t.default=r,e.exports=t.default},451:(e,t,n)=>{"use strict";var r=n(1654);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(9131)),o=r(n(8463)),s=r(n(5985)),a=r(n(2996)),l=r(n(9339)),u=r(n(2427)),c=r(n(3929)),d=r(n(3281)),h=r(n(3520));function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,s.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e){return"".concat(JSON.stringify(e.groupId),":").concat(JSON.stringify(e.id))}var _=function(){function e(t){(0,i.default)(this,e),(0,s.default)(this,"_items",(0,h.default)([])),(0,s.default)(this,"_needsSort",!1),this._get=t.get,this._set=t.set,this._maxLimit=t.maxLimit||200}return(0,o.default)(e,[{key:"_read",value:function(){var e=this._get();return null==e?{order:[]}:e}},{key:"_save",value:function(e){if(e.order.length>this._maxLimit){var t=e.order.map(function(e,t){return{item:e,index:t}}),n=(0,d.default)(t,function(e){return e.item.lastUse}).slice(0,e.order.length-this._maxLimit).map(function(e){return e.index}),r=(0,d.default)(n,function(e){return-e});e=(0,a.default)(e,{order:{$splice:r.map(function(e){return[e,1]})}})}this._set(e)}},{key:"_updatePersistedDataWithItem",value:function(e){var t=this._read(),n=(0,l.default)(t.order,function(t){return t.groupId===e.groupId&&t.id===e.id});if(-1!==n&&t.order[n].orderHint!==e.orderHint&&(t=(0,a.default)(t,{order:{$splice:[[n,1]]}}),n=-1),-1!==n)t=(0,a.default)(t,{order:{$splice:[[n,1,{groupId:e.groupId,id:e.id,orderHint:e.orderHint,lastUse:Date.now()}]]}});else{var r,i=(0,u.default)(t.order,function(t){return t.groupId===e.groupId&&t.orderHint<=e.orderHint});if(-1!==i)r=i+1;else{var o=(0,l.default)(t.order,function(t){return t.groupId===e.groupId});if(-1!==o)r=o;else{var s=(0,c.default)(t.order,function(e){return e.groupId}),d=Object.keys(s),h=Math.floor(Math.random()*(d.length+1));r=h===d.length?t.order.length:s[d[h]][0]}}t=(0,a.default)(t,{order:{$splice:[[r,0,{groupId:e.groupId,id:e.id,orderHint:e.orderHint,lastUse:Date.now()}]]}})}return this._save(t),t}},{key:"_sortItemsIfNecessary",value:function(e){if(this._needsSort){e||(e=this._read());var t=(0,c.default)(e.order,m);this._items=(0,h.default)((0,d.default)(this._items,function(e){var n=m(e);return Object.prototype.hasOwnProperty.call(t,n)?Number(t[n][0]):0})),this._needsSort=!1}}},{key:"addItem",value:function(e){this._updatePersistedDataWithItem(e),this._needsSort=!0,this._items=this._items.concat([(0,h.default)({groupId:e.groupId,id:e.id,orderHint:e.orderHint,value:e.value})])}},{key:"updateItemValue",value:function(e,t,n){this._items=(0,h.default)(this._items.map(function(r){return r.groupId===e&&r.id===t?(0,h.default)(f(f({},r),{},{value:n})):r}))}},{key:"updateItemValueByIndex",value:function(e,t){this._sortItemsIfNecessary(),this._items=(0,h.default)((0,a.default)(this._items,{$splice:[[e,1,(0,h.default)(f(f({},this._items[e]),{},{value:t}))]]}))}},{key:"removeItem",value:function(e,t){this._items=(0,h.default)(this._items.filter(function(n){return n.groupId!==e||n.id!==t}))}},{key:"removeItemByIndex",value:function(e){this._sortItemsIfNecessary(),this._items=(0,h.default)((0,a.default)(this._items,{$splice:[[e,1]]}))}},{key:"moveItem",value:function(e,t){var n=this._read();this._sortItemsIfNecessary(n);var r=this._items[e],i=this._items[t],o=(0,l.default)(n.order,function(e){return e.groupId===r.groupId&&e.id===r.id}),s=(0,l.default)(n.order,function(e){return e.groupId===i.groupId&&e.id===i.id});n=(0,a.default)(n,{order:{$splice:[[o,1],[s,0,n.order[o]]]}}),this._save(n),this._needsSort=!0}},{key:"getOrderedItems",value:function(){return this._sortItemsIfNecessary(),this._items}},{key:"reload",value:function(){this._needsSort=!0}}]),e}();t.default=_,e.exports=t.default},3972:(e,t,n)=>{"use strict";var r=n(1654);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){return(0,i.default)(t,e)}};var i=r(n(9864));e.exports=t.default,e.exports.default=t.default},1855:(e,t,n)=>{"use strict";var r=n(1654);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){return n.map(function(n){if("string"==typeof n){var r=(0,l.default)(n);return function(e){return(0,c.default)(e,r)}}if(n.$or){var d=n.$or.map(function(n){return e(t,n)});return function(e){return(0,a.default)(d.map(function(t){return t(e)}))}}if(n.$watch){var h=n.$watch,p=h.attributeFilter,f=h.cond,m="function"==typeof f?f:(0,l.default)(f);return function(e){return(0,u.default)(e,p,m)}}if(n.$log){var _=n.$log,g=function(e){return console.log(_,e.el),!0};return function(e){return(0,s.default)(e,g)}}if(n.$filter){var b=n.$filter,v=function(e){var t=e.el;return b(t)};return function(e){return(0,s.default)(e,v)}}if(n.$map){var A=n.$map,y=i.default.compose(i.default.map(function(e){return{el:A(e.el),parents:e.parents}}),i.default.filter(function(e){return null!=e.el}));return function(e){return(0,o.default)(e,y)}}throw new Error("Invalid selector item: ".concat(JSON.stringify(n)))}).reduce(function(e,t){return function(n){return t(e(n))}},function(e){return e})};var i=r(n(6046)),o=r(n(1365)),s=r(n(3800)),a=r(n(9976)),l=r(n(3972)),u=r(n(5174)),c=r(n(8572));e.exports=t.default,e.exports.default=t.default},8572:(e,t,n)=>{"use strict";var r=n(1654);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return new i.default({scheduler:e.getScheduler(),read:function(){throw new Error},listen:function(n,r){n(new Set);var i=new Map,o=new Map;function s(e){function n(n){if(1===n.nodeType&&t(n)){var i={el:n,parents:e.parents};o.set(n,i),r.add(i)}}function s(e){if(1===e.nodeType){var t=o.get(e);t&&(o.delete(e),r.remove(t))}}Array.prototype.forEach.call(e.el.children,n);var a=new MutationObserver(function(e){if(e.length>1){var t=new Set,r=[];e.forEach(function(e){for(var n=e.addedNodes,i=e.removedNodes,o=0,s=i.length;o<s;o++)1===i[o].nodeType&&t.add(i[o]);for(var a=0,l=n.length;a<l;a++){var u=n[a];1===u.nodeType&&(t.has(u)?t.delete(u):r.push(u))}}),r.forEach(n),t.forEach(s)}else e.forEach(function(e){Array.prototype.forEach.call(e.addedNodes,n),Array.prototype.forEach.call(e.removedNodes,s)})});a.observe(e.el,{childList:!0}),i.set(e,{observer:a,removedNode:s})}var a=e.subscribe({start:function(){e.values().forEach(s)},next:function(e){e.forEach(function(e){"add"===e.type?s(e.value):"remove"===e.type&&function(e){var t=i.get(e);if(!t)throw new Error("Should not happen: Unseen ElementContext removed");t.observer.takeRecords().forEach(function(e){Array.prototype.forEach.call(e.removedNodes,t.removedNode)}),t.observer.disconnect(),Array.prototype.forEach.call(e.el.children,t.removedNode),i.delete(e)}(e.value)})}});return{unsubscribe:function(){a.unsubscribe(),i.forEach(function(e){e.observer.disconnect()})},pullChanges:function(){a.pullChanges()}}}})};var i=r(n(2436));e.exports=t.default,e.exports.default=t.default},5174:(e,t,n)=>{"use strict";var r=n(1654);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return new i.default({scheduler:e.getScheduler(),read:function(){throw new Error},listen:function(r,i){r(new Set);var o=new Map;function s(e){var r=new MutationObserver(function(t){0!==t.length&&(n(e.el)?s.passed||(s.passed=!0,i.add(e)):s.passed&&(s.passed=!1,i.remove(e)))}),s={mo:r,passed:!1};n(e.el)&&(s.passed=!0,i.add(e)),r.observe(e.el,{attributes:!0,attributeFilter:t}),o.set(e,s)}var a=e.subscribe({start:function(){e.values().forEach(s)},next:function(e){e.forEach(function(e){"add"===e.type?s(e.value):"remove"===e.type&&function(e){var t=o.get(e);if(!t)throw new Error("Should not happen: Unseen ElementContext removed");t.mo.disconnect(),t.passed&&i.remove(e),o.delete(e)}(e.value)})}});return{unsubscribe:function(){a.unsubscribe(),o.forEach(function(e){e.mo.disconnect()})},pullChanges:function(){a.pullChanges()}}}})};var i=r(n(2436));e.exports=t.default,e.exports.default=t.default},855:(e,t,n)=>{"use strict";var r=n(1654);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(9131)),o=r(n(8463)),s=r(n(5985)),a=r(n(2436)),l=r(n(9976)),u=r(n(5145)),c=r(n(4401)),d=n(7138),h=r(n(8897)),p=r(n(1855));function f(e){var t=new Map,n=[];return Object.keys(e.tags).forEach(function(r){var i=e.tags[r],o=i.ownedBy;n.push({tag:r,ownedBy:o}),t.set(r,i)}),Object.keys(e.finders).concat(e.watchers.map(function(e){return e.tag})).forEach(function(e){t.has(e)||(t.set(e,{ownedBy:[]}),n.push({tag:e}))}),{map:t,list:n}}var m=function(){function e(t,n){var r,o=this;if((0,i.default)(this,e),(0,s.default)(this,"tree",void 0),(0,s.default)(this,"_scheduler",new c.default),(0,s.default)(this,"_treeController",void 0),(0,s.default)(this,"_rootMatchedSet",void 0),(0,s.default)(this,"_ecSources",void 0),(0,s.default)(this,"_logError",void 0),(0,s.default)(this,"_options",void 0),(0,s.default)(this,"_tagOptions",void 0),(0,s.default)(this,"_tagsList",void 0),(0,s.default)(this,"_subscriptions",[]),t.nodeType===Node.DOCUMENT_NODE){if(!(r=t.documentElement))throw new Error("missing documentElement")}else r=t;this._options=n,this._logError=n.logError||function(e){setTimeout(function(){throw e},0)};var l=f(this._options),u=l.map,h=l.list;this._tagOptions=u,this._tagsList=h,this.tree=new d.TagTree({root:r,tags:h,executor:function(e){o._treeController=e}}),this._rootMatchedSet=a.default.constant(new Set([{el:this.tree.getValue(),parents:[{tag:null,node:this.tree}]}]),{scheduler:this._scheduler}),this._setupWatchersAndFinders()}return(0,o.default)(e,[{key:"_setupWatchersAndFinders",value:function(){var e=this,t=new Set;this._options.watchers.forEach(function(e){t.add(e.tag)}),this._ecSources=new Map(this._tagsList.map(function(n){var r=n.tag,i=e._tagOptions.get(r);if(!i)throw new Error;var o=new Set(i.ownedBy||[]),s=a.default.active(null,{scheduler:e._scheduler}),l=s.liveSet,c=s.controller,d=t.has(r)?(0,u.default)(l,function(e){return e}):null,p=e._options.finders[r],f=p?(0,h.default)(e._scheduler,e.tree,r,i,d,p,e._logError):d||a.default.constant(new Set,{scheduler:e._scheduler}),m=new Map,_=new a.default({scheduler:e._scheduler,read:function(){throw new Error},listen:function(t,n){var i=new Map,s=function(t){var n=t.el,i=function(e){for(var t,n=e.length-1;n>=0;n--)if(null==e[n].tag||o.has(e[n].tag)){t=e[n].node;break}if(!t)throw new Error;return t}(t.parents),s=e._treeController.addTaggedValue(i,r,n);return m.has(n)&&e._logError(new Error("PageParserTree(".concat(r,") watcher received element twice")),n),m.set(n,s),{el:n,parents:t.parents.concat([{tag:r,node:s}])}};return f.subscribe({start:function(){var e=new Set;f.values().forEach(function(t){var n=s(t);i.set(t,n),e.add(n)}),t(e)},next:function(t){var o=new Set;t.length>1&&t.forEach(function(e){"remove"===e.type&&o.add(e.value)}),t.forEach(function(t){if("add"===t.type){if(o.has(t.value))return;var a=s(t.value);i.set(t.value,a),n.add(a)}else if("remove"===t.type){var l=i.get(t.value);if(!l)return;i.delete(t.value),n.remove(l);var u=m.get(l.el);if(!u)throw new Error("Should not happen: received removal of unseen element");m.delete(l.el);var c=u.getParent();c&&c.ownsNode(u)&&e._treeController.removeTaggedNode(c,r,u)}})},error:function(e){n.error(e)},complete:function(){n.end()}})}});return e._subscriptions.push(_.subscribe({})),[r,{liveSet:l,controller:c,ecSet:_}]})),this._options.watchers.forEach(function(t){var n=t.sources,r=t.selectors,i=t.tag,o=n.map(function(t){if(!t)return e._rootMatchedSet;var n=e._ecSources.get(t);if(!n)throw new Error("Unknown source: "+t);return n.ecSet}),s=1===o.length?o[0]:(0,l.default)(o),a=(0,p.default)(e._scheduler,r),u=e._ecSources.get(i);if(!u)throw new Error;u.controller.add(a(s))}),this._scheduler.flush()}},{key:"_dumpWithoutEnd",value:function(){var e=this;this._subscriptions.forEach(function(e){e.unsubscribe()}),this._subscriptions.length=0,this.tree.getOwned().forEach(function(t,n){t.values().forEach(function(t){e._treeController.removeTaggedNode(e.tree,n,t)})})}},{key:"dump",value:function(){this._dumpWithoutEnd(),this._treeController.end()}},{key:"replaceOptions",value:function(e){var t="replaceOptions does not support tag changes",n=f(e).map;if(this._tagOptions.size!==n.size)throw new Error(t);this._tagOptions.forEach(function(e,r){var i=n.get(r);if(!i)throw new Error(t);var o=e.ownedBy||[],s=new Set(i.ownedBy||[]);if(o.length!==s.size)throw new Error(t);o.forEach(function(e){if(!s.has(e))throw new Error(t)})}),this._dumpWithoutEnd(),this._options=e,this._setupWatchersAndFinders()}}]),e}();t.default=m,e.exports=t.default,e.exports.default=t.default},8897:(e,t,n)=>{"use strict";var r=n(1654);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,a,l,u,c){return new o.default({scheduler:e,read:function(){throw new Error("Should not happen")},listen:function(o,d){var h=new Set,p=new Set,f=new Set,m=new Set,_=null;l?_=l.subscribe({start:function(){if(!l)throw new Error;var e=l.values();o(e),e.forEach(function(e){f.add(e.el),h.add(e.el),p.add(e)})},next:function(e){e.forEach(function(e){if("add"===e.type){var t=e.value.el;f.add(t),h.has(t)?c(new Error("PageParserTree(".concat(r,") watcher found element already found by finder")),t):(h.add(t),p.add(e.value),d.add(e.value))}else if("remove"===e.type){var n=e.value.el;f.delete(n),m.delete(n),p.has(e.value)&&(h.delete(n),p.delete(e.value),d.remove(e.value))}})},error:function(e){d.error(e)},complete:function(){d.end()}}):o(new Set);var g=null;if(u){var b=u.fn,v=u.interval,A=a.ownedBy||[];g=function(e,t,r){var o=Date.now(),s=null,a=null,l=function(){a=null,r(),u()},u=function(){var r;if(null==e)r=5e3+1e3*Math.random();else if("number"==typeof e)r=e;else{if("function"!=typeof e)throw new Error("interval has wrong type: ".concat((0,i.default)(e)));r=e(t.size,Date.now()-o)}r!==1/0&&(s=setTimeout(function(){s=null,n.g.requestIdleCallback&&n.g.cancelIdleCallback?a=n.g.requestIdleCallback(l,{timeout:r}):l()},r))};return u(),{dispose:function(){null!=s&&clearTimeout(s),null!=a&&n.g.cancelIdleCallback(a)}}}(v,h,function(){for(var n=new Set,i=b(t.getValue()),o=0,a=i.length;o<a;o++){var u=i[o];if(n.add(u),!h.has(u)){h.add(u);var g=s(u,t,A);p.add(g),d.add(g),l&&(c(new Error("PageParserTree(".concat(r,") finder found element missed by watcher")),u),_&&_.pullChanges())}}p.forEach(function(e){var t=e.el;n.has(t)||(f.has(t)?m.has(t)||(m.add(t),c(new Error("PageParserTree(".concat(r,") watcher found element missed by finder")),t)):(p.delete(e),h.delete(t),d.remove(e),_&&_.pullChanges()))}),e.flush()})}return{unsubscribe:function(){null!=g&&g.dispose(),_&&_.unsubscribe()},pullChanges:function(){_&&_.pullChanges()}}}})};var i=r(n(2990)),o=r(n(2436));function s(e,t,n){var r=null;return{el:e,get parents(){if(!r){for(var i=t.getValue(),o=[],s=e.parentElement;s;){for(var a=t.getNodesForValue(s),l=0,u=a.length;l<u;l++){var c=a[l],d=c.getTag();if(null==d||n.indexOf(d)>=0){o.push({tag:d,node:c});break}}if(s===i)break;s=s.parentElement}o.reverse(),r=o}return r}}}e.exports=t.default,e.exports.default=t.default},8498:(e,t)=>{"use strict";t.A=function(e,t){return new Promise(function(n){setTimeout(function(){n(t)},e)})}},1453:function(e,t,n){var r=n(9964);(function(){var t,n,i;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=r&&r.hrtime?(e.exports=function(){return(t()-i)/1e6},n=r.hrtime,i=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})()):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)},9964:e=>{var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var a,l=[],u=!1,c=-1;function d(){u&&a&&(u=!1,a.length?l=a.concat(l):c=-1,l.length&&h())}function h(){if(!u){var e=s(d);u=!0;for(var t=l.length;t;){for(a=l,l=[];++c<t;)a&&a[c].run();c=-1,t=l.length}a=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||u||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=f,r.addListener=f,r.once=f,r.off=f,r.removeListener=f,r.removeAllListeners=f,r.emit=f,r.prependListener=f,r.prependOnceListener=f,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},628:(e,t,n)=>{"use strict";var r=n(9305);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5826:(e,t,n)=>{e.exports=n(628)()},9305:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},1892:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,i,o){r=r||"&",i=i||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(r);var l=1e3;o&&"number"==typeof o.maxKeys&&(l=o.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var d,h,p,f,m=e[c].replace(a,"%20"),_=m.indexOf(i);_>=0?(d=m.substr(0,_),h=m.substr(_+1)):(d=m,h=""),p=decodeURIComponent(d),f=decodeURIComponent(h),t(s,p)?n(s[p])?s[p].push(f):s[p]=[s[p],f]:s[p]=f}return s};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},5052:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,o,s,a){return o=o||"&",s=s||"=",null===e&&(e=void 0),"object"==typeof e?r(i(e),function(i){var a=encodeURIComponent(t(i))+s;return n(e[i])?r(e[i],function(e){return a+encodeURIComponent(t(e))}).join(o):a+encodeURIComponent(t(e[i]))}).join(o):a?encodeURIComponent(t(a))+s+encodeURIComponent(t(e)):""};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var i=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},6448:(e,t,n)=>{"use strict";t.decode=t.parse=n(1892),t.encode=t.stringify=n(5052)},1968:(e,t,n)=>{for(var r=n(3440),i="undefined"==typeof window?n.g:window,o=["moz","webkit"],s="AnimationFrame",a=i["request"+s],l=i["cancel"+s]||i["cancelRequest"+s],u=0;!a&&u<o.length;u++)a=i[o[u]+"Request"+s],l=i[o[u]+"Cancel"+s]||i[o[u]+"CancelRequest"+s];if(!a||!l){var c=0,d=0,h=[],p=1e3/60;a=function(e){if(0===h.length){var t=r(),n=Math.max(0,p-(t-c));c=n+t,setTimeout(function(){var e=h.slice(0);h.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return h.push({handle:++d,callback:e,cancelled:!1}),d},l=function(e){for(var t=0;t<h.length;t++)h[t].handle===e&&(h[t].cancelled=!0)}}e.exports=function(e){return a.call(i,e)},e.exports.cancel=function(){l.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=a,e.cancelAnimationFrame=l}},3440:function(e,t,n){var r=n(9964);(function(){var t,n,i,o,s,a;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=r&&r.hrtime?(e.exports=function(){return(t()-s)/1e6},n=r.hrtime,o=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})(),a=1e9*r.uptime(),s=o-a):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)},7045:(e,t,n)=>{"use strict";var r=n(7810),i=n(5946),o=n(2328);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));var a=new Set,l={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,f={},m={};function _(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new _(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new _(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new _(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new _(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new _(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new _(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new _(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new _(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new _(e,5,!1,e.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function A(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!p.call(m,e)||!p.call(f,e)&&(h.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(b,v);g[t]=new _(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(b,v);g[t]=new _(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(b,v);g[t]=new _(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new _(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new _(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,C=60106,x=60107,E=60108,k=60114,S=60109,I=60110,T=60112,D=60113,B=60120,M=60115,N=60116,L=60121,V=60128,R=60129,O=60130,P=60131;if("function"==typeof Symbol&&Symbol.for){var j=Symbol.for;w=j("react.element"),C=j("react.portal"),x=j("react.fragment"),E=j("react.strict_mode"),k=j("react.profiler"),S=j("react.provider"),I=j("react.context"),T=j("react.forward_ref"),D=j("react.suspense"),B=j("react.suspense_list"),M=j("react.memo"),N=j("react.lazy"),L=j("react.block"),j("react.scope"),V=j("react.opaque.id"),R=j("react.debug_trace_mode"),O=j("react.offscreen"),P=j("react.legacy_hidden")}var F,U="function"==typeof Symbol&&Symbol.iterator;function H(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=U&&e[U]||e["@@iterator"])?e:null}function z(e){if(void 0===F)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var q=!1;function W(e,t){if(!e||q)return"";q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a])return"\n"+i[s].replace(" at new "," at ")}while(1<=s&&0<=a);break}}}finally{q=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function Y(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return W(e.type,!1);case 11:return W(e.type.render,!1);case 22:return W(e.type._render,!1);case 1:return W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case x:return"Fragment";case C:return"Portal";case k:return"Profiler";case E:return"StrictMode";case D:return"Suspense";case B:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case M:return G(e.type);case L:return G(e._render);case N:t=e._payload,e=e._init;try{return G(e(t))}catch(e){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&A(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function se(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ue(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var fe,me,_e=(me=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((fe=fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return me(e,t)})}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ve=["Webkit","ms","Moz","O"];function Ae(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Ae(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach(function(e){ve.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]})});var we=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ce(e,t){if(t){if(we[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(s(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Se=null,Ie=null;function Te(e){if(e=ni(e)){if("function"!=typeof ke)throw Error(s(280));var t=e.stateNode;t&&(t=ii(t),ke(e.stateNode,e.type,t))}}function De(e){Se?Ie?Ie.push(e):Ie=[e]:Se=e}function Be(){if(Se){var e=Se,t=Ie;if(Ie=Se=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Me(e,t){return e(t)}function Ne(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Ve=Me,Re=!1,Oe=!1;function Pe(){null===Se&&null===Ie||(Le(),Be())}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(s(231,t,typeof n));return n}var Fe=!1;if(d)try{var Ue={};Object.defineProperty(Ue,"passive",{get:function(){Fe=!0}}),window.addEventListener("test",Ue,Ue),window.removeEventListener("test",Ue,Ue)}catch(me){Fe=!1}function He(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var ze=!1,qe=null,We=!1,Ye=null,Ge={onError:function(e){ze=!0,qe=e}};function Qe(e,t,n,r,i,o,s,a,l){ze=!1,qe=null,He.apply(Ge,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ke(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Je(e){if($e(e)!==e)throw Error(s(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Je(i),e;if(o===r)return Je(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Xe(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],st=null,at=null,lt=null,ut=new Map,ct=new Map,dt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function ft(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":at=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ct.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&null!==(t=ni(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function _t(e){var t=ti(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ke(n)))return e.blockedOn=t,void rt(e.lanePriority,function(){o.unstable_runWithPriority(e.priority,function(){nt(n)})})}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){gt(e)&&n.delete(t)}function vt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&gt(st)&&(st=null),null!==at&&gt(at)&&(at=null),null!==lt&&gt(lt)&&(lt=null),ut.forEach(bt),ct.forEach(bt)}function At(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,vt)))}function yt(e){function t(t){return At(t,e)}if(0<ot.length){At(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&At(st,e),null!==at&&At(at,e),null!==lt&&At(lt,e),ut.forEach(t),ct.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)_t(n),null===n.blockedOn&&dt.shift()}function wt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ct={animationend:wt("Animation","AnimationEnd"),animationiteration:wt("Animation","AnimationIteration"),animationstart:wt("Animation","AnimationStart"),transitionend:wt("Transition","TransitionEnd")},xt={},Et={};function kt(e){if(xt[e])return xt[e];if(!Ct[e])return e;var t,n=Ct[e];for(t in n)if(n.hasOwnProperty(t)&&t in Et)return xt[e]=n[t];return e}d&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete Ct.animationend.animation,delete Ct.animationiteration.animation,delete Ct.animationstart.animation),"TransitionEvent"in window||delete Ct.transitionend.transition);var St=kt("animationend"),It=kt("animationiteration"),Tt=kt("animationstart"),Dt=kt("transitionend"),Bt=new Map,Mt=new Map,Nt=["abort","abort",St,"animationEnd",It,"animationIteration",Tt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Dt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Mt.set(r,t),Bt.set(r,i),u(i,[r])}}(0,o.unstable_now)();var Vt=8;function Rt(e){if(1&e)return Vt=15,1;if(2&e)return Vt=14,2;if(4&e)return Vt=13,4;var t=24&e;return 0!==t?(Vt=12,t):32&e?(Vt=11,32):0!=(t=192&e)?(Vt=10,t):256&e?(Vt=9,256):0!=(t=3584&e)?(Vt=8,t):4096&e?(Vt=7,4096):0!=(t=4186112&e)?(Vt=6,t):0!=(t=62914560&e)?(Vt=5,t):67108864&e?(Vt=4,67108864):134217728&e?(Vt=3,134217728):0!=(t=805306368&e)?(Vt=2,t):1073741824&e?(Vt=1,1073741824):(Vt=8,e)}function Ot(e,t){var n=e.pendingLanes;if(0===n)return Vt=0;var r=0,i=0,o=e.expiredLanes,s=e.suspendedLanes,a=e.pingedLanes;if(0!==o)r=o,i=Vt=15;else if(0!=(o=134217727&n)){var l=o&~s;0!==l?(r=Rt(l),i=Vt):0!==(a&=o)&&(r=Rt(a),i=Vt)}else 0!==(o=n&~s)?(r=Rt(o),i=Vt):0!==a&&(r=Rt(a),i=Vt);if(0===r)return 0;if(r=n&((0>(r=31-zt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&s)){if(Rt(t),i<=Vt)return t;Vt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-zt(t)),r|=e[n],t&=~i;return r}function Pt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ft(24&~t))?jt(10,t):e;case 10:return 0===(e=Ft(192&~t))?jt(8,t):e;case 8:return 0===(e=Ft(3584&~t))&&0===(e=Ft(4186112&~t))&&(e=512),e;case 2:return 0===(t=Ft(805306368&~t))&&(t=268435456),t}throw Error(s(358,e))}function Ft(e){return e&-e}function Ut(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ht(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-zt(t)]=n}var zt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(qt(e)/Wt|0)|0},qt=Math.log,Wt=Math.LN2,Yt=o.unstable_UserBlockingPriority,Gt=o.unstable_runWithPriority,Qt=!0;function $t(e,t,n,r){Re||Le();var i=Jt,o=Re;Re=!0;try{Ne(i,e,t,n,r)}finally{(Re=o)||Pe()}}function Kt(e,t,n,r){Gt(Yt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Qt)if((i=!(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var o=Zt(e,t,n,r);if(null===o)i&&ft(e,r);else{if(i){if(-1<ht.indexOf(e))return e=pt(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return at=mt(at,e,t,n,r,i),!0;case"mouseover":return lt=mt(lt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ut.set(o,mt(ut.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ct.set(o,mt(ct.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;ft(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ee(r);if(null!==(i=ti(i))){var o=$e(i);if(null===o)i=null;else{var s=o.tag;if(13===s){if(null!==(i=Ke(o)))return i;i=null}else if(3===s){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var Xt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function an(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var ln,un,cn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=an(dn),pn=i({},dn,{view:0,detail:0}),fn=an(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(ln=e.screenX-cn.screenX,un=e.screenY-cn.screenY):un=ln=0,cn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:un}}),_n=an(mn),gn=an(i({},mn,{dataTransfer:0})),bn=an(i({},pn,{relatedTarget:0})),vn=an(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),An=i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=an(An),wn=an(i({},dn,{data:0})),Cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Sn(){return kn}var In=i({},pn,{key:function(e){if(e.key){var t=Cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(In),Dn=an(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Bn=an(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Mn=an(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=an(Nn),Vn=[9,13,27,32],Rn=d&&"CompositionEvent"in window,On=null;d&&"documentMode"in document&&(On=document.documentMode);var Pn=d&&"TextEvent"in window&&!On,jn=d&&(!Rn||On&&8<On&&11>=On),Fn=String.fromCharCode(32),Un=!1;function Hn(e,t){switch(e){case"keyup":return-1!==Vn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1,Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Gn(e,t,n,r){De(r),0<(t=Rr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,$n=null;function Kn(e){Ir(e,0)}function Jn(e){if(J(ri(e)))return e}function Zn(e,t){if("change"===e)return t}var Xn=!1;if(d){var er;if(d){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"==typeof nr.oninput}er=tr}else er=!1;Xn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Qn&&(Qn.detachEvent("onpropertychange",ir),$n=Qn=null)}function ir(e){if("value"===e.propertyName&&Jn($n)){var t=[];if(Gn(t,$n,e,Ee(e)),e=Kn,Re)e(t);else{Re=!0;try{Me(e,t)}finally{Re=!1,Pe()}}}}function or(e,t,n){"focusin"===e?(rr(),$n=n,(Qn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn($n)}function ar(e,t){if("click"===e)return Jn(t)}function lr(e,t){if("input"===e||"change"===e)return Jn(t)}var ur="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},cr=Object.prototype.hasOwnProperty;function dr(e,t){if(ur(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!cr.call(t,n[r])||!ur(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function _r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=d&&"documentMode"in document&&11>=document.documentMode,br=null,vr=null,Ar=null,yr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==br||br!==Z(r)||(r="selectionStart"in(r=br)&&_r(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Ar&&dr(Ar,r)||(Ar=r,0<(r=Rr(vr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Nt,2);for(var Cr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),xr=0;xr<Cr.length;xr++)Mt.set(Cr[xr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Sr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,u){if(Qe.apply(this,arguments),ze){if(!ze)throw Error(s(198));var c=qe;ze=!1,qe=null,We||(We=!0,Ye=c)}}(r,t,void 0,e),e.currentTarget=null}function Ir(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Sr(i,a,u),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Sr(i,a,u),o=l}}}if(We)throw e=Ye,We=!1,Ye=null,e}function Tr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Nr(t,e,2,!1),n.add(r))}var Dr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){e[Dr]||(e[Dr]=!0,a.forEach(function(t){kr.has(t)||Mr(t,!1,e,null),Mr(t,!0,e,null)}))}function Mr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&kr.has(e)){if("scroll"!==e)return;i|=2,o=r}var s=oi(o),a=e+"__"+(t?"capture":"bubble");s.has(a)||(t&&(i|=4),Nr(o,e,i,t),s.add(a))}function Nr(e,t,n,r){var i=Mt.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Kt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Fe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var o=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=ti(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}!function(e,t,n){if(Oe)return e();Oe=!0;try{return Ve(e,t,n)}finally{Oe=!1,Pe()}}(function(){var r=o,i=Ee(n),s=[];e:{var a=Bt.get(e);if(void 0!==a){var l=hn,u=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":u="focus",l=bn;break;case"focusout":u="blur",l=bn;break;case"beforeblur":case"afterblur":l=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Bn;break;case St:case It:case Tt:l=vn;break;case Dt:l=Mn;break;case"scroll":l=fn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Dn}var c=!!(4&t),d=!c&&"scroll"===e,h=c?null!==a?a+"Capture":null:a;c=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&null!=(m=je(f,h))&&c.push(Vr(f,m,p))),d)break;f=f.return}0<c.length&&(a=new l(a,u,null,n,i),s.push({event:a,listeners:c}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||16&t||!(u=n.relatedTarget||n.fromElement)||!ti(u)&&!u[Xr])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ti(u):null)&&(u!==(d=$e(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=_n,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(c=Dn,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?a:ri(l),p=null==u?a:ri(u),(a=new c(m,f+"leave",l,n,i)).target=d,a.relatedTarget=p,m=null,ti(i)===r&&((c=new c(h,f+"enter",u,n,i)).target=p,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(h=u,f=0,p=c=l;p;p=Or(p))f++;for(p=0,m=h;m;m=Or(m))p++;for(;0<f-p;)c=Or(c),f--;for(;0<p-f;)h=Or(h),p--;for(;f--;){if(c===h||null!==h&&c===h.alternate)break e;c=Or(c),h=Or(h)}c=null}else c=null;null!==l&&Pr(s,a,l,c,!1),null!==u&&null!==d&&Pr(s,d,u,c,!0)}if("select"===(l=(a=r?ri(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var _=Zn;else if(Yn(a))if(Xn)_=lr;else{_=sr;var g=or}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(_=ar);switch(_&&(_=_(e,r))?Gn(s,_,n,i):(g&&g(e,a,r),"focusout"===e&&(g=a._wrapperState)&&g.controlled&&"number"===a.type&&ie(a,"number",a.value)),g=r?ri(r):window,e){case"focusin":(Yn(g)||"true"===g.contentEditable)&&(br=g,vr=r,Ar=null);break;case"focusout":Ar=vr=br=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,wr(s,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(s,n,i)}var b;if(Rn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else qn?Hn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(jn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==v?"onCompositionEnd"===v&&qn&&(b=nn()):(en="value"in(Xt=i)?Xt.value:Xt.textContent,qn=!0)),0<(g=Rr(r,v)).length&&(v=new wn(v,e,null,n,i),s.push({event:v,listeners:g}),(b||null!==(b=zn(n)))&&(v.data=b))),(b=Pn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Rn&&Hn(e,t)?(e=nn(),tn=en=Xt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Rr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=b)}Ir(s,t)})}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=je(e,n))&&r.unshift(Vr(e,o,i)),null!=(o=je(e,t))&&r.push(Vr(e,o,i))),e=e.return}return r}function Or(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Pr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=je(n,o))&&s.unshift(Vr(n,l,a)):i||null!=(l=je(n,o))&&s.push(Vr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}function jr(){}var Fr=null,Ur=null;function Hr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function zr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var qr="function"==typeof setTimeout?setTimeout:void 0,Wr="function"==typeof clearTimeout?clearTimeout:void 0;function Yr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Gr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var $r=0,Kr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Kr,Zr="__reactProps$"+Kr,Xr="__reactContainer$"+Kr,ei="__reactEvents$"+Kr;function ti(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xr]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Jr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Jr]||e[Xr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ii(e){return e[Zr]||null}function oi(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var si=[],ai=-1;function li(e){return{current:e}}function ui(e){0>ai||(e.current=si[ai],si[ai]=null,ai--)}function ci(e,t){ai++,si[ai]=e.current,e.current=t}var di={},hi=li(di),pi=li(!1),fi=di;function mi(e,t){var n=e.type.contextTypes;if(!n)return di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function _i(e){return null!=e.childContextTypes}function gi(){ui(pi),ui(hi)}function bi(e,t,n){if(hi.current!==di)throw Error(s(168));ci(hi,t),ci(pi,n)}function vi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(s(108,G(t)||"Unknown",o));return i({},n,r)}function Ai(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,fi=hi.current,ci(hi,e),ci(pi,pi.current),!0}function yi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=vi(e,t,fi),r.__reactInternalMemoizedMergedChildContext=e,ui(pi),ui(hi),ci(hi,e)):ui(pi),ci(pi,n)}var wi=null,Ci=null,xi=o.unstable_runWithPriority,Ei=o.unstable_scheduleCallback,ki=o.unstable_cancelCallback,Si=o.unstable_shouldYield,Ii=o.unstable_requestPaint,Ti=o.unstable_now,Di=o.unstable_getCurrentPriorityLevel,Bi=o.unstable_ImmediatePriority,Mi=o.unstable_UserBlockingPriority,Ni=o.unstable_NormalPriority,Li=o.unstable_LowPriority,Vi=o.unstable_IdlePriority,Ri={},Oi=void 0!==Ii?Ii:function(){},Pi=null,ji=null,Fi=!1,Ui=Ti(),Hi=1e4>Ui?Ti:function(){return Ti()-Ui};function zi(){switch(Di()){case Bi:return 99;case Mi:return 98;case Ni:return 97;case Li:return 96;case Vi:return 95;default:throw Error(s(332))}}function qi(e){switch(e){case 99:return Bi;case 98:return Mi;case 97:return Ni;case 96:return Li;case 95:return Vi;default:throw Error(s(332))}}function Wi(e,t){return e=qi(e),xi(e,t)}function Yi(e,t,n){return e=qi(e),Ei(e,t,n)}function Gi(){if(null!==ji){var e=ji;ji=null,ki(e)}Qi()}function Qi(){if(!Fi&&null!==Pi){Fi=!0;var e=0;try{var t=Pi;Wi(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),Pi=null}catch(t){throw null!==Pi&&(Pi=Pi.slice(e+1)),Ei(Bi,Gi),t}finally{Fi=!1}}}var $i=y.ReactCurrentBatchConfig;function Ki(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=li(null),Zi=null,Xi=null,eo=null;function to(){eo=Xi=Zi=null}function no(e){var t=Ji.current;ui(Ji),e.type._context._currentValue=t}function ro(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function io(e,t){Zi=e,eo=Xi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Rs=!0),e.firstContext=null)}function oo(e,t){if(eo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(eo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Xi){if(null===Zi)throw Error(s(308));Xi=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else Xi=Xi.next=t;return e._currentValue}var so=!1;function ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function co(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,r){var o=e.updateQueue;so=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var u=l,c=u.next;u.next=null,null===a?s=c:a.next=c,a=u;var d=e.alternate;if(null!==d){var h=(d=d.updateQueue).lastBaseUpdate;h!==a&&(null===h?d.firstBaseUpdate=c:h.next=c,d.lastBaseUpdate=u)}}if(null!==s){for(h=o.baseState,a=0,d=c=u=null;;){l=s.lane;var p=s.eventTime;if((r&l)===l){null!==d&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(l=t,p=n,m.tag){case 1:if("function"==typeof(f=m.payload)){h=f.call(p,h,l);break e}h=f;break e;case 3:f.flags=-4097&f.flags|64;case 0:if(null==(l="function"==typeof(f=m.payload)?f.call(p,h,l):f))break e;h=i({},h,l);break e;case 2:so=!0}}null!==s.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[s]:l.push(s))}else p={eventTime:p,lane:l,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===d?(c=d=p,u=h):d=d.next=p,a|=l;if(null===(s=s.next)){if(null===(l=o.shared.pending))break;s=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===d&&(u=h),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=d,ja|=a,e.lanes=a,e.memoizedState=h}}function fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(s(191,i));i.call(r)}}}var mo=(new r.Component).refs;function _o(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var go={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=cl(),i=dl(e),o=uo(r,i);o.payload=t,null!=n&&(o.callback=n),co(e,o),hl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=cl(),i=dl(e),o=uo(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),co(e,o),hl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cl(),r=dl(e),i=uo(n,r);i.tag=2,null!=t&&(i.callback=t),co(e,i),hl(e,r,n)}};function bo(e,t,n,r,i,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!(t.prototype&&t.prototype.isPureReactComponent&&dr(n,r)&&dr(i,o))}function vo(e,t,n){var r=!1,i=di,o=t.contextType;return"object"==typeof o&&null!==o?o=oo(o):(i=_i(t)?fi:hi.current,o=(r=null!=(r=t.contextTypes))?mi(e,i):di),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=go,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ao(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function yo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=mo,ao(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=oo(o):(o=_i(t)?fi:hi.current,i.context=mi(e,o)),po(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(_o(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&go.enqueueReplaceState(i,i.state,null),po(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var wo=Array.isArray;function Co(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===mo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function xo(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Eo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=ql(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ql(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Co(e,t,n),r.return=e,r):((r=Wl(n.type,n.key,n.props,null,e.mode,r)).ref=Co(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$l(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Yl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Ql(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Wl(t.type,t.key,t.props,null,e.mode,n)).ref=Co(e,null,t),n.return=e,n;case C:return(t=$l(t,e.mode,n)).return=e,t}if(wo(t)||H(t))return(t=Yl(t,e.mode,n,null)).return=e,t;xo(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?n.type===x?d(e,t,n.props.children,r,i):u(e,t,n,r):null;case C:return n.key===i?c(e,t,n,r):null}if(wo(n)||H(n))return null!==i?null:d(e,t,n,r,null);xo(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case w:return e=e.get(null===r.key?n:r.key)||null,r.type===x?d(t,e,r.props.children,i,r.key):u(t,e,r,i);case C:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(wo(r)||H(r))return d(t,e=e.get(n)||null,r,i,null);xo(t,r)}return null}function m(i,s,a,l){for(var u=null,c=null,d=s,m=s=0,_=null;null!==d&&m<a.length;m++){d.index>m?(_=d,d=null):_=d.sibling;var g=p(i,d,a[m],l);if(null===g){null===d&&(d=_);break}e&&d&&null===g.alternate&&t(i,d),s=o(g,s,m),null===c?u=g:c.sibling=g,c=g,d=_}if(m===a.length)return n(i,d),u;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(s=o(d,s,m),null===c?u=d:c.sibling=d,c=d);return u}for(d=r(i,d);m<a.length;m++)null!==(_=f(d,i,m,a[m],l))&&(e&&null!==_.alternate&&d.delete(null===_.key?m:_.key),s=o(_,s,m),null===c?u=_:c.sibling=_,c=_);return e&&d.forEach(function(e){return t(i,e)}),u}function _(i,a,l,u){var c=H(l);if("function"!=typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var d=c=null,m=a,_=a=0,g=null,b=l.next();null!==m&&!b.done;_++,b=l.next()){m.index>_?(g=m,m=null):g=m.sibling;var v=p(i,m,b.value,u);if(null===v){null===m&&(m=g);break}e&&m&&null===v.alternate&&t(i,m),a=o(v,a,_),null===d?c=v:d.sibling=v,d=v,m=g}if(b.done)return n(i,m),c;if(null===m){for(;!b.done;_++,b=l.next())null!==(b=h(i,b.value,u))&&(a=o(b,a,_),null===d?c=b:d.sibling=b,d=b);return c}for(m=r(i,m);!b.done;_++,b=l.next())null!==(b=f(m,i,_,b.value,u))&&(e&&null!==b.alternate&&m.delete(null===b.key?_:b.key),a=o(b,a,_),null===d?c=b:d.sibling=b,d=b);return e&&m.forEach(function(e){return t(i,e)}),c}return function(e,r,o,l){var u="object"==typeof o&&null!==o&&o.type===x&&null===o.key;u&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case w:e:{for(c=o.key,u=r;null!==u;){if(u.key===c){if(7===u.tag){if(o.type===x){n(e,u.sibling),(r=i(u,o.props.children)).return=e,e=r;break e}}else if(u.elementType===o.type){n(e,u.sibling),(r=i(u,o.props)).ref=Co(e,u,o),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}o.type===x?((r=Yl(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Wl(o.type,o.key,o.props,null,e.mode,l)).ref=Co(e,r,o),l.return=e,e=l)}return a(e);case C:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=$l(o,e.mode,l)).return=e,e=r}return a(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Ql(o,e.mode,l)).return=e,e=r),a(e);if(wo(o))return m(e,r,o,l);if(H(o))return _(e,r,o,l);if(c&&xo(e,o),void 0===o&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,G(e.type)||"Component"))}return n(e,r)}}var ko=Eo(!0),So=Eo(!1),Io={},To=li(Io),Do=li(Io),Bo=li(Io);function Mo(e){if(e===Io)throw Error(s(174));return e}function No(e,t){switch(ci(Bo,t),ci(Do,e),ci(To,Io),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ui(To),ci(To,t)}function Lo(){ui(To),ui(Do),ui(Bo)}function Vo(e){Mo(Bo.current);var t=Mo(To.current),n=pe(t,e.type);t!==n&&(ci(Do,e),ci(To,n))}function Ro(e){Do.current===e&&(ui(To),ui(Do))}var Oo=li(0);function Po(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(64&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jo=null,Fo=null,Uo=!1;function Ho(e,t){var n=Hl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function zo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function qo(e){if(Uo){var t=Fo;if(t){var n=t;if(!zo(e,t)){if(!(t=Gr(n.nextSibling))||!zo(e,t))return e.flags=-1025&e.flags|2,Uo=!1,void(jo=e);Ho(jo,n)}jo=e,Fo=Gr(t.firstChild)}else e.flags=-1025&e.flags|2,Uo=!1,jo=e}}function Wo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;jo=e}function Yo(e){if(e!==jo)return!1;if(!Uo)return Wo(e),Uo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!zr(t,e.memoizedProps))for(t=Fo;t;)Ho(e,t),t=Gr(t.nextSibling);if(Wo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Fo=Gr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Fo=null}}else Fo=jo?Gr(e.stateNode.nextSibling):null;return!0}function Go(){Fo=jo=null,Uo=!1}var Qo=[];function $o(){for(var e=0;e<Qo.length;e++)Qo[e]._workInProgressVersionPrimary=null;Qo.length=0}var Ko=y.ReactCurrentDispatcher,Jo=y.ReactCurrentBatchConfig,Zo=0,Xo=null,es=null,ts=null,ns=!1,rs=!1;function is(){throw Error(s(321))}function os(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function ss(e,t,n,r,i,o){if(Zo=o,Xo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ko.current=null===e||null===e.memoizedState?Ms:Ns,e=n(r,i),rs){o=0;do{if(rs=!1,!(25>o))throw Error(s(301));o+=1,ts=es=null,t.updateQueue=null,Ko.current=Ls,e=n(r,i)}while(rs)}if(Ko.current=Bs,t=null!==es&&null!==es.next,Zo=0,ts=es=Xo=null,ns=!1,t)throw Error(s(300));return e}function as(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ts?Xo.memoizedState=ts=e:ts=ts.next=e,ts}function ls(){if(null===es){var e=Xo.alternate;e=null!==e?e.memoizedState:null}else e=es.next;var t=null===ts?Xo.memoizedState:ts.next;if(null!==t)ts=t,es=e;else{if(null===e)throw Error(s(310));e={memoizedState:(es=e).memoizedState,baseState:es.baseState,baseQueue:es.baseQueue,queue:es.queue,next:null},null===ts?Xo.memoizedState=ts=e:ts=ts.next=e}return ts}function us(e,t){return"function"==typeof t?t(e):t}function cs(e){var t=ls(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=es,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=a=o=null,u=i;do{var c=u.lane;if((Zo&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(a=l=d,o=r):l=l.next=d,Xo.lanes|=c,ja|=c}u=u.next}while(null!==u&&u!==i);null===l?o=r:l.next=a,ur(r,t.memoizedState)||(Rs=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ds(e){var t=ls(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ur(o,t.memoizedState)||(Rs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function hs(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Zo&e)===e)&&(t._workInProgressVersionPrimary=r,Qo.push(t))),e)return n(t._source);throw Qo.push(t),Error(s(350))}function ps(e,t,n,r){var i=Ba;if(null===i)throw Error(s(349));var o=t._getVersion,a=o(t._source),l=Ko.current,u=l.useState(function(){return hs(i,t,n)}),c=u[1],d=u[0];u=ts;var h=e.memoizedState,p=h.refs,f=p.getSnapshot,m=h.source;h=h.subscribe;var _=Xo;return e.memoizedState={refs:p,source:t,subscribe:r},l.useEffect(function(){p.getSnapshot=n,p.setSnapshot=c;var e=o(t._source);if(!ur(a,e)){e=n(t._source),ur(d,e)||(c(e),e=dl(_),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,s=e;0<s;){var l=31-zt(s),u=1<<l;r[l]|=e,s&=~u}}},[n,t,r]),l.useEffect(function(){return r(t._source,function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var r=dl(_);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n(function(){throw e})}})},[t,r]),ur(f,n)&&ur(m,t)&&ur(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:us,lastRenderedState:d}).dispatch=c=Ds.bind(null,Xo,e),u.queue=e,u.baseQueue=null,d=hs(i,t,n),u.memoizedState=u.baseState=d),d}function fs(e,t,n){return ps(ls(),e,t,n)}function ms(e){var t=as();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:us,lastRenderedState:e}).dispatch=Ds.bind(null,Xo,e),[t.memoizedState,e]}function _s(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Xo.updateQueue)?(t={lastEffect:null},Xo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function gs(e){return e={current:e},as().memoizedState=e}function bs(){return ls().memoizedState}function vs(e,t,n,r){var i=as();Xo.flags|=e,i.memoizedState=_s(1|t,n,void 0,void 0===r?null:r)}function As(e,t,n,r){var i=ls();r=void 0===r?null:r;var o=void 0;if(null!==es){var s=es.memoizedState;if(o=s.destroy,null!==r&&os(r,s.deps))return void _s(t,n,o,r)}Xo.flags|=e,i.memoizedState=_s(1|t,n,o,r)}function ys(e,t){return vs(516,4,e,t)}function ws(e,t){return As(516,4,e,t)}function Cs(e,t){return As(4,2,e,t)}function xs(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Es(e,t,n){return n=null!=n?n.concat([e]):null,As(4,2,xs.bind(null,t,e),n)}function ks(){}function Ss(e,t){var n=ls();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&os(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Is(e,t){var n=ls();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&os(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ts(e,t){var n=zi();Wi(98>n?98:n,function(){e(!0)}),Wi(97<n?97:n,function(){var n=Jo.transition;Jo.transition=1;try{e(!1),t()}finally{Jo.transition=n}})}function Ds(e,t,n){var r=cl(),i=dl(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},s=t.pending;if(null===s?o.next=o:(o.next=s.next,s.next=o),t.pending=o,s=e.alternate,e===Xo||null!==s&&s===Xo)rs=ns=!0;else{if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=s(a,n);if(o.eagerReducer=s,o.eagerState=l,ur(l,a))return}catch(e){}hl(e,i,r)}}var Bs={readContext:oo,useCallback:is,useContext:is,useEffect:is,useImperativeHandle:is,useLayoutEffect:is,useMemo:is,useReducer:is,useRef:is,useState:is,useDebugValue:is,useDeferredValue:is,useTransition:is,useMutableSource:is,useOpaqueIdentifier:is,unstable_isNewReconciler:!1},Ms={readContext:oo,useCallback:function(e,t){return as().memoizedState=[e,void 0===t?null:t],e},useContext:oo,useEffect:ys,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,vs(4,2,xs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vs(4,2,e,t)},useMemo:function(e,t){var n=as();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=as();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ds.bind(null,Xo,e),[r.memoizedState,e]},useRef:gs,useState:ms,useDebugValue:ks,useDeferredValue:function(e){var t=ms(e),n=t[0],r=t[1];return ys(function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}},[e]),n},useTransition:function(){var e=ms(!1),t=e[0];return gs(e=Ts.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=as();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ps(r,e,t,n)},useOpaqueIdentifier:function(){if(Uo){var e=!1,t=function(e){return{$$typeof:V,toString:e,valueOf:e}}(function(){throw e||(e=!0,n("r:"+($r++).toString(36))),Error(s(355))}),n=ms(t)[1];return!(2&Xo.mode)&&(Xo.flags|=516,_s(5,function(){n("r:"+($r++).toString(36))},void 0,null)),t}return ms(t="r:"+($r++).toString(36)),t},unstable_isNewReconciler:!1},Ns={readContext:oo,useCallback:Ss,useContext:oo,useEffect:ws,useImperativeHandle:Es,useLayoutEffect:Cs,useMemo:Is,useReducer:cs,useRef:bs,useState:function(){return cs(us)},useDebugValue:ks,useDeferredValue:function(e){var t=cs(us),n=t[0],r=t[1];return ws(function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}},[e]),n},useTransition:function(){var e=cs(us)[0];return[bs().current,e]},useMutableSource:fs,useOpaqueIdentifier:function(){return cs(us)[0]},unstable_isNewReconciler:!1},Ls={readContext:oo,useCallback:Ss,useContext:oo,useEffect:ws,useImperativeHandle:Es,useLayoutEffect:Cs,useMemo:Is,useReducer:ds,useRef:bs,useState:function(){return ds(us)},useDebugValue:ks,useDeferredValue:function(e){var t=ds(us),n=t[0],r=t[1];return ws(function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}},[e]),n},useTransition:function(){var e=ds(us)[0];return[bs().current,e]},useMutableSource:fs,useOpaqueIdentifier:function(){return ds(us)[0]},unstable_isNewReconciler:!1},Vs=y.ReactCurrentOwner,Rs=!1;function Os(e,t,n,r){t.child=null===e?So(t,null,n,r):ko(t,e.child,n,r)}function Ps(e,t,n,r,i){n=n.render;var o=t.ref;return io(t,i),r=ss(e,t,n,r,o,i),null===e||Rs?(t.flags|=1,Os(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ra(e,t,i))}function js(e,t,n,r,i,o){if(null===e){var s=n.type;return"function"!=typeof s||zl(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Wl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Fs(e,t,s,r,i,o))}return s=e.child,0===(i&o)&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:dr)(i,r)&&e.ref===t.ref)?ra(e,t,o):(t.flags|=1,(e=ql(s,r)).ref=t.ref,e.return=t,t.child=e)}function Fs(e,t,n,r,i,o){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(Rs=!1,0===(o&i))return t.lanes=e.lanes,ra(e,t,o);16384&e.flags&&(Rs=!0)}return zs(e,t,n,r,o)}function Us(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(4&t.mode){if(!(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Al(0,e),null;t.memoizedState={baseLanes:0},Al(0,null!==o?o.baseLanes:n)}else t.memoizedState={baseLanes:0},Al(0,n);else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Al(0,r);return Os(e,t,i,n),t.child}function Hs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function zs(e,t,n,r,i){var o=_i(n)?fi:hi.current;return o=mi(t,o),io(t,i),n=ss(e,t,n,r,o,i),null===e||Rs?(t.flags|=1,Os(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ra(e,t,i))}function qs(e,t,n,r,i){if(_i(n)){var o=!0;Ai(t)}else o=!1;if(io(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),vo(t,n,r),yo(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;u="object"==typeof u&&null!==u?oo(u):mi(t,u=_i(n)?fi:hi.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof s.getSnapshotBeforeUpdate;d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||l!==u)&&Ao(t,s,r,u),so=!1;var h=t.memoizedState;s.state=h,po(t,r,s,i),l=t.memoizedState,a!==r||h!==l||pi.current||so?("function"==typeof c&&(_o(t,n,c,r),l=t.memoizedState),(a=so||bo(t,n,a,r,h,l,u))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4)):("function"==typeof s.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):("function"==typeof s.componentDidMount&&(t.flags|=4),r=!1)}else{s=t.stateNode,lo(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Ki(t.type,a),s.props=u,d=t.pendingProps,h=s.context,l="object"==typeof(l=n.contextType)&&null!==l?oo(l):mi(t,l=_i(n)?fi:hi.current);var p=n.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==d||h!==l)&&Ao(t,s,r,l),so=!1,h=t.memoizedState,s.state=h,po(t,r,s,i);var f=t.memoizedState;a!==d||h!==f||pi.current||so?("function"==typeof p&&(_o(t,n,p,r),f=t.memoizedState),(u=so||bo(t,n,u,r,h,f,l))?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ws(e,t,n,r,o,i)}function Ws(e,t,n,r,i,o){Hs(e,t);var s=!!(64&t.flags);if(!r&&!s)return i&&yi(t,n,!1),ra(e,t,o);r=t.stateNode,Vs.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=ko(t,e.child,null,o),t.child=ko(t,null,a,o)):Os(e,t,a,o),t.memoizedState=r.state,i&&yi(t,n,!0),t.child}function Ys(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),No(e,t.containerInfo)}var Gs,Qs,$s,Ks,Js={dehydrated:null,retryLane:0};function Zs(e,t,n){var r,i=t.pendingProps,o=Oo.current,s=!1;return(r=!!(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&!!(2&o)),r?(s=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ci(Oo,1&o),null===e?(void 0!==i.fallback&&qo(t),e=i.children,o=i.fallback,s?(e=Xs(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Js,e):"number"==typeof i.unstable_expectedLoadTime?(e=Xs(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Js,t.lanes=33554432,e):((n=Gl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,s?(i=function(e,t,n,r,i){var o=t.mode,s=e.child;e=s.sibling;var a={mode:"hidden",children:n};return 2&o||t.child===s?n=ql(s,a):((n=t.child).childLanes=0,n.pendingProps=a,null!==(s=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=s,s.nextEffect=null):t.firstEffect=t.lastEffect=null),null!==e?r=ql(e,r):(r=Yl(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=Js,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=ql(i,{mode:"visible",children:n}),!(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function Xs(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},2&i||null===o?o=Gl(t,i,0,null):(o.childLanes=0,o.pendingProps=t),n=Yl(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function ea(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ro(e.return,t)}function ta(e,t,n,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.lastEffect=o)}function na(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Os(e,t,r.children,n),2&(r=Oo.current))r=1&r|2,t.flags|=64;else{if(null!==e&&64&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ea(e,n);else if(19===e.tag)ea(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ci(Oo,r),2&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Po(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ta(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Po(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ta(t,!0,n,null,o,t.lastEffect);break;case"together":ta(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function ra(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ja|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=ql(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ql(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ia(e,t){if(!Uo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function oa(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return _i(t.type)&&gi(),null;case 3:return Lo(),ui(pi),ui(hi),$o(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Yo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Qs(t),null;case 5:Ro(t);var o=Mo(Bo.current);if(n=t.type,null!==e&&null!=t.stateNode)$s(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=Mo(To.current),Yo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Jr]=t,r[Zr]=a,n){case"dialog":Tr("cancel",r),Tr("close",r);break;case"iframe":case"object":case"embed":Tr("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)Tr(Er[e],r);break;case"source":Tr("error",r);break;case"img":case"image":case"link":Tr("error",r),Tr("load",r);break;case"details":Tr("toggle",r);break;case"input":ee(r,a),Tr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Tr("invalid",r);break;case"textarea":le(r,a),Tr("invalid",r)}for(var u in Ce(n,a),e=null,a)a.hasOwnProperty(u)&&(o=a[u],"children"===u?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):l.hasOwnProperty(u)&&null!=o&&"onScroll"===u&&Tr("scroll",r));switch(n){case"input":K(r),re(r,a,!0);break;case"textarea":K(r),ce(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=jr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===o.nodeType?o:o.ownerDocument,e===de&&(e=he(n)),e===de?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Gs(e,t,!1,!1),t.stateNode=e,u=xe(n,r),n){case"dialog":Tr("cancel",e),Tr("close",e),o=r;break;case"iframe":case"object":case"embed":Tr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Er.length;o++)Tr(Er[o],e);o=r;break;case"source":Tr("error",e),o=r;break;case"img":case"image":case"link":Tr("error",e),Tr("load",e),o=r;break;case"details":Tr("toggle",e),o=r;break;case"input":ee(e,r),o=X(e,r),Tr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Tr("invalid",e);break;case"textarea":le(e,r),o=ae(e,r),Tr("invalid",e);break;default:o=r}Ce(n,o);var c=o;for(a in c)if(c.hasOwnProperty(a)){var d=c[a];"style"===a?ye(e,d):"dangerouslySetInnerHTML"===a?null!=(d=d?d.__html:void 0)&&_e(e,d):"children"===a?"string"==typeof d?("textarea"!==n||""!==d)&&ge(e,d):"number"==typeof d&&ge(e,""+d):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=d&&"onScroll"===a&&Tr("scroll",e):null!=d&&A(e,a,d,u))}switch(n){case"input":K(e),re(e,r,!1);break;case"textarea":K(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?se(e,!!r.multiple,a,!1):null!=r.defaultValue&&se(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=jr)}Hr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ks(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(s(166));n=Mo(Bo.current),Mo(To.current),Yo(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return ui(Oo),r=t.memoizedState,64&t.flags?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Yo(t):n=null!==e.memoizedState,r&&!n&&2&t.mode&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||1&Oo.current?0===Ra&&(Ra=3):(0!==Ra&&3!==Ra||(Ra=4),null===Ba||!(134217727&ja)&&!(134217727&Fa)||_l(Ba,Na))),(r||n)&&(t.flags|=4),null);case 4:return Lo(),Qs(t),null===e&&Br(t.stateNode.containerInfo),null;case 10:return no(t),null;case 19:if(ui(Oo),null===(r=t.memoizedState))return null;if(a=!!(64&t.flags),null===(u=r.rendering))if(a)ia(r,!1);else{if(0!==Ra||null!==e&&64&e.flags)for(e=t.child;null!==e;){if(null!==(u=Po(e))){for(t.flags|=64,ia(r,!1),null!==(a=u.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ci(Oo,1&Oo.current|2),t.child}e=e.sibling}null!==r.tail&&Hi()>qa&&(t.flags|=64,a=!0,ia(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=Po(u))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ia(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!Uo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Hi()-r.renderingStartTime>qa&&1073741824!==n&&(t.flags|=64,a=!0,ia(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Hi(),n.sibling=null,t=Oo.current,ci(Oo,a?1&t|2:1&t),n):null;case 23:case 24:return yl(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(s(156,t.tag))}function sa(e){switch(e.tag){case 1:_i(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Lo(),ui(pi),ui(hi),$o(),64&(t=e.flags))throw Error(s(285));return e.flags=-4097&t|64,e;case 5:return Ro(e),null;case 13:return ui(Oo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ui(Oo),null;case 4:return Lo(),null;case 10:return no(e),null;case 23:case 24:return yl(),null;default:return null}}function aa(e,t){try{var n="",r=t;do{n+=Y(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function la(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}Gs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qs=function(){},$s=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Mo(To.current);var s,a=null;switch(n){case"input":o=X(e,o),r=X(e,r),a=[];break;case"option":o=oe(e,o),r=oe(e,r),a=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),a=[];break;case"textarea":o=ae(e,o),r=ae(e,r),a=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=jr)}for(d in Ce(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var u=o[d];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(u=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&c!==u&&(null!=c||null!=u))if("style"===d)if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(d,c)):"children"===d?"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Tr("scroll",e),a||u===c||(a=[])):"object"==typeof c&&null!==c&&c.$$typeof===V?c.toString():(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}},Ks=function(e,t,n,r){n!==r&&(t.flags|=4)};var ua="function"==typeof WeakMap?WeakMap:Map;function ca(e,t,n){(n=uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qa||(Qa=!0,$a=r),la(0,t)},n}function da(e,t,n){(n=uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return la(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ka?Ka=new Set([this]):Ka.add(this),la(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ha="function"==typeof WeakSet?WeakSet:Set;function pa(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Pl(e,t)}else t.current=null}function fa(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ki(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Yr(t.stateNode.containerInfo))}throw Error(s(163))}function ma(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(!(3&~e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,4&(i=i.tag)&&1&i&&(Vl(n,e),Ll(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ki(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&fo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}fo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Hr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&yt(n)))))}throw Error(s(163))}function _a(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=Ae("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ga(e,t){if(Ci&&"function"==typeof Ci.onCommitFiberUnmount)try{Ci.onCommitFiberUnmount(wi,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(4&r)Vl(t,n);else{r=t;try{i()}catch(e){Pl(r,e)}}n=n.next}while(n!==e)}break;case 1:if(pa(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Pl(t,e)}break;case 5:pa(t);break;case 4:Ca(e,t)}}function ba(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function va(e){return 5===e.tag||3===e.tag||4===e.tag}function Aa(e){e:{for(var t=e.return;null!==t;){if(va(t))break e;t=t.return}throw Error(s(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||va(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ya(e,n,t):wa(e,n,t)}function ya(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=jr));else if(4!==r&&null!==(e=e.child))for(ya(e,t,n),e=e.sibling;null!==e;)ya(e,t,n),e=e.sibling}function wa(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(wa(e,t,n),e=e.sibling;null!==e;)wa(e,t,n),e=e.sibling}function Ca(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(s(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var a=e,l=i,u=l;;)if(ga(a,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break e;for(;null===u.sibling;){if(null===u.return||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(a=n,l=i.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ga(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function xa(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{!(3&~r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),xe(e,i),t=xe(e,r),i=0;i<o.length;i+=2){var a=o[i],l=o[i+1];"style"===a?ye(n,l):"dangerouslySetInnerHTML"===a?_e(n,l):"children"===a?ge(n,l):A(n,a,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ue(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?se(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?se(n,!!r.multiple,r.defaultValue,!0):se(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,yt(n.containerInfo)));case 13:return null!==t.memoizedState&&(za=Hi(),_a(t.child,!0)),void Ea(t);case 19:return void Ea(t);case 23:case 24:return void _a(t,null!==t.memoizedState)}throw Error(s(163))}function Ea(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ha),t.forEach(function(t){var r=Fl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ka(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var Sa=Math.ceil,Ia=y.ReactCurrentDispatcher,Ta=y.ReactCurrentOwner,Da=0,Ba=null,Ma=null,Na=0,La=0,Va=li(0),Ra=0,Oa=null,Pa=0,ja=0,Fa=0,Ua=0,Ha=null,za=0,qa=1/0;function Wa(){qa=Hi()+500}var Ya,Ga=null,Qa=!1,$a=null,Ka=null,Ja=!1,Za=null,Xa=90,el=[],tl=[],nl=null,rl=0,il=null,ol=-1,sl=0,al=0,ll=null,ul=!1;function cl(){return 48&Da?Hi():-1!==ol?ol:ol=Hi()}function dl(e){if(!(2&(e=e.mode)))return 1;if(!(4&e))return 99===zi()?1:2;if(0===sl&&(sl=Pa),0!==$i.transition){0!==al&&(al=null!==Ha?Ha.pendingLanes:0),e=sl;var t=4186112&~al;return 0===(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=zi(),jt(4&Da&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),sl)}function hl(e,t,n){if(50<rl)throw rl=0,il=null,Error(s(185));if(null===(e=pl(e,t)))return null;Ht(e,t,n),e===Ba&&(Fa|=t,4===Ra&&_l(e,Na));var r=zi();1===t?8&Da&&!(48&Da)?gl(e):(fl(e,n),0===Da&&(Wa(),Gi())):(!(4&Da)||98!==r&&99!==r||(null===nl?nl=new Set([e]):nl.add(e)),fl(e,n)),Ha=e}function pl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function fl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-zt(a),u=1<<l,c=o[l];if(-1===c){if(0===(u&r)||0!==(u&i)){c=t,Rt(u);var d=Vt;o[l]=10<=d?c+250:6<=d?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);a&=~u}if(r=Ot(e,e===Ba?Na:0),t=Vt,0===r)null!==n&&(n!==Ri&&ki(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ri&&ki(n)}15===t?(n=gl.bind(null,e),null===Pi?(Pi=[n],ji=Ei(Bi,Qi)):Pi.push(n),n=Ri):14===t?n=Yi(99,gl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,e))}}(t),n=Yi(n,ml.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ml(e){if(ol=-1,al=sl=0,48&Da)throw Error(s(327));var t=e.callbackNode;if(Nl()&&e.callbackNode!==t)return null;var n=Ot(e,e===Ba?Na:0);if(0===n)return null;var r=n,i=Da;Da|=16;var o=xl();for(Ba===e&&Na===r||(Wa(),wl(e,r));;)try{Sl();break}catch(t){Cl(e,t)}if(to(),Ia.current=o,Da=i,null!==Ma?r=0:(Ba=null,Na=0,r=Ra),0!==(Pa&Fa))wl(e,0);else if(0!==r){if(2===r&&(Da|=64,e.hydrate&&(e.hydrate=!1,Yr(e.containerInfo)),0!==(n=Pt(e))&&(r=El(e,n))),1===r)throw t=Oa,wl(e,0),_l(e,n),fl(e,Hi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(s(345));case 2:case 5:Dl(e);break;case 3:if(_l(e,n),(62914560&n)===n&&10<(r=za+500-Hi())){if(0!==Ot(e,0))break;if(((i=e.suspendedLanes)&n)!==n){cl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=qr(Dl.bind(null,e),r);break}Dl(e);break;case 4:if(_l(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-zt(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=Hi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Sa(n/1960))-n)){e.timeoutHandle=qr(Dl.bind(null,e),n);break}Dl(e);break;default:throw Error(s(329))}}return fl(e,Hi()),e.callbackNode===t?ml.bind(null,e):null}function _l(e,t){for(t&=~Ua,t&=~Fa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function gl(e){if(48&Da)throw Error(s(327));if(Nl(),e===Ba&&0!==(e.expiredLanes&Na)){var t=Na,n=El(e,t);0!==(Pa&Fa)&&(n=El(e,t=Ot(e,t)))}else n=El(e,t=Ot(e,0));if(0!==e.tag&&2===n&&(Da|=64,e.hydrate&&(e.hydrate=!1,Yr(e.containerInfo)),0!==(t=Pt(e))&&(n=El(e,t))),1===n)throw n=Oa,wl(e,0),_l(e,t),fl(e,Hi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dl(e),fl(e,Hi()),null}function bl(e,t){var n=Da;Da|=1;try{return e(t)}finally{0===(Da=n)&&(Wa(),Gi())}}function vl(e,t){var n=Da;Da&=-2,Da|=8;try{return e(t)}finally{0===(Da=n)&&(Wa(),Gi())}}function Al(e,t){ci(Va,La),La|=t,Pa|=t}function yl(){La=Va.current,ui(Va)}function wl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Ma)for(n=Ma.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&gi();break;case 3:Lo(),ui(pi),ui(hi),$o();break;case 5:Ro(r);break;case 4:Lo();break;case 13:case 19:ui(Oo);break;case 10:no(r);break;case 23:case 24:yl()}n=n.return}Ba=e,Ma=ql(e.current,null),Na=La=Pa=t,Ra=0,Oa=null,Ua=Fa=ja=0}function Cl(e,t){for(;;){var n=Ma;try{if(to(),Ko.current=Bs,ns){for(var r=Xo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ns=!1}if(Zo=0,ts=es=Xo=null,rs=!1,Ta.current=null,null===n||null===n.return){Ra=1,Oa=t,Ma=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Na,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l;if(!(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.lanes=c.lanes):(a.updateQueue=null,a.memoizedState=null)}var d=!!(1&Oo.current),h=s;do{var p;if(p=13===h.tag){var f=h.memoizedState;if(null!==f)p=null!==f.dehydrated;else{var m=h.memoizedProps;p=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(p){var _=h.updateQueue;if(null===_){var g=new Set;g.add(u),h.updateQueue=g}else _.add(u);if(!(2&h.mode)){if(h.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var b=uo(-1,1);b.tag=2,co(a,b)}a.lanes|=1;break e}l=void 0,a=t;var v=o.pingCache;if(null===v?(v=o.pingCache=new ua,l=new Set,v.set(u,l)):void 0===(l=v.get(u))&&(l=new Set,v.set(u,l)),!l.has(a)){l.add(a);var A=jl.bind(null,o,u,a);u.then(A,A)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);l=Error((G(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ra&&(Ra=2),l=aa(l,a),h=s;do{switch(h.tag){case 3:o=l,h.flags|=4096,t&=-t,h.lanes|=t,ho(h,ca(0,o,t));break e;case 1:o=l;var y=h.type,w=h.stateNode;if(!(64&h.flags||"function"!=typeof y.getDerivedStateFromError&&(null===w||"function"!=typeof w.componentDidCatch||null!==Ka&&Ka.has(w)))){h.flags|=4096,t&=-t,h.lanes|=t,ho(h,da(h,o,t));break e}}h=h.return}while(null!==h)}Tl(n)}catch(e){t=e,Ma===n&&null!==n&&(Ma=n=n.return);continue}break}}function xl(){var e=Ia.current;return Ia.current=Bs,null===e?Bs:e}function El(e,t){var n=Da;Da|=16;var r=xl();for(Ba===e&&Na===t||wl(e,t);;)try{kl();break}catch(t){Cl(e,t)}if(to(),Da=n,Ia.current=r,null!==Ma)throw Error(s(261));return Ba=null,Na=0,Ra}function kl(){for(;null!==Ma;)Il(Ma)}function Sl(){for(;null!==Ma&&!Si();)Il(Ma)}function Il(e){var t=Ya(e.alternate,e,La);e.memoizedProps=e.pendingProps,null===t?Tl(e):Ma=t,Ta.current=null}function Tl(e){var t=e;do{var n=t.alternate;if(e=t.return,2048&t.flags){if(null!==(n=sa(t)))return n.flags&=2047,void(Ma=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}else{if(null!==(n=oa(n,t,La)))return void(Ma=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||1073741824&La||!(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&!(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}if(null!==(t=t.sibling))return void(Ma=t);Ma=t=e}while(null!==t);0===Ra&&(Ra=5)}function Dl(e){var t=zi();return Wi(99,Bl.bind(null,e,t)),null}function Bl(e,t){do{Nl()}while(null!==Za);if(48&Da)throw Error(s(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,l=e.expirationTimes;0<o;){var u=31-zt(o),c=1<<u;i[u]=0,a[u]=-1,l[u]=-1,o&=~c}if(null!==nl&&!(24&r)&&nl.has(e)&&nl.delete(e),e===Ba&&(Ma=Ba=null,Na=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Da,Da|=32,Ta.current=null,Fr=Qt,_r(a=mr())){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,o=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(e){l=null;break e}var d=0,h=-1,p=-1,f=0,m=0,_=a,g=null;t:for(;;){for(var b;_!==l||0!==o&&3!==_.nodeType||(h=d+o),_!==u||0!==c&&3!==_.nodeType||(p=d+c),3===_.nodeType&&(d+=_.nodeValue.length),null!==(b=_.firstChild);)g=_,_=b;for(;;){if(_===a)break t;if(g===l&&++f===o&&(h=d),g===u&&++m===c&&(p=d),null!==(b=_.nextSibling))break;g=(_=g).parentNode}_=b}l=-1===h||-1===p?null:{start:h,end:p}}else l=null;l=l||{start:0,end:0}}else l=null;Ur={focusedElem:a,selectionRange:l},Qt=!1,ll=null,ul=!1,Ga=r;do{try{Ml()}catch(e){if(null===Ga)throw Error(s(330));Pl(Ga,e),Ga=Ga.nextEffect}}while(null!==Ga);ll=null,Ga=r;do{try{for(a=e;null!==Ga;){var v=Ga.flags;if(16&v&&ge(Ga.stateNode,""),128&v){var A=Ga.alternate;if(null!==A){var y=A.ref;null!==y&&("function"==typeof y?y(null):y.current=null)}}switch(1038&v){case 2:Aa(Ga),Ga.flags&=-3;break;case 6:Aa(Ga),Ga.flags&=-3,xa(Ga.alternate,Ga);break;case 1024:Ga.flags&=-1025;break;case 1028:Ga.flags&=-1025,xa(Ga.alternate,Ga);break;case 4:xa(Ga.alternate,Ga);break;case 8:Ca(a,l=Ga);var w=l.alternate;ba(l),null!==w&&ba(w)}Ga=Ga.nextEffect}}catch(e){if(null===Ga)throw Error(s(330));Pl(Ga,e),Ga=Ga.nextEffect}}while(null!==Ga);if(y=Ur,A=mr(),v=y.focusedElem,a=y.selectionRange,A!==v&&v&&v.ownerDocument&&fr(v.ownerDocument.documentElement,v)){null!==a&&_r(v)&&(A=a.start,void 0===(y=a.end)&&(y=A),"selectionStart"in v?(v.selectionStart=A,v.selectionEnd=Math.min(y,v.value.length)):(y=(A=v.ownerDocument||document)&&A.defaultView||window).getSelection&&(y=y.getSelection(),l=v.textContent.length,w=Math.min(a.start,l),a=void 0===a.end?w:Math.min(a.end,l),!y.extend&&w>a&&(l=a,a=w,w=l),l=pr(v,w),o=pr(v,a),l&&o&&(1!==y.rangeCount||y.anchorNode!==l.node||y.anchorOffset!==l.offset||y.focusNode!==o.node||y.focusOffset!==o.offset)&&((A=A.createRange()).setStart(l.node,l.offset),y.removeAllRanges(),w>a?(y.addRange(A),y.extend(o.node,o.offset)):(A.setEnd(o.node,o.offset),y.addRange(A))))),A=[];for(y=v;y=y.parentNode;)1===y.nodeType&&A.push({element:y,left:y.scrollLeft,top:y.scrollTop});for("function"==typeof v.focus&&v.focus(),v=0;v<A.length;v++)(y=A[v]).element.scrollLeft=y.left,y.element.scrollTop=y.top}Qt=!!Fr,Ur=Fr=null,e.current=n,Ga=r;do{try{for(v=e;null!==Ga;){var C=Ga.flags;if(36&C&&ma(v,Ga.alternate,Ga),128&C){A=void 0;var x=Ga.ref;if(null!==x){var E=Ga.stateNode;Ga.tag,A=E,"function"==typeof x?x(A):x.current=A}}Ga=Ga.nextEffect}}catch(e){if(null===Ga)throw Error(s(330));Pl(Ga,e),Ga=Ga.nextEffect}}while(null!==Ga);Ga=null,Oi(),Da=i}else e.current=n;if(Ja)Ja=!1,Za=e,Xa=t;else for(Ga=r;null!==Ga;)t=Ga.nextEffect,Ga.nextEffect=null,8&Ga.flags&&((C=Ga).sibling=null,C.stateNode=null),Ga=t;if(0===(r=e.pendingLanes)&&(Ka=null),1===r?e===il?rl++:(rl=0,il=e):rl=0,n=n.stateNode,Ci&&"function"==typeof Ci.onCommitFiberRoot)try{Ci.onCommitFiberRoot(wi,n,void 0,!(64&~n.current.flags))}catch(e){}if(fl(e,Hi()),Qa)throw Qa=!1,e=$a,$a=null,e;return 8&Da||Gi(),null}function Ml(){for(;null!==Ga;){var e=Ga.alternate;ul||null===ll||(8&Ga.flags?Xe(Ga,ll)&&(ul=!0):13===Ga.tag&&ka(e,Ga)&&Xe(Ga,ll)&&(ul=!0));var t=Ga.flags;256&t&&fa(e,Ga),!(512&t)||Ja||(Ja=!0,Yi(97,function(){return Nl(),null})),Ga=Ga.nextEffect}}function Nl(){if(90!==Xa){var e=97<Xa?97:Xa;return Xa=90,Wi(e,Rl)}return!1}function Ll(e,t){el.push(t,e),Ja||(Ja=!0,Yi(97,function(){return Nl(),null}))}function Vl(e,t){tl.push(t,e),Ja||(Ja=!0,Yi(97,function(){return Nl(),null}))}function Rl(){if(null===Za)return!1;var e=Za;if(Za=null,48&Da)throw Error(s(331));var t=Da;Da|=32;var n=tl;tl=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(e){if(null===o)throw Error(s(330));Pl(o,e)}}for(n=el,el=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(e){if(null===o)throw Error(s(330));Pl(o,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Da=t,Gi(),!0}function Ol(e,t,n){co(e,t=ca(0,t=aa(n,t),1)),t=cl(),null!==(e=pl(e,1))&&(Ht(e,1,t),fl(e,t))}function Pl(e,t){if(3===e.tag)Ol(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ol(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ka||!Ka.has(r))){var i=da(n,e=aa(t,e),1);if(co(n,i),i=cl(),null!==(n=pl(n,1)))Ht(n,1,i),fl(n,i);else if("function"==typeof r.componentDidCatch&&(null===Ka||!Ka.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function jl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=cl(),e.pingedLanes|=e.suspendedLanes&n,Ba===e&&(Na&n)===n&&(4===Ra||3===Ra&&(62914560&Na)===Na&&500>Hi()-za?wl(e,0):Ua|=n),fl(e,t)}function Fl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(2&(t=e.mode)?4&t?(0===sl&&(sl=Pa),0===(t=Ft(62914560&~sl))&&(t=4194304)):t=99===zi()?1:2:t=1),n=cl(),null!==(e=pl(e,t))&&(Ht(e,t,n),fl(e,n))}function Ul(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hl(e,t,n,r){return new Ul(e,t,n,r)}function zl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ql(e,t){var n=e.alternate;return null===n?((n=Hl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wl(e,t,n,r,i,o){var a=2;if(r=e,"function"==typeof e)zl(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case x:return Yl(n.children,i,o,t);case R:a=8,i|=16;break;case E:a=8,i|=1;break;case k:return(e=Hl(12,n,t,8|i)).elementType=k,e.type=k,e.lanes=o,e;case D:return(e=Hl(13,n,t,i)).type=D,e.elementType=D,e.lanes=o,e;case B:return(e=Hl(19,n,t,i)).elementType=B,e.lanes=o,e;case O:return Gl(n,i,o,t);case P:return(e=Hl(24,n,t,i)).elementType=P,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case S:a=10;break e;case I:a=9;break e;case T:a=11;break e;case M:a=14;break e;case N:a=16,r=null;break e;case L:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Hl(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Yl(e,t,n,r){return(e=Hl(7,e,r,t)).lanes=n,e}function Gl(e,t,n,r){return(e=Hl(23,e,r,t)).elementType=O,e.lanes=n,e}function Ql(e,t,n){return(e=Hl(6,e,null,t)).lanes=n,e}function $l(e,t,n){return(t=Hl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ut(0),this.expirationTimes=Ut(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ut(0),this.mutableSourceEagerHydrationData=null}function Jl(e,t,n,r){var i=t.current,o=cl(),a=dl(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(s(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(_i(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(s(171))}if(1===n.tag){var u=n.type;if(_i(u)){n=vi(n,u,l);break e}}n=l}else n=di;return null===t.context?t.context=n:t.pendingContext=n,(t=uo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),co(i,t),hl(i,a,o),a}function Zl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Xl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eu(e,t){Xl(e,t),(e=e.alternate)&&Xl(e,t)}function tu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Kl(e,t,null!=n&&!0===n.hydrate),t=Hl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ao(t),e[Xr]=n.current,Br(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ru(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"==typeof i){var a=i;i=function(){var e=Zl(s);a.call(e)}}Jl(t,s,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tu(e,0,t?{hydrate:!0}:void 0)}(n,r),s=o._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Zl(s);l.call(e)}}vl(function(){Jl(t,s,e,i)})}return Zl(s)}function iu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nu(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ya=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Rs=!0;else{if(0===(n&r)){switch(Rs=!1,t.tag){case 3:Ys(t),Go();break;case 5:Vo(t);break;case 1:_i(t.type)&&Ai(t);break;case 4:No(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ci(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Zs(e,t,n):(ci(Oo,1&Oo.current),null!==(t=ra(e,t,n))?t.sibling:null);ci(Oo,1&Oo.current);break;case 19:if(r=0!==(n&t.childLanes),64&e.flags){if(r)return na(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ci(Oo,Oo.current),r)break;return null;case 23:case 24:return t.lanes=0,Us(e,t,n)}return ra(e,t,n)}Rs=!!(16384&e.flags)}else Rs=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,hi.current),io(t,n),i=ss(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,_i(r)){var o=!0;Ai(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ao(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&_o(t,r,a,e),i.updater=go,t.stateNode=i,i._reactInternals=t,yo(t,r,e,n),t=Ws(null,t,r,!0,o,n)}else t.tag=0,Os(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return zl(e)?1:0;if(null!=e){if((e=e.$$typeof)===T)return 11;if(e===M)return 14}return 2}(i),e=Ki(i,e),o){case 0:t=zs(null,t,i,e,n);break e;case 1:t=qs(null,t,i,e,n);break e;case 11:t=Ps(null,t,i,e,n);break e;case 14:t=js(null,t,i,Ki(i.type,e),r,n);break e}throw Error(s(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,zs(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 1:return r=t.type,i=t.pendingProps,qs(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 3:if(Ys(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,lo(e,t),po(t,r,null,n),(r=t.memoizedState.element)===i)Go(),t=ra(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Fo=Gr(t.stateNode.containerInfo.firstChild),jo=t,o=Uo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Qo.push(o);for(n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Os(e,t,r,n),Go();t=t.child}return t;case 5:return Vo(t),null===e&&qo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,zr(r,i)?a=null:null!==o&&zr(r,o)&&(t.flags|=16),Hs(e,t),Os(e,t,a,n),t.child;case 6:return null===e&&qo(t),null;case 13:return Zs(e,t,n);case 4:return No(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ko(t,null,r,n):Os(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ps(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 7:return Os(e,t,t.pendingProps,n),t.child;case 8:case 12:return Os(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var l=t.type._context;if(ci(Ji,l._currentValue),l._currentValue=o,null!==a)if(l=a.value,0==(o=ur(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(a.children===i.children&&!pi.current){t=ra(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){a=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===l.tag&&((c=uo(-1,n&-n)).tag=2,co(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),ro(l.return,n),u.lanes|=n;break}c=c.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}Os(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,io(t,n),r=r(i=oo(i,o.unstable_observedBits)),t.flags|=1,Os(e,t,r,n),t.child;case 14:return o=Ki(i=t.type,t.pendingProps),js(e,t,i,o=Ki(i.type,o),r,n);case 15:return Fs(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ki(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,_i(r)?(e=!0,Ai(t)):e=!1,io(t,n),vo(t,r,i),yo(t,r,i,n),Ws(null,t,r,!0,e,n);case 19:return na(e,t,n);case 23:case 24:return Us(e,t,n)}throw Error(s(156,t.tag))},tu.prototype.render=function(e){Jl(e,this._internalRoot,null,null)},tu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Jl(null,e,null,function(){t[Xr]=null})},et=function(e){13===e.tag&&(hl(e,4,cl()),eu(e,4))},tt=function(e){13===e.tag&&(hl(e,67108864,cl()),eu(e,67108864))},nt=function(e){if(13===e.tag){var t=cl(),n=dl(e);hl(e,n,t),eu(e,n)}},rt=function(e,t){return t()},ke=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(s(90));J(r),ne(r,i)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&se(e,!!n.multiple,t,!1)}},Me=bl,Ne=function(e,t,n,r,i){var o=Da;Da|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Da=o)&&(Wa(),Gi())}},Le=function(){!(49&Da)&&(function(){if(null!==nl){var e=nl;nl=null,e.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,fl(e,Hi())})}Gi()}(),Nl())},Ve=function(e,t){var n=Da;Da|=2;try{return e(t)}finally{0===(Da=n)&&(Wa(),Gi())}};var ou={Events:[ni,ri,ii,De,Be,Nl,{current:!1}]},su={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},au={bundleType:su.bundleType,version:su.version,rendererPackageName:su.rendererPackageName,rendererConfig:su.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:su.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{wi=lu.inject(au),Ci=lu}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ou,t.createPortal=iu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Da;if(48&n)return e(t);Da|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Da=n,Gi()}},t.hydrate=function(e,t,n){if(!nu(t))throw Error(s(200));return ru(null,e,t,!0,n)},t.render=function(e,t,n){if(!nu(t))throw Error(s(200));return ru(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nu(e))throw Error(s(40));return!!e._reactRootContainer&&(vl(function(){ru(null,null,e,!1,function(){e._reactRootContainer=null,e[Xr]=null})}),!0)},t.unstable_batchedUpdates=bl,t.unstable_createPortal=function(e,t){return iu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nu(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return ru(e,t,n,!1,r)},t.version="17.0.2"},2483:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(7045)},7887:(e,t,n)=>{"use strict";var r=n(1654);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(9131)),o=r(n(8463)),s=r(n(5432)),a=r(n(2132)),l=r(n(7111)),u=r(n(5075)),c=r(n(5985)),d=r(n(7810)),h=r(n(9810)),p=function(e){function t(){var e,n;(0,i.default)(this,t);for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return n=(0,s.default)(this,(e=(0,a.default)(t)).call.apply(e,[this].concat(o))),(0,c.default)((0,l.default)(n),"_templateContainer",void 0),(0,c.default)((0,l.default)(n),"_templateContainerSetter",function(e){e&&(n._templateContainer=e)}),(0,c.default)((0,l.default)(n),"_el",void 0),(0,c.default)((0,l.default)(n),"_elSetter",function(e){e&&(n._el=e)}),(0,c.default)((0,l.default)(n),"_dragHandleProps",n.props.makeDragHandleProps(function(){return n.props.y})),n}return(0,u.default)(t,e),(0,o.default)(t,[{key:"getDOMNode",value:function(){return this._el}},{key:"getTemplate",value:function(){return this._templateContainer.getTemplate()}},{key:"shouldComponentUpdate",value:function(e){return this.props.anySelected!==e.anySelected||this.props.itemSelected!==e.itemSelected||this.props.item!==e.item||this.props.template!==e.template||this.props.y!==e.y||this.props.height!==e.height||this.props.zIndex!==e.zIndex||this.props.commonProps!==e.commonProps}},{key:"render",value:function(){var e=this.props,t=e.item,n=e.y,r=e.padding,i=e.itemSelected,o=e.anySelected,s=e.height,a=e.zIndex,l=e.template,u=e.commonProps;return d.default.createElement("div",{ref:this._elSetter,style:{position:null==n?"relative":"absolute",boxSizing:"border-box",left:"0px",right:"0px",top:null==n?"0px":"".concat(n,"px"),marginBottom:"".concat(r,"px"),height:null==n?"auto":"".concat(o*(s.drag-s.natural)+s.natural,"px"),zIndex:a}},d.default.createElement(h.default,{ref:this._templateContainerSetter,item:t,template:l,itemSelected:i,anySelected:o,dragHandleProps:this._dragHandleProps,commonProps:u}))}}]),t}(d.default.Component);t.default=p,e.exports=t.default,e.exports.default=t.default},8647:(e,t,n)=>{"use strict";var r=n(1654);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(9131)),o=r(n(8463)),s=r(n(5432)),a=r(n(2132)),l=r(n(5075)),u=function(e){function t(){return(0,i.default)(this,t),(0,s.default)(this,(0,a.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidUpdate",value:function(){this.props.cb()}},{key:"render",value:function(){return null}}]),t}(r(n(7810)).default.Component);t.default=u,e.exports=t.default,e.exports.default=t.default},9810:(e,t,n)=>{"use strict";var r=n(1654);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(9131)),o=r(n(8463)),s=r(n(5432)),a=r(n(2132)),l=r(n(7111)),u=r(n(5075)),c=r(n(5985)),d=r(n(7810)),h=function(e){function t(){var e,n;(0,i.default)(this,t);for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return n=(0,s.default)(this,(e=(0,a.default)(t)).call.apply(e,[this].concat(o))),(0,c.default)((0,l.default)(n),"_template",void 0),(0,c.default)((0,l.default)(n),"_templateSetter",function(e){e&&(n._template=e)}),n}return(0,u.default)(t,e),(0,o.default)(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.anySelected!==e.anySelected||this.props.itemSelected!==e.itemSelected||this.props.item!==e.item||this.props.template!==e.template||this.props.commonProps!==e.commonProps}},{key:"getTemplate",value:function(){return this._template}},{key:"render",value:function(){var e=this.props,t=e.item,n=e.itemSelected,r=e.anySelected,i=e.dragHandleProps,o=e.commonProps,s=this.props.template;return d.default.createElement(s,{ref:this._templateSetter,item:t,itemSelected:n,anySelected:r,dragHandleProps:i,commonProps:o})}}]),t}(d.default.Component);t.default=h,e.exports=t.default,e.exports.default=t.default},6931:(e,t,n)=>{"use strict";var r=n(9485),i=n(1654);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(2595)),s=i(n(9131)),a=i(n(8463)),l=i(n(5432)),u=i(n(2132)),c=i(n(7111)),d=i(n(5075)),h=i(n(5985)),p=r(n(7810)),f=i(n(5826)),m=n(2591),_=i(n(2996)),g=i(n(2608)),b=i(n(8647)),v=i(n(7887)),A={natural:200,drag:30};function y(e,t,n){return Math.round(t-t/n*e)}var w=function(e){function t(e){var n;return(0,s.default)(this,t),n=(0,l.default)(this,(0,u.default)(t).call(this,e)),(0,h.default)((0,c.default)(n),"_itemRefs",new g.default),(0,h.default)((0,c.default)(n),"_autoScrollerTimer",void 0),(0,h.default)((0,c.default)(n),"_listRef",p.createRef()),(0,h.default)((0,c.default)(n),"_handleTouchMove",function(e){e.preventDefault(),n._handleMouseMove(e.touches[0])}),(0,h.default)((0,c.default)(n),"_handleMouseMove",function(e){var t=e.pageY,r=e.clientY,i=n.props,s=i.list,a=i.autoScrollMaxSpeed,l=i.autoScrollRegionSize,u=n.state,c=u.dragging,d=u.lastDrag;if(c&&d){var h=n._getContainer(),p=n._getDragVisualIndex(),f=n._getKeyFn();if(clearInterval(n._autoScrollerTimer),0!==p&&p!==s.length-1){var m=0,_=h&&h!==document.body&&h.getBoundingClientRect?h.getBoundingClientRect():{top:0,bottom:1/0},g=Math.max(0,_.top),b=r-g;if(b>0&&b<l)m=-1*y(b,a,l);else{var v=Math.min(window.innerHeight,_.bottom)-r;v>0&&v<l&&(m=y(v,a,l))}0!==m&&(n._scrollContainer(m),n._autoScrollerTimer=setTimeout(function(){n._handleMouseMove({pageY:t+(h===document.body?m:0),clientY:r})},16))}var A=h&&h!==document.body?h.scrollTop:0,w=t-d.mouseOffset+A;if(n.props.constrainDrag){var C=n._getVisualListDuringDrag();w=Math.max(w,n._getDistanceFromTopDuringDrag(d,f(C[0]),C)),w=Math.min(w,n._getDistanceFromTopDuringDrag(d,f(C[C.length-1]),C))}n.setState({lastDrag:(0,o.default)({},d,{mouseY:w})})}}),(0,h.default)((0,c.default)(n),"_handleMouseUp",function(){clearInterval(n._autoScrollerTimer),window.removeEventListener("mouseup",n._handleMouseUp),window.removeEventListener("touchend",n._handleMouseUp),window.removeEventListener("touchmove",n._handleTouchMove),window.removeEventListener("mousemove",n._handleMouseMove),document.documentElement&&(document.documentElement.style.cursor=""),n._lastScrollDelta=0;var e=n.props,t=e.list,r=e.onMoveEnd,i=n.state,o=i.dragging,s=i.lastDrag;if(o&&s&&r){var a=n._getDragListIndex(),l=n._getDragVisualIndex();a!==l&&r(n._getVisualListDuringDrag(),t[a],a,l),n.setState({dragging:!1})}}),(0,h.default)((0,c.default)(n),"_lastScrollDelta",0),n.state={useAbsolutePositioning:!1,dragging:!1,lastDrag:null,heights:null},n}return(0,d.default)(t,e),(0,a.default)(t,[{key:"getItemInstance",value:function(e){var t=this._itemRefs.map.get(e);if(!t)throw new Error("key not found");return t.getTemplate()}},{key:"componentWillUnmount",value:function(){this._handleMouseUp()}},{key:"_handleTouchStart",value:function(e,t,n){n.stopPropagation(),this._handleStartDrag(e,t,n.touches[0].pageY)}},{key:"_handleMouseDown",value:function(e,t,n){n.preventDefault(),this._handleStartDrag(e,t,n.pageY)}},{key:"_handleStartDrag",value:function(e,t,n){var r=this;document.documentElement&&(document.documentElement.style.cursor="move"),window.addEventListener("mouseup",this._handleMouseUp),window.addEventListener("touchend",this._handleMouseUp),window.addEventListener("touchmove",this._handleTouchMove),window.addEventListener("mousemove",this._handleMouseMove);var i=this._listRef.current;if(!i)throw new Error("Should not happen");i.contains&&document.activeElement&&i.contains(document.activeElement)&&document.activeElement.blur();var o=this._getKeyFn(),s=null;if(null==this.state.heights){var a=Object.create(null);this.props.list.forEach(function(e){var t=o(e),n=r._itemRefs.map.get(t),i=n?n.getDOMNode().firstElementChild:null,s=n?n.getTemplate():null,l=i instanceof HTMLElement?i.offsetHeight:A.natural,u=s&&"function"==typeof s.getDragHeight&&s.getDragHeight()||l;a[t]={natural:l,drag:u}}),s=a}var l=function(){var i=r.props.list.map(o).indexOf(e),s=null==t?r._getDistance(0,i,!1):t,a=r._getContainer(),l=a&&a!==document.body?a.scrollTop:0;r.setState({useAbsolutePositioning:!0,dragging:!0,lastDrag:{itemKey:e,startY:s,mouseY:s,mouseOffset:n-s+l}})};s?this.setState({heights:s},l):l()}},{key:"_scrollContainer",value:function(e){var t=this._getContainer();t&&(window.scrollBy&&t===document.body?window.scrollBy(0,e):t.scrollTop+=e)}},{key:"_adjustScrollAtEnd",value:function(e){var t=Math.round(e-this._lastScrollDelta);this._scrollContainer(t),this._lastScrollDelta+=t}},{key:"_getDragListIndex",value:function(){var e=this.props.list,n=this.state.lastDrag;if(!n)throw new Error("No drag happened");var r=this._getKeyFn();return t._getIndexOfItemWithKey(r,e,n.itemKey)}},{key:"_getDragVisualIndex",value:function(){var e=this.props,t=e.list,n=e.padding,r=this.state,i=r.dragging,o=r.lastDrag;if(!i||!o)throw new Error("Should not happen");var s=this._getDragListIndex(),a=o.mouseY-o.startY,l=a>0?1:a<0?-1:0,u=s;if(0!==l)for(var c=this._getKeyFn(),d=Math.abs(a),h=s+l;h<t.length&&h>=0;h+=l){var p=this._getItemHeight(c(t[h])).drag;if(d<p/2+n)break;d-=p+n,u=h}return u}},{key:"_getVisualListDuringDrag",value:function(){var e=this.props.list,t=this.state,n=t.dragging,r=t.lastDrag;if(!n||!r)throw new Error("Should not happen: _getVisualListDuringDrag called outside of drag");var i=this._getDragListIndex(),o=this._getDragVisualIndex();return(0,_.default)(e,{$splice:[[i,1],[o,0,e[i]]]})}},{key:"_getItemHeight",value:function(e){return null!=this.state.heights&&e in this.state.heights?this.state.heights[e]:A}},{key:"_getDistance",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.props.list;if(t<e)return-this._getDistance(t,e,n,r);for(var i=this.props.padding,o=this._getKeyFn(),s=0,a=e;a<t;a++){var l=this._getItemHeight(o(r[a]));s+=(n?l.drag:l.natural)+i}return s}},{key:"_getDistanceFromTopDuringDrag",value:function(e,n,r){var i=this._getKeyFn(),o=t._getIndexOfItemWithKey(i,r,n),s=this._getDragListIndex(),a=0;if(t._getIndexOfItemWithKey(i,r,e.itemKey)<s){var l=this._getItemHeight(e.itemKey),u=this._getItemHeight(i(r[s]));a=l.drag-u.drag}return e.startY+a+this._getDistance(s,o,!0,r)}},{key:"_getContainer",value:function(){var e=this.props.container;return e?e():null}},{key:"_getKeyFn",value:function(){return t._getKeyFn(this.props.itemKey)}},{key:"render",value:function(){var e=this,t=this.props,n=t.list,r=t.springConfig,i=t.container,s=t.padding,a=t.template,l=t.unsetZIndex,u=t.commonProps,c=this.state,d=c.dragging,h=c.lastDrag,f=c.useAbsolutePositioning,_=this._getKeyFn(),g=(0,m.spring)(d?1:0,r),A=d?this._getVisualListDuringDrag():n,y=n.map(function(t,i){var c=_(t),b=d&&h&&h.itemKey===c?{itemSelected:(0,m.spring)(1,r),y:h.mouseY}:{itemSelected:(0,m.spring)(0,r),y:(f?m.spring:function(e,t){return e})(d&&h?e._getDistanceFromTopDuringDrag(h,c,A):e._getDistance(0,i,!1),r)},y=(0,o.default)({anySelected:g},b),w=function(t){return{onMouseDown:function(n){return e._handleMouseDown(c,t(),n)},onTouchStart:function(n){return e._handleTouchStart(c,t(),n)}}},C=e._getItemHeight(c);return p.createElement(m.Motion,{style:y,key:c,children:function(r){var o=r.itemSelected,d=r.anySelected,m=r.y;return p.createElement(v.default,{ref:e._itemRefs.ref(c),y:f?m:null,template:a,padding:s,item:t,itemSelected:o,anySelected:d,height:C,zIndex:l&&!f?"auto":h&&h.itemKey===c?n.length:i,makeDragHandleProps:w,commonProps:u})}})}),w=0;if(!d&&h&&f){var C=this._getDragListIndex();w=(0,m.spring)(this._getDistance(0,C,!1)-h.mouseY,r)}var x=0,E=0;return n.length&&(E=s,f&&(x=this._getDistance(0,n.length,!1)-s)),p.createElement("div",{style:{position:"relative"},ref:this._listRef},p.createElement(m.Motion,{style:{adjustScroll:w,anySelected:g},onRest:function(){d||e.setState({heights:null,useAbsolutePositioning:!1})},children:function(t){var n=t.adjustScroll;return p.createElement("div",{style:{display:f?"block":"none",height:"".concat(x,"px"),marginBottom:"".concat(E,"px")}},i&&p.createElement(b.default,{cb:function(){!d&&h&&f&&e._adjustScrollAtEnd(n)}}))}}),y)}}],[{key:"getDerivedStateFromProps",value:function(e,n){var r=e.list,i=n.lastDrag;if(i){var o=t._getKeyFn(e.itemKey);try{t._getIndexOfItemWithKey(o,r,i.itemKey)}catch(e){return{dragging:!1,lastDrag:null}}}return null}},{key:"_getIndexOfItemWithKey",value:function(e,t,n){for(var r=0,i=t.length;r<i;r++)if(e(t[r])===n)return r;throw new Error("Failed to find drag index")}},{key:"_getKeyFn",value:function(e){return"function"==typeof e?e:function(t){return t[e]}}}]),t}(p.Component);t.default=w,(0,h.default)(w,"propTypes",{itemKey:f.default.oneOfType([f.default.string,f.default.func]).isRequired,template:f.default.func,list:f.default.array.isRequired,onMoveEnd:f.default.func,container:f.default.func,springConfig:f.default.object,constrainDrag:f.default.bool,padding:f.default.number,unsetZIndex:f.default.bool,autoScrollMaxSpeed:f.default.number.isRequired,autoScrollRegionSize:f.default.number.isRequired,commonProps:f.default.object}),(0,h.default)(w,"defaultProps",{springConfig:{stiffness:300,damping:50},padding:10,unsetZIndex:!1,constrainDrag:!1,autoScrollMaxSpeed:15,autoScrollRegionSize:30}),e.exports=t.default,e.exports.default=t.default},2793:(e,t,n)=>{"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e){return e&&e.__esModule?e:{default:e}}var s=o(n(5042)),a=o(n(6148)),l=o(n(1390)),u=o(n(1453)),c=o(n(1968)),d=o(n(9988)),h=o(n(7810)),p=o(n(5826)),f=1e3/60,m=function(e){function t(n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,n),this.wasAnimating=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyle=null,this.clearUnreadPropStyle=function(e){var t=!1,n=i.state,o=n.currentStyle,s=n.currentVelocity,a=n.lastIdealStyle,l=n.lastIdealVelocity;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var c=e[u];"number"==typeof c&&(t||(t=!0,o=r({},o),s=r({},s),a=r({},a),l=r({},l)),o[u]=c,s[u]=0,a[u]=c,l[u]=0)}t&&i.setState({currentStyle:o,currentVelocity:s,lastIdealStyle:a,lastIdealVelocity:l})},this.startAnimationIfNecessary=function(){i.animationID=c.default(function(e){var t=i.props.style;if(d.default(i.state.currentStyle,t,i.state.currentVelocity))return i.wasAnimating&&i.props.onRest&&i.props.onRest(),i.animationID=null,i.wasAnimating=!1,void(i.accumulatedTime=0);i.wasAnimating=!0;var n=e||u.default(),r=n-i.prevTime;if(i.prevTime=n,i.accumulatedTime=i.accumulatedTime+r,i.accumulatedTime>10*f&&(i.accumulatedTime=0),0===i.accumulatedTime)return i.animationID=null,void i.startAnimationIfNecessary();var o=(i.accumulatedTime-Math.floor(i.accumulatedTime/f)*f)/f,s=Math.floor(i.accumulatedTime/f),a={},c={},h={},p={};for(var m in t)if(Object.prototype.hasOwnProperty.call(t,m)){var _=t[m];if("number"==typeof _)h[m]=_,p[m]=0,a[m]=_,c[m]=0;else{for(var g=i.state.lastIdealStyle[m],b=i.state.lastIdealVelocity[m],v=0;v<s;v++){var A=l.default(f/1e3,g,b,_.val,_.stiffness,_.damping,_.precision);g=A[0],b=A[1]}var y=l.default(f/1e3,g,b,_.val,_.stiffness,_.damping,_.precision),w=y[0],C=y[1];h[m]=g+(w-g)*o,p[m]=b+(C-b)*o,a[m]=g,c[m]=b}}i.animationID=null,i.accumulatedTime-=s*f,i.setState({currentStyle:h,currentVelocity:p,lastIdealStyle:a,lastIdealVelocity:c}),i.unreadPropStyle=null,i.startAnimationIfNecessary()})},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"propTypes",value:{defaultStyle:p.default.objectOf(p.default.number),style:p.default.objectOf(p.default.oneOfType([p.default.number,p.default.object])).isRequired,children:p.default.func.isRequired,onRest:p.default.func},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyle,n=e.style,r=t||a.default(n),i=s.default(r);return{currentStyle:r,currentVelocity:i,lastIdealStyle:r,lastIdealVelocity:i}},t.prototype.componentDidMount=function(){this.prevTime=u.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=e.style,null==this.animationID&&(this.prevTime=u.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(c.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyle);return e&&h.default.Children.only(e)},t}(h.default.Component);t.default=m,e.exports=t.default},9959:(e,t,n)=>{"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e){return e&&e.__esModule?e:{default:e}}var s=o(n(5042)),a=o(n(6148)),l=o(n(1390)),u=o(n(1453)),c=o(n(1968)),d=o(n(9988)),h=o(n(7810)),p=o(n(5826)),f=1e3/60,m=function(e){function t(n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,n),this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=i.state,n=t.currentStyles,o=t.currentVelocities,s=t.lastIdealStyles,a=t.lastIdealVelocities,l=!1,u=0;u<e.length;u++){var c=e[u],d=!1;for(var h in c)if(Object.prototype.hasOwnProperty.call(c,h)){var p=c[h];"number"==typeof p&&(d||(d=!0,l=!0,n[u]=r({},n[u]),o[u]=r({},o[u]),s[u]=r({},s[u]),a[u]=r({},a[u])),n[u][h]=p,o[u][h]=0,s[u][h]=p,a[u][h]=0)}}l&&i.setState({currentStyles:n,currentVelocities:o,lastIdealStyles:s,lastIdealVelocities:a})},this.startAnimationIfNecessary=function(){i.animationID=c.default(function(e){var t=i.props.styles(i.state.lastIdealStyles);if(function(e,t,n){for(var r=0;r<e.length;r++)if(!d.default(e[r],t[r],n[r]))return!1;return!0}(i.state.currentStyles,t,i.state.currentVelocities))return i.animationID=null,void(i.accumulatedTime=0);var n=e||u.default(),r=n-i.prevTime;if(i.prevTime=n,i.accumulatedTime=i.accumulatedTime+r,i.accumulatedTime>10*f&&(i.accumulatedTime=0),0===i.accumulatedTime)return i.animationID=null,void i.startAnimationIfNecessary();for(var o=(i.accumulatedTime-Math.floor(i.accumulatedTime/f)*f)/f,s=Math.floor(i.accumulatedTime/f),a=[],c=[],h=[],p=[],m=0;m<t.length;m++){var _=t[m],g={},b={},v={},A={};for(var y in _)if(Object.prototype.hasOwnProperty.call(_,y)){var w=_[y];if("number"==typeof w)g[y]=w,b[y]=0,v[y]=w,A[y]=0;else{for(var C=i.state.lastIdealStyles[m][y],x=i.state.lastIdealVelocities[m][y],E=0;E<s;E++){var k=l.default(f/1e3,C,x,w.val,w.stiffness,w.damping,w.precision);C=k[0],x=k[1]}var S=l.default(f/1e3,C,x,w.val,w.stiffness,w.damping,w.precision),I=S[0],T=S[1];g[y]=C+(I-C)*o,b[y]=x+(T-x)*o,v[y]=C,A[y]=x}}h[m]=g,p[m]=b,a[m]=v,c[m]=A}i.animationID=null,i.accumulatedTime-=s*f,i.setState({currentStyles:h,currentVelocities:p,lastIdealStyles:a,lastIdealVelocities:c}),i.unreadPropStyles=null,i.startAnimationIfNecessary()})},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"propTypes",value:{defaultStyles:p.default.arrayOf(p.default.objectOf(p.default.number)),styles:p.default.func.isRequired,children:p.default.func.isRequired},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,n=e.styles,r=t||n().map(a.default),i=r.map(function(e){return s.default(e)});return{currentStyles:r,currentVelocities:i,lastIdealStyles:r,lastIdealVelocities:i}},t.prototype.componentDidMount=function(){this.prevTime=u.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=e.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=u.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(c.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyles);return e&&h.default.Children.only(e)},t}(h.default.Component);t.default=m,e.exports=t.default},6126:(e,t,n)=>{"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e){return e&&e.__esModule?e:{default:e}}var s=o(n(5042)),a=o(n(6148)),l=o(n(1390)),u=o(n(3780)),c=o(n(1453)),d=o(n(1968)),h=o(n(9988)),p=o(n(7810)),f=o(n(5826)),m=1e3/60;function _(e,t,n){var r=t;return null==r?e.map(function(e,t){return{key:e.key,data:e.data,style:n[t]}}):e.map(function(e,t){for(var i=0;i<r.length;i++)if(r[i].key===e.key)return{key:r[i].key,data:r[i].data,style:n[t]};return{key:e.key,data:e.data,style:n[t]}})}function g(e,t,n,r,i,o,a,l,c){for(var d=u.default(r,i,function(e,r){var i=t(r);return null==i||h.default(o[e],i,a[e])?(n({key:r.key,data:r.data}),null):{key:r.key,data:r.data,style:i}}),p=[],f=[],m=[],_=[],g=0;g<d.length;g++){for(var b=d[g],v=null,A=0;A<r.length;A++)if(r[A].key===b.key){v=A;break}if(null==v){var y=e(b);p[g]=y,m[g]=y;var w=s.default(b.style);f[g]=w,_[g]=w}else p[g]=o[v],m[g]=l[v],f[g]=a[v],_[g]=c[v]}return[d,p,f,m,_]}var b=function(e){function t(n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,n),this.unmounting=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=g(i.props.willEnter,i.props.willLeave,i.props.didLeave,i.state.mergedPropsStyles,e,i.state.currentStyles,i.state.currentVelocities,i.state.lastIdealStyles,i.state.lastIdealVelocities),n=t[0],o=t[1],s=t[2],a=t[3],l=t[4],u=0;u<e.length;u++){var c=e[u].style,d=!1;for(var h in c)if(Object.prototype.hasOwnProperty.call(c,h)){var p=c[h];"number"==typeof p&&(d||(d=!0,o[u]=r({},o[u]),s[u]=r({},s[u]),a[u]=r({},a[u]),l[u]=r({},l[u]),n[u]={key:n[u].key,data:n[u].data,style:r({},n[u].style)}),o[u][h]=p,s[u][h]=0,a[u][h]=p,l[u][h]=0,n[u].style[h]=p)}}i.setState({currentStyles:o,currentVelocities:s,mergedPropsStyles:n,lastIdealStyles:a,lastIdealVelocities:l})},this.startAnimationIfNecessary=function(){i.unmounting||(i.animationID=d.default(function(e){if(!i.unmounting){var t=i.props.styles,n="function"==typeof t?t(_(i.state.mergedPropsStyles,i.unreadPropStyles,i.state.lastIdealStyles)):t;if(function(e,t,n,r){if(r.length!==t.length)return!1;for(var i=0;i<r.length;i++)if(r[i].key!==t[i].key)return!1;for(i=0;i<r.length;i++)if(!h.default(e[i],t[i].style,n[i]))return!1;return!0}(i.state.currentStyles,n,i.state.currentVelocities,i.state.mergedPropsStyles))return i.animationID=null,void(i.accumulatedTime=0);var r=e||c.default(),o=r-i.prevTime;if(i.prevTime=r,i.accumulatedTime=i.accumulatedTime+o,i.accumulatedTime>10*m&&(i.accumulatedTime=0),0===i.accumulatedTime)return i.animationID=null,void i.startAnimationIfNecessary();for(var s=(i.accumulatedTime-Math.floor(i.accumulatedTime/m)*m)/m,a=Math.floor(i.accumulatedTime/m),u=g(i.props.willEnter,i.props.willLeave,i.props.didLeave,i.state.mergedPropsStyles,n,i.state.currentStyles,i.state.currentVelocities,i.state.lastIdealStyles,i.state.lastIdealVelocities),d=u[0],p=u[1],f=u[2],b=u[3],v=u[4],A=0;A<d.length;A++){var y=d[A].style,w={},C={},x={},E={};for(var k in y)if(Object.prototype.hasOwnProperty.call(y,k)){var S=y[k];if("number"==typeof S)w[k]=S,C[k]=0,x[k]=S,E[k]=0;else{for(var I=b[A][k],T=v[A][k],D=0;D<a;D++){var B=l.default(m/1e3,I,T,S.val,S.stiffness,S.damping,S.precision);I=B[0],T=B[1]}var M=l.default(m/1e3,I,T,S.val,S.stiffness,S.damping,S.precision),N=M[0],L=M[1];w[k]=I+(N-I)*s,C[k]=T+(L-T)*s,x[k]=I,E[k]=T}}b[A]=x,v[A]=E,p[A]=w,f[A]=C}i.animationID=null,i.accumulatedTime-=a*m,i.setState({currentStyles:p,currentVelocities:f,lastIdealStyles:b,lastIdealVelocities:v,mergedPropsStyles:d}),i.unreadPropStyles=null,i.startAnimationIfNecessary()}}))},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"propTypes",value:{defaultStyles:f.default.arrayOf(f.default.shape({key:f.default.string.isRequired,data:f.default.any,style:f.default.objectOf(f.default.number).isRequired})),styles:f.default.oneOfType([f.default.func,f.default.arrayOf(f.default.shape({key:f.default.string.isRequired,data:f.default.any,style:f.default.objectOf(f.default.oneOfType([f.default.number,f.default.object])).isRequired}))]).isRequired,children:f.default.func.isRequired,willEnter:f.default.func,willLeave:f.default.func,didLeave:f.default.func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(e){return a.default(e.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]),t.prototype.defaultState=function(){var e,t=this.props,n=t.defaultStyles,r=t.styles,i=t.willEnter,o=t.willLeave,l=t.didLeave,u="function"==typeof r?r(n):r;e=null==n?u:n.map(function(e){for(var t=0;t<u.length;t++)if(u[t].key===e.key)return u[t];return e});var c=null==n?u.map(function(e){return a.default(e.style)}):n.map(function(e){return a.default(e.style)}),d=null==n?u.map(function(e){return s.default(e.style)}):n.map(function(e){return s.default(e.style)}),h=g(i,o,l,e,u,c,d,c,d),p=h[0];return{currentStyles:h[1],currentVelocities:h[2],lastIdealStyles:h[3],lastIdealVelocities:h[4],mergedPropsStyles:p}},t.prototype.componentDidMount=function(){this.prevTime=c.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var t=e.styles;this.unreadPropStyles="function"==typeof t?t(_(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):t,null==this.animationID&&(this.prevTime=c.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){this.unmounting=!0,null!=this.animationID&&(d.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=_(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),t=this.props.children(e);return t&&p.default.Children.only(t)},t}(p.default.Component);t.default=b,e.exports=t.default},5042:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=0);return t},e.exports=t.default},3780:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t,n){for(var r={},i=0;i<e.length;i++)r[e[i].key]=i;var o={};for(i=0;i<t.length;i++)o[t[i].key]=i;var s=[];for(i=0;i<t.length;i++)s[i]=t[i];for(i=0;i<e.length;i++)if(!Object.prototype.hasOwnProperty.call(o,e[i].key)){var a=n(i,e[i]);null!=a&&s.push(a)}return s.sort(function(e,n){var i=o[e.key],s=o[n.key],a=r[e.key],l=r[n.key];if(null!=i&&null!=s)return o[e.key]-o[n.key];if(null!=a&&null!=l)return r[e.key]-r[n.key];if(null!=i){for(var u=0;u<t.length;u++){var c=t[u].key;if(Object.prototype.hasOwnProperty.call(r,c)){if(i<o[c]&&l>r[c])return-1;if(i>o[c]&&l<r[c])return 1}}return 1}for(u=0;u<t.length;u++)if(c=t[u].key,Object.prototype.hasOwnProperty.call(r,c)){if(s<o[c]&&a>r[c])return 1;if(s>o[c]&&a<r[c])return-1}return-1})},e.exports=t.default},1327:(e,t)=>{"use strict";t.__esModule=!0,t.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},e.exports=t.default},2591:(e,t,n)=>{"use strict";function r(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var i=n(2793);t.Motion=r(i);var o=n(9959);t.StaggeredMotion=r(o);var s=n(6126);t.TransitionMotion=r(s);var a=n(2658);t.spring=r(a);var l=n(1327);t.presets=r(l);var u=n(6148);t.stripStyle=r(u);var c=n(3308);t.reorderKeys=r(c)},3308:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(){},e.exports=t.default},9988:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t,n){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(0!==n[r])return!1;var i="number"==typeof t[r]?t[r]:t[r].val;if(e[r]!==i)return!1}return!0},e.exports=t.default},2658:(e,t,n)=>{"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e,t){return r({},s,t,{val:e})};var i,o=(i=n(1327))&&i.__esModule?i:{default:i},s=r({},o.default.noWobble,{precision:.01});e.exports=t.default},1390:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t,r,i,o,s,a){var l=r+(-o*(t-i)+-s*r)*e,u=t+l*e;return Math.abs(l)<a&&Math.abs(u-i)<a?(n[0]=i,n[1]=0,n):(n[0]=u,n[1]=l,n)};var n=[0,0];e.exports=t.default},6148:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]="number"==typeof e[n]?e[n]:e[n].val);return t},e.exports=t.default},2608:(e,t,n)=>{"use strict";var r=n(1654);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(9131)),o=r(n(8463)),s=r(n(5985)),a=function(){function e(){(0,i.default)(this,e),(0,s.default)(this,"map",new Map),(0,s.default)(this,"_refFns",new Map)}return(0,o.default)(e,[{key:"ref",value:function(e){var t=this,n=this._refFns.get(e);return n||(n=function(n){null==n?(t._refFns.delete(e),t.map.delete(e)):t.map.set(e,n)},this._refFns.set(e,n)),n}}]),e}();t.default=a},1979:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=/(\d+(?:\.\d+)?|\.\d+)(m?s)\b/i.exec(e);if(!t)throw new Error("Could not parse time from transition value");return Number(t[1])*(1===t[2].length?1e3:1)}},4293:(e,t,n)=>{"use strict";var r=n(9485),i=n(1654);t.A=void 0;var o=i(n(4718)),s=i(n(1059)),a=i(n(9131)),l=i(n(8463)),u=i(n(5432)),c=i(n(2132)),d=i(n(7111)),h=i(n(5075)),p=i(n(5985)),f=r(n(7810)),m=i(n(5826)),_=i(n(1979)),g=function(e){function t(e){var n;return(0,a.default)(this,t),n=(0,u.default)(this,(0,c.default)(t).call(this,e)),(0,p.default)((0,d.default)(n),"_removeTransitionEndListener",function(){}),(0,p.default)((0,d.default)(n),"_main",f.createRef()),(0,p.default)((0,d.default)(n),"_inner",f.createRef()),(0,p.default)((0,d.default)(n),"_onNextTransitionEnd",function(e,t){n._removeTransitionEndListener();var r,i=function(){n._removeTransitionEndListener(),t()};n._removeTransitionEndListener=function(){n._removeTransitionEndListener=function(){},clearTimeout(r),e.removeEventListener("transitionend",i)},e.addEventListener("transitionend",i);var o=1.1*(0,_.default)(n.props.heightTransition)+500;r=setTimeout(i,o)}),n.state={renderInner:e.expanded||t._visibleWhenClosed(e),closing:!1,fullyClosed:!e.expanded,height:e.expanded?"auto":e.collapsedHeight},n}return(0,h.default)(t,e),(0,l.default)(t,[{key:"componentWillUnmount",value:function(){this._removeTransitionEndListener()}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(!e.expanded&&this.props.expanded){this._removeTransitionEndListener();var r=this._main.current,i=this._inner.current;if(!r||!i)throw new Error("Should not happen");var o="".concat(i.clientHeight,"px");this.setState({height:o}),this._onNextTransitionEnd(r,function(){n.setState({height:"auto"},function(){n.props.onChangeEnd&&n.props.onChangeEnd()})})}else if(e.expanded&&!this.props.expanded){if(this._removeTransitionEndListener(),!this._inner.current)throw new Error("Should not happen");this.setState({height:"".concat(this._inner.current.clientHeight,"px")},function(){var e=n._main.current;if(!e)throw new Error("Should not happen");e.clientHeight,n.setState({height:n.props.collapsedHeight,closing:!0}),n._onNextTransitionEnd(e,function(){n.setState({closing:!1,fullyClosed:!0}),n.props.onChangeEnd&&n.props.onChangeEnd()})})}}},{key:"render",value:function(){var e=t._visibleWhenClosed(this.props),n=this.props,r=n.allowOverflowWhenOpen,i=n.children,a=(n.collapsedHeight,n.eagerRender,n.expanded,n.heightTransition),l=(n.onChangeEnd,(0,s.default)(n,["allowOverflowWhenOpen","children","collapsedHeight","eagerRender","expanded","heightTransition","onChangeEnd"])),u=this.state,c=u.height,d=u.fullyClosed,h=u.renderInner?f.createElement("div",{ref:this._inner,style:{overflow:r&&"auto"===c?"visible":"hidden"}},i):null;return f.createElement("div",(0,o.default)({},l,{ref:this._main,style:{height:c,overflow:r&&"auto"===c?"visible":"hidden",display:d&&!e?"none":null,transition:"height ".concat(a)}}),h)}}],[{key:"_visibleWhenClosed",value:function(e){return e.eagerRender||0!==parseFloat(e.collapsedHeight)}},{key:"getDerivedStateFromProps",value:function(e,n){return e.expanded&&(n.closing||n.fullyClosed)?{closing:!1,fullyClosed:!1,renderInner:!0}:e.expanded||!n.closing&&!n.fullyClosed||n.height===e.collapsedHeight?null:{height:e.collapsedHeight,renderInner:n.renderInner||t._visibleWhenClosed(e)}}}]),t}(f.Component);t.A=g,(0,p.default)(g,"propTypes",{expanded:m.default.bool.isRequired,onChangeEnd:m.default.func,collapsedHeight:m.default.string,heightTransition:m.default.string,className:m.default.string,allowOverflowWhenOpen:m.default.bool,eagerRender:m.default.bool}),(0,p.default)(g,"defaultProps",{collapsedHeight:"0",heightTransition:".25s ease",className:"",allowOverflowWhenOpen:!1,eagerRender:!1})},5677:(e,t,n)=>{"use strict";var r=n(5946),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var s=60109,a=60110,l=60112;t.Suspense=60113;var u=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),s=d("react.provider"),a=d("react.context"),l=d("react.forward_ref"),t.Suspense=d("react.suspense"),u=d("react.memo"),c=d("react.lazy")}var h="function"==typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function _(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=_.prototype;var v=b.prototype=new g;v.constructor=b,r(v,_.prototype),v.isPureReactComponent=!0;var A={current:null},y=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,o={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)y.call(t,r)&&!w.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:s,ref:a,props:o,_owner:A.current}}function x(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g;function k(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function S(e,t,n,r,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case o:l=!0}}if(l)return s=s(l=e),e=""===r?"."+k(l,0):r,Array.isArray(s)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),S(s,t,n,"",function(e){return e})):null!=s&&(x(s)&&(s=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(E,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=r+k(a=e[u],u);l+=S(a,t,n,c,s)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=S(a=a.value,t,n,c=r+k(a,u++),s);else if("object"===a)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function I(e,t,n){if(null==e)return e;var r=[],i=0;return S(e,r,"","",function(e){return t.call(n,e,i++)}),r}function T(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}if(1===e._status)return e._result;throw e._result}var D={current:null};function B(){var e=D.current;if(null===e)throw Error(p(321));return e}var M={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:A,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!x(e))throw Error(p(143));return e}},t.Component=_,t.PureComponent=b,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,n){if(null==e)throw Error(p(267,e));var o=r({},e.props),s=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=A.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)y.call(t,c)&&!w.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:i,type:e.type,key:s,ref:a,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return B().useCallback(e,t)},t.useContext=function(e,t){return B().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return B().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return B().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return B().useLayoutEffect(e,t)},t.useMemo=function(e,t){return B().useMemo(e,t)},t.useReducer=function(e,t,n){return B().useReducer(e,t,n)},t.useRef=function(e){return B().useRef(e)},t.useState=function(e){return B().useState(e)},t.version="17.0.2"},7810:(e,t,n)=>{"use strict";e.exports=n(5677)},4891:(e,t,n)=>{var r=n(2313),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},1613:(e,t)=>{"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,d=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(e){throw setTimeout(d,0),e}};n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(d,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var f=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof f&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,_=null,g=-1,b=5,v=0;t.unstable_shouldYield=function(){return t.unstable_now()>=v},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var A=new MessageChannel,y=A.port2;A.port1.onmessage=function(){if(null!==_){var e=t.unstable_now();v=e+b;try{_(!0,e)?y.postMessage(null):(m=!1,_=null)}catch(e){throw y.postMessage(null),e}}else m=!1},n=function(e){_=e,m||(m=!0,y.postMessage(null))},r=function(e,n){g=h(function(){e(t.unstable_now())},n)},i=function(){p(g),g=-1}}function w(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<E(i,t)))break e;e[r]=t,e[n]=i,n=r}}function C(e){return void 0===(e=e[0])?null:e}function x(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,s=e[o],a=o+1,l=e[a];if(void 0!==s&&0>E(s,n))void 0!==l&&0>E(l,s)?(e[r]=l,e[a]=n,r=a):(e[r]=s,e[o]=n,r=o);else{if(!(void 0!==l&&0>E(l,n)))break e;e[r]=l,e[a]=n,r=a}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var k=[],S=[],I=1,T=null,D=3,B=!1,M=!1,N=!1;function L(e){for(var t=C(S);null!==t;){if(null===t.callback)x(S);else{if(!(t.startTime<=e))break;x(S),t.sortIndex=t.expirationTime,w(k,t)}t=C(S)}}function V(e){if(N=!1,L(e),!M)if(null!==C(k))M=!0,n(R);else{var t=C(S);null!==t&&r(V,t.startTime-e)}}function R(e,n){M=!1,N&&(N=!1,i()),B=!0;var o=D;try{for(L(n),T=C(k);null!==T&&(!(T.expirationTime>n)||e&&!t.unstable_shouldYield());){var s=T.callback;if("function"==typeof s){T.callback=null,D=T.priorityLevel;var a=s(T.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?T.callback=a:T===C(k)&&x(k),L(n)}else x(k);T=C(k)}if(null!==T)var l=!0;else{var u=C(S);null!==u&&r(V,u.startTime-n),l=!1}return l}finally{T=null,D=o,B=!1}}var O=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){M||B||(M=!0,n(R))},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_getFirstCallbackNode=function(){return C(k)},t.unstable_next=function(e){switch(D){case 1:case 2:case 3:var t=3;break;default:t=D}var n=D;D=t;try{return e()}finally{D=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=O,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=D;D=e;try{return t()}finally{D=n}},t.unstable_scheduleCallback=function(e,o,s){var a=t.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?a+s:a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:I++,callback:o,priorityLevel:e,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>a?(e.sortIndex=s,w(S,e),null===C(k)&&e===C(S)&&(N?i():N=!0,r(V,s-a))):(e.sortIndex=l,w(k,e),M||B||(M=!0,n(R))),e},t.unstable_wrapCallback=function(e){var t=D;return function(){var n=D;D=t;try{return e.apply(this,arguments)}finally{D=n}}}},2328:(e,t,n)=>{"use strict";e.exports=n(1613)},3678:(e,t,n)=>{var r=n(4891).Buffer;function i(e,t){this._block=r.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=r.from(e,t));for(var n=this._block,i=this._blockSize,o=e.length,s=this._len,a=0;a<o;){for(var l=s%i,u=Math.min(o-a,i-l),c=0;c<u;c++)n[l+c]=e[a+c];a+=u,(s+=u)%i===0&&this._update(n)}return this._len+=o,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},799:(e,t,n)=>{var r=n(9784),i=n(3678),o=n(4891).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function l(){this.init(),this._w=a,i.call(this,64,56)}function u(e){return e<<1|e>>>31}function c(e){return e<<5|e>>>27}function d(e){return e<<30|e>>>2}function h(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(l,i),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(e){for(var t=this._w,n=0|this._a,r=0|this._b,i=0|this._c,o=0|this._d,a=0|this._e,l=0;l<16;++l)t[l]=e.readInt32BE(4*l);for(;l<80;++l)t[l]=u(t[l-3]^t[l-8]^t[l-14]^t[l-16]);for(var p=0;p<80;++p){var f=~~(p/20),m=c(n)+h(f,r,i,o)+a+t[p]+s[f]|0;a=o,o=i,i=d(r),r=n,n=m}this._a=n+this._a|0,this._b=r+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=a+this._e|0},l.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=l},6049:(e,t,n)=>{var r=n(9784),i=n(3678),o=n(4891).Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function l(){this.init(),this._w=a,i.call(this,64,56)}function u(e,t,n){return n^e&(t^n)}function c(e,t,n){return e&t|n&(e|t)}function d(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function h(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function p(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function f(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}r(l,i),l.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},l.prototype._update=function(e){for(var t=this._w,n=0|this._a,r=0|this._b,i=0|this._c,o=0|this._d,a=0|this._e,l=0|this._f,m=0|this._g,_=0|this._h,g=0;g<16;++g)t[g]=e.readInt32BE(4*g);for(;g<64;++g)t[g]=f(t[g-2])+t[g-7]+p(t[g-15])+t[g-16]|0;for(var b=0;b<64;++b){var v=_+h(a)+u(a,l,m)+s[b]+t[b]|0,A=d(n)+c(n,r,i)|0;_=m,m=l,l=a,a=o+v|0,o=i,i=r,r=n,n=v+A|0}this._a=n+this._a|0,this._b=r+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=a+this._e|0,this._f=l+this._f|0,this._g=m+this._g|0,this._h=_+this._h|0},l.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=l},6186:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},s=[],a=0;a<e.length;a++){var l=e[a],u=r.base?l[0]+r.base:l[0],c=o[u]||0,d="".concat(u," ").concat(c);o[u]=c+1;var h=n(d),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)t[h].references++,t[h].updater(p);else{var f=i(p,r);r.byIndex=a,t.splice(a,0,{identifier:d,updater:f,references:1})}s.push(d)}return s}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var s=0;s<o.length;s++){var a=n(o[s]);t[a].references--}for(var l=r(e,i),u=0;u<o.length;u++){var c=n(o[u]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}o=l}}},8990:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},8626:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},2155:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},9827:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},8899:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r}),e=n.hmd(e);const r=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:e)},5746:(e,t,n)=>{"use strict";var r=n(1654);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(9131)),o=r(n(8463)),s=r(n(5432)),a=r(n(2132)),l=r(n(5075)),u=r(n(7111)),c=r(n(5985)),d=r(n(2436)),h=r(n(8410)),p=Object.freeze([]),f=function(e){function t(e){var n,r;if((0,i.default)(this,t),n=(0,s.default)(this,(0,a.default)(t).call(this,{value:e.root,parent:null,ownedTags:new Set(e.tags.map(function(e){return e.tag})),executor:function(e){r=e}})),(0,c.default)((0,u.default)((0,u.default)(n)),"_nodeControllers",new Map),(0,c.default)((0,u.default)((0,u.default)(n)),"_lookupTable",void 0),(0,c.default)((0,u.default)((0,u.default)(n)),"_allByTag",void 0),!r)throw new Error;n._nodeControllers.set((0,u.default)((0,u.default)(n)),r),n._lookupTable=new Map([[e.root,[(0,u.default)((0,u.default)(n))]]]),n._allByTag=new Map,e.tags.forEach(function(e){var t=e.tag,r=d.default.active(),i=r.liveSet,o=r.controller;if(n._allByTag.has(t))throw new Error("Tag specified twice: "+t);n._allByTag.set(t,{ownedTags:new Set,liveSet:i,controller:o})}),e.tags.forEach(function(e){var t=e.tag,r=e.ownedBy;r&&r.forEach(function(e){var r=n._allByTag.get(e);if(!r)throw new Error("unknown ownedBy value for ".concat(t,": ").concat(e));r.ownedTags.add(t)})});var o={tree:(0,u.default)((0,u.default)(n)),addTaggedValue:function(e,t,r){var i,o=n._allByTag.get(t);if(!o)throw new Error("unknown tag: ".concat(t));var s=new h.default({value:r,parent:e,ownedTags:o.ownedTags,executor:function(e){i=e}});if(!i)throw new Error;n._nodeControllers.set(s,i),o.controller.add(s);var a=n._lookupTable.get(r);a?a.push(s):n._lookupTable.set(r,[s]);var l=n._nodeControllers.get(e);if(!l)throw new Error("parent is not part of TagTree");return l.addOwnedNode(t,s),s},removeTaggedNode:function(e,t,r){var i=n._allByTag.get(t);if(!i)throw new Error("unknown tag: ".concat(t));var s=n._nodeControllers.get(e);if(!s)throw new Error("parent is not part of TagTree");var a=r.getValue(),l=n._lookupTable.get(a);if(!l)throw new Error("node was missing from lookup table before removal");if(l.length>1){var u=l.indexOf(r);if(u<0)throw new Error("node was missing from list in lookup table before removal");l.splice(u,1)}else n._lookupTable.delete(a);r.getOwned().forEach(function(e,t){e.values().forEach(function(e){o.removeTaggedNode(r,t,e)})}),i.controller.remove(r),s.removeOwnedNode(t,r),n._nodeControllers.delete(r)},end:function(){n._nodeControllers.forEach(function(e){e.end()}),n._allByTag.forEach(function(e){e.controller.end()})}};return e.executor(o),e.executor=function(){},n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"getNodesForValue",value:function(e){var t=this._lookupTable.get(e);return t?Object.freeze(t.slice()):p}},{key:"getAllByTag",value:function(e){var t=this._allByTag.get(e);if(!t)throw new Error("tag does not exist in TagTree: ".concat(e));return t.liveSet}},{key:"getAll",value:function(){var e=new Map;return this._allByTag.forEach(function(t,n){var r=t.liveSet;e.set(n,r)}),e}}]),t}(h.default);t.default=f,e.exports=t.default,e.exports.default=t.default},8410:(e,t,n)=>{"use strict";var r=n(1654);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(9131)),o=r(n(8463)),s=r(n(5985)),a=r(n(2436)),l=function(){function e(t){var n=this;(0,i.default)(this,e),(0,s.default)(this,"_init",void 0),(0,s.default)(this,"_ownedNodes",new Map),(0,s.default)(this,"_ownedByTag",new Map),this._init=t,this._init.executor({node:this,addOwnedNode:function(e,t){n._ownedNodes.set(t,e);var r=n._ownedByTag.get(e);r||(r=n._createTagEntry(),n._ownedByTag.set(e,r)),r.controller.add(t)},removeOwnedNode:function(e,t){n._ownedNodes.delete(t);var r=n._ownedByTag.get(e);if(!r)throw new Error("tag not owned");r.controller.remove(t)},end:function(){n._ownedByTag.forEach(function(e){e.controller.end()})}}),this._init.executor=function(){}}return(0,o.default)(e,[{key:"_createTagEntry",value:function(){return a.default.active()}},{key:"getValue",value:function(){return this._init.value}},{key:"getParent",value:function(){return this._init.parent||null}},{key:"getOwnedByTag",value:function(e){var t=this._ownedByTag.get(e);if(!t){if(!this._init.ownedTags.has(e))throw new Error("tag not owned: ".concat(e));t=this._createTagEntry(),this._ownedByTag.set(e,t)}return t.liveSet}},{key:"getOwned",value:function(){var e=new Map;return this._ownedByTag.forEach(function(t,n){var r=t.liveSet;e.set(n,r)}),e}},{key:"getTag",value:function(){var e=this._init.parent;return e?e.getTagOfOwnedNode(this):null}},{key:"ownsNode",value:function(e){return this._ownedNodes.has(e)}},{key:"getTagOfOwnedNode",value:function(e){var t=this._ownedNodes.get(e);if(null==t)throw new Error("node not owned");return t}}]),e}();t.default=l,e.exports=t.default,e.exports.default=t.default},7138:(e,t,n)=>{"use strict";var r=n(1654);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"TagTree",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"TagTreeNode",{enumerable:!0,get:function(){return o.default}});var i=r(n(5746)),o=r(n(8410))},6046:e=>{var t={iterator:"undefined"!=typeof Symbol?Symbol.iterator:"@@iterator"};function n(e,t){throw new Error("don't know how to "+e+" collection: "+t)}function r(e,n){return"iterator"===n?e[t.iterator]||e.next:e[t[n]]}function i(e){var n=e[t.iterator];return n?n.call(e):e.next?e:l(e)?new o(e):c(e)?new s(e):void 0}function o(e){this.arr=e,this.index=0}function s(e){this.obj=e,this.keys=Object.keys(e),this.index=0}o.prototype.next=function(){return this.index<this.arr.length?{value:this.arr[this.index++],done:!1}:{done:!0}},s.prototype.next=function(){if(this.index<this.keys.length){var e=this.keys[this.index++];return{value:[e,this.obj[e]],done:!1}}return{done:!0}};var a=Object.prototype.toString,l="function"==typeof Array.isArray?Array.isArray:function(e){return"[object Array]"==a.call(e)};function u(e){return"function"==typeof e}function c(e){return e instanceof Object&&Object.getPrototypeOf(e)===Object.getPrototypeOf({})}function d(e){return"number"==typeof e}function h(e){this["@@transducer/reduced"]=!0,this["@@transducer/value"]=e}function p(e){return e instanceof h||e&&e["@@transducer/reduced"]}function f(e){return e["@@transducer/value"]}function m(e){return p(e)?f(e):e}function _(e,t,o){if(l(e)){for(var s=o,a=-1,u=e.length;++a<u;)if(p(s=t["@@transducer/step"](s,e[a]))){s=f(s);break}return t["@@transducer/result"](s)}if(c(e)||r(e,"iterator")){s=o;for(var d=i(e),h=d.next();!h.done;){if(p(s=t["@@transducer/step"](s,h.value))){s=f(s);break}h=d.next()}return t["@@transducer/result"](s)}n("iterate",e)}function g(e,t,n,r){return t=t(n),void 0===r&&(r=t["@@transducer/init"]()),_(e,t,r)}function b(){var e=Array.prototype.slice.call(arguments);return function(t){for(var n=t,r=e.length-1;r>=0;r--)n=e[r](n);return n}}function v(e,t,n){if(!t)return e;switch(n=null!=n?n:1){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};default:return e.bind(t)}}function A(e,t){this.xform=t,this.f=e}function y(e,t,n){return u(e)&&(n=t,t=e,e=null),t=v(t,n),e?l(e)?function(e,t,n){var r=-1,i=e.length,o=Array(i);for(t=v(t,n,2);++r<i;)o[r]=t(e[r],r);return o}(e,t,n):U(e,y(t)):function(e){return new A(t,e)}}function w(e,t){this.xform=t,this.f=e}function C(e,t,n){return u(e)&&(n=t,t=e,e=null),t=v(t,n),e?l(e)?function(e,t,n){var r=e.length,i=[];t=v(t,n,2);for(var o=0;o<r;o++)t(e[o],o)&&i.push(e[o]);return i}(e,t,n):U(e,C(t)):function(e){return new w(t,e)}}function x(e){this.xform=e,this.last=void 0}function E(e,t){this.xform=t,this.f=e}function k(e,t){this.n=e,this.i=0,this.xform=t}function S(e,t){this.n=e,this.i=0,this.xform=t}function I(e,t){this.xform=t,this.f=e,this.dropping=!0}function T(e,t){this.n=e,this.i=0,this.xform=t,this.part=new Array(e)}A.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},A.prototype["@@transducer/result"]=function(e){return this.xform["@@transducer/result"](e)},A.prototype["@@transducer/step"]=function(e,t){return this.xform["@@transducer/step"](e,this.f(t))},w.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},w.prototype["@@transducer/result"]=function(e){return this.xform["@@transducer/result"](e)},w.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xform["@@transducer/step"](e,t):e},x.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},x.prototype["@@transducer/result"]=function(e){return this.xform["@@transducer/result"](e)},x.prototype["@@transducer/step"]=function(e,t){return t!==this.last?(this.last=t,this.xform["@@transducer/step"](e,t)):e},E.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},E.prototype["@@transducer/result"]=function(e){return this.xform["@@transducer/result"](e)},E.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xform["@@transducer/step"](e,t):new h(e)},k.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},k.prototype["@@transducer/result"]=function(e){return this.xform["@@transducer/result"](e)},k.prototype["@@transducer/step"]=function(e,t){var n;return this.i<this.n&&(e=this.xform["@@transducer/step"](e,t),this.i+1>=this.n&&(e=p(n=e)?n:new h(n))),this.i++,e},S.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},S.prototype["@@transducer/result"]=function(e){return this.xform["@@transducer/result"](e)},S.prototype["@@transducer/step"]=function(e,t){return this.i++<this.n?e:this.xform["@@transducer/step"](e,t)},I.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},I.prototype["@@transducer/result"]=function(e){return this.xform["@@transducer/result"](e)},I.prototype["@@transducer/step"]=function(e,t){if(this.dropping){if(this.f(t))return e;this.dropping=!1}return this.xform["@@transducer/step"](e,t)},T.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},T.prototype["@@transducer/result"]=function(e){return this.i>0?m(this.xform["@@transducer/step"](e,this.part.slice(0,this.i))):this.xform["@@transducer/result"](e)},T.prototype["@@transducer/step"]=function(e,t){if(this.part[this.i]=t,this.i+=1,this.i===this.n){var n=this.part.slice(0,this.n);return this.part=new Array(this.n),this.i=0,this.xform["@@transducer/step"](e,n)}return e};var D={};function B(e,t){this.f=e,this.xform=t,this.part=[],this.last=D}function M(e,t){this.sep=e,this.xform=t,this.started=!1}function N(e,t){this.xform=t,this.n=e}function L(e,t){this.xform=t,this.n=e,this.i=-1}function V(e){this.xform=e}function R(e){return new V(e)}function O(e,t){return e.push(t),e}function P(e,t){if(l(t)&&2===t.length)e[t[0]]=t[1];else for(var n=Object.keys(t),r=n.length,i=0;i<r;i++)e[n[i]]=t[n[i]];return e}B.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},B.prototype["@@transducer/result"]=function(e){var t=this.part.length;return t>0?m(this.xform["@@transducer/step"](e,this.part.slice(0,t))):this.xform["@@transducer/result"](e)},B.prototype["@@transducer/step"]=function(e,t){var n=this.f(t);return n===this.last||this.last===D?this.part.push(t):(e=this.xform["@@transducer/step"](e,this.part),this.part=[t]),this.last=n,e},M.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},M.prototype["@@transducer/result"]=function(e){return this.xform["@@transducer/result"](e)},M.prototype["@@transducer/step"]=function(e,t){if(this.started){var n=this.xform["@@transducer/step"](e,this.sep);return p(n)?n:this.xform["@@transducer/step"](n,t)}return this.started=!0,this.xform["@@transducer/step"](e,t)},N.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},N.prototype["@@transducer/result"]=function(e){return this.xform["@@transducer/result"](e)},N.prototype["@@transducer/step"]=function(e,t){for(var n=this.n,r=e,i=0;i<n&&!p(r=this.xform["@@transducer/step"](r,t));i++);return r},L.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},L.prototype["@@transducer/result"]=function(e){return this.xform["@@transducer/result"](e)},L.prototype["@@transducer/step"]=function(e,t){return this.i+=1,this.i%this.n===0?this.xform["@@transducer/step"](e,t):e},V.prototype["@@transducer/init"]=function(){return this.xform["@@transducer/init"]()},V.prototype["@@transducer/result"]=function(e){return this.xform["@@transducer/result"](e)},V.prototype["@@transducer/step"]=function(e,t){var n=this.xform,r={"@@transducer/init":function(){return n["@@transducer/init"]()},"@@transducer/result":function(e){return e},"@@transducer/step":function(e,t){var r=n["@@transducer/step"](e,t);return p(r)?f(r):r}};return _(t,r,e)};var j={"@@transducer/init":function(){return[]},"@@transducer/result":function(e){return e}};j["@@transducer/step"]=O;var F={};function U(e,t){return l(e)?g(e,t,j,[]):c(e)?g(e,t,F,{}):e["@@transducer/step"]?(i=e["@@transducer/init"]?e["@@transducer/init"]():new e.constructor,g(e,t,e,i)):r(e,"iterator")?new q(t,e):void n("sequence",e);var i}F["@@transducer/init"]=function(){return{}},F["@@transducer/result"]=function(e){return e},F["@@transducer/step"]=P;var H={};function z(e,t){this.xform=e(H),this.iter=t}function q(e,t){this.iter=i(t),this.items=[],this.stepper=new z(e,i(t))}H["@@transducer/result"]=function(e){return p(e)?f(e):e},H["@@transducer/step"]=function(e,t){return e.items.push(t),e.rest},z.prototype["@@transducer/step"]=function(e){for(var t=e.items.length;e.items.length===t;){var n=this.iter.next();if(n.done||p(n.value)){this.xform["@@transducer/result"](this);break}this.xform["@@transducer/step"](e,n.value)}},q.prototype[t.iterator]=function(){return this},q.prototype.next=function(){return this["@@transducer/step"](),this.items.length?{value:this.items.pop(),done:!1}:{done:!0}},q.prototype["@@transducer/step"]=function(){this.items.length||this.stepper["@@transducer/step"](this)},e.exports={reduce:_,transformer:function(e){var t={"@@transducer/init":function(){throw new Error("init value unavailable")},"@@transducer/result":function(e){return e}};return t["@@transducer/step"]=e,t},Reduced:h,isReduced:p,iterator:i,push:O,merge:P,transduce:g,seq:U,toArray:function(e,t){return t?g(e,t,j,[]):_(e,j,[])},toObj:function(e,t){return t?g(e,t,F,{}):_(e,F,{})},toIter:function(e,t){return t?new q(t,e):i(e)},into:function(e,t,r){return l(e)?g(r,t,j,e):c(e)?g(r,t,F,e):e["@@transducer/step"]?g(r,t,e,e):void n("into",e)},compose:b,map:y,filter:C,remove:function(e,t,n){return u(e)&&(n=t,t=e,e=null),t=v(t,n),C(e,function(e){return!t(e)})},cat:R,mapcat:function(e,t){return b(y(e=v(e,t)),R)},keep:function(e){return C(e,function(e){return null!=e})},dedupe:function e(t){return t?U(t,e()):function(e){return new x(e)}},take:function e(t,n){return d(t)&&(n=t,t=null),t?U(t,e(n)):function(e){return new k(n,e)}},takeWhile:function e(t,n,r){return u(t)&&(r=n,n=t,t=null),n=v(n,r),t?U(t,e(n)):function(e){return new E(n,e)}},takeNth:function e(t,n){return 1===arguments.length?(n=t,function(e){return new L(n,e)}):U(t,e(n))},drop:function e(t,n){return d(t)&&(n=t,t=null),t?U(t,e(n)):function(e){return new S(n,e)}},dropWhile:function e(t,n,r){return u(t)&&(r=n,n=t,t=null),n=v(n,r),t?U(t,e(n)):function(e){return new I(n,e)}},partition:function e(t,n){return d(t)&&(n=t,t=null),t?U(t,e(n)):function(e){return new T(n,e)}},partitionBy:function e(t,n,r){return u(t)&&(r=n,n=t,t=null),n=v(n,r),t?U(t,e(n)):function(e){return new B(n,e)}},interpose:function e(t,n){return 1===arguments.length?(n=t,function(e){return new M(n,e)}):U(t,e(n))},repeat:function e(t,n){return 1===arguments.length?(n=t,function(e){return new N(n,e)}):U(t,e(n))},range:function(e){for(var t=new Array(e),n=0;n<t.length;n++)t[n]=n;return t},LazyTransformer:q}},616:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=(0,r.defonce)(e,function(){var e,t=i.stream(function(t){e=t}).toProperty();if(t.onValue(function(){}),!e)throw new Error("Should not happen, emitter was not set");var n=e;return{property:t,emit:function(e){n.emit(e)}}},"--udkefir-"+n);return o.emit(t),o.property};var r=n(7332),i=n(7249);e.exports=t.default,e.exports.default=t.default},7332:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defn=function(e,t){var n=a(e,function(){if(!e.hot)return{fn:null,wrapper:t};var n={fn:null,wrapper:null},i=r(t.length).map(function(e){return"a"+e}).join(",");return n.wrapper=new Function("shared","\n      'use strict';\n      return function ".concat(t.name,"__ud_wrapper(").concat(i,") {\n        if (new.target) {\n          return Reflect.construct(shared.fn, arguments, new.target);\n        } else {\n          return shared.fn.apply(this, arguments);\n        }\n      };\n      "))(n),t.prototype?(n.wrapper.prototype=Object.create(t.prototype),n.wrapper.prototype.constructor=n.wrapper):n.wrapper.prototype=t.prototype,n},"--defn-shared-"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:""));return n.fn=t,e.hot&&(t.prototype&&n.wrapper.prototype&&Object.getPrototypeOf(n.wrapper.prototype)!==t.prototype&&Object.setPrototypeOf(n.wrapper.prototype,t.prototype),Object.setPrototypeOf(n.wrapper,t)),n.wrapper},t.defobj=function(e,t){var n=a(e,function(){return t},"--defobj-"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:""));return n!==t&&function(e,t){Object.getOwnPropertyNames(e).filter(function(e){return!Object.prototype.hasOwnProperty.call(t,e)}).forEach(function(t){delete e[t]});var n=Object.getOwnPropertyNames(t);Object.defineProperties(e,i(n,n.map(function(e){return Object.getOwnPropertyDescriptor(t,e)}).filter(Boolean).map(function(e){return{value:e.value,enumerable:e.enumerable,writable:!0,configurable:!0}})))}(n,t),n},t.defonce=a,t.markReloadable=s;var r=n(9060),i=n(2118),o=new WeakMap;function s(e){e.hot&&e.hot.accept()}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";s(e);var r=o.get(e);if(r||(r=new Set,o.set(e,r)),r.has(n))throw new Error("ud functions can only be used once per module with a given key");r.add(n);var i=!1,a=void 0;return e.hot&&(e.hot.data&&e.hot.data.__ud__&&Object.prototype.hasOwnProperty.call(e.hot.data.__ud__,n)&&(a=e.hot.data.__ud__[n],i=!0),e.hot.dispose(function(e){e.__ud__||(e.__ud__={}),e.__ud__[n]=a})),i||(a=t()),a}},1442:(e,t,n)=>{e.exports=n(8453).Observable},8453:(e,t)=>{"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}t.Observable=void 0;var o=function(){return"function"==typeof Symbol},s=function(e){return o()&&Boolean(Symbol[e])},a=function(e){return s(e)?Symbol[e]:"@@"+e};o()&&!s("observable")&&(Symbol.observable=Symbol("observable"));var l=a("iterator"),u=a("observable"),c=a("species");function d(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function h(e){var t=e.constructor;return void 0!==t&&null===(t=t[c])&&(t=void 0),void 0!==t?t:w}function p(e){return e instanceof w}function f(e){f.log?f.log(e):setTimeout(function(){throw e})}function m(e){Promise.resolve().then(function(){try{e()}catch(e){f(e)}})}function _(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=d(t,"unsubscribe");n&&n.call(t)}}catch(e){f(e)}}function g(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function b(e,t,n){e._state="running";var r=e._observer;try{var i=d(r,t);switch(t){case"next":i&&i.call(r,n);break;case"error":if(g(e),!i)throw n;i.call(r,n);break;case"complete":g(e),i&&i.call(r)}}catch(e){f(e)}"closed"===e._state?_(e):"running"===e._state&&(e._state="ready")}function v(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void m(function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(b(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)})):void b(e,t,n);e._queue.push({type:t,value:n})}}var A=function(){function e(t,r){n(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var i=new y(this);try{this._cleanup=r.call(void 0,i)}catch(e){i.error(e)}"initializing"===this._state&&(this._state="ready")}return i(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(g(this),_(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),y=function(){function e(t){n(this,e),this._subscription=t}return i(e,[{key:"next",value:function(e){v(this._subscription,"next",e)}},{key:"error",value:function(e){v(this._subscription,"error",e)}},{key:"complete",value:function(){v(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),w=function(){function e(t){if(n(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}return i(e,[{key:"subscribe",value:function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new A(e,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise(function(n,r){if("function"==typeof e)var i=t.subscribe({next:function(t){try{e(t,o)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function o(){i.unsubscribe(),n()}})}},{key:"map",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(h(this))(function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})})}},{key:"filter",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(h(this))(function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})})}},{key:"reduce",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=h(this),r=arguments.length>1,i=!1,o=arguments[1];return new n(function(n){return t.subscribe({next:function(t){var s=!i;if(i=!0,!s||r)try{o=e(o,t)}catch(e){return n.error(e)}else o=t},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(o),n.complete()}})})}},{key:"concat",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=h(this);return new i(function(t){var r,o=0;return function e(s){r=s.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){o===n.length?(r=void 0,t.complete()):e(i.from(n[o++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}})}},{key:"flatMap",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=h(this);return new n(function(r){var i=[],o=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return r.error(e)}var o=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=i.indexOf(o);e>=0&&i.splice(e,1),s()}});i.push(o)},error:function(e){r.error(e)},complete:function(){s()}});function s(){o.closed&&0===i.length&&r.complete()}return function(){i.forEach(function(e){return e.unsubscribe()}),o.unsubscribe()}})}},{key:u,value:function(){return this}}],[{key:"from",value:function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=d(t,u);if(r){var i=r.call(t);if(Object(i)!==i)throw new TypeError(i+" is not an object");return p(i)&&i.constructor===n?i:new n(function(e){return i.subscribe(e)})}if(s("iterator")&&(r=d(t,l)))return new n(function(e){m(function(){if(!e.closed){var n=!0,i=!1,o=void 0;try{for(var s,a=r.call(t)[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var l=s.value;if(e.next(l),e.closed)return}}catch(e){i=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}e.complete()}})});if(Array.isArray(t))return new n(function(e){m(function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}})});throw new TypeError(t+" is not observable")}},{key:"of",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new("function"==typeof this?this:e)(function(e){m(function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}})})}},{key:c,get:function(){return this}}]),e}();t.Observable=w,o()&&Object.defineProperty(w,Symbol("extensions"),{value:{symbol:u,hostReportError:f},configurable:!0})},2118:e=>{e.exports=function(e,t){1==arguments.length&&(t=e[1],e=e[0]);for(var n={},r=0;r<e.length;r+=1)n[e[r]]=t[r];return n}},6332:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA/dpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ1dWlkOjY1RTYzOTA2ODZDRjExREJBNkUyRDg4N0NFQUNCNDA3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjAzMjIxMUU0REM1MTExRTI5RkE1ODlERTgyOTkyMjMyIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjc1QzhERjZDREM1MDExRTI5RkE1ODlERTgyOTkyMjMyIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIElsbHVzdHJhdG9yIENDIChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzliZDBjZTYtYWVjMy00NWZkLThkOTktMzJhOTNhMTkxZGM3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmQ4ZGVjMWJhLTk5NGEtNGViMC04NzE4LTdhMGJkN2FlOGY4OCIvPiA8ZGM6dGl0bGU+IDxyZGY6QWx0PiA8cmRmOmxpIHhtbDpsYW5nPSJ4LWRlZmF1bHQiPmdseXBoaWNvbnM8L3JkZjpsaT4gPC9yZGY6QWx0PiA8L2RjOnRpdGxlPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pvfrd2cAAANXSURBVHja5JrPaxNBFMe72wj1lFM8pNUcelLaQFLJRYptDgVBBe9F/BdyzV8h6bWQq0iKQQWhl1psL14VPPQUtErbS3owpIhdv6Mvsl1m3rz9FZv1wZeBdHbmfTozb2fejuN53lSS5jhOCcVNSJUFaJr+9BM6gXrQJ/TbS7LfXAKO51E8gB5Cd6FrwueOUexCL6FXADuN5YgakSiClaE2NFDNxNSA2ipH9icCwDy0BZ0nABDUObU9nxoITcMmNEwBIKgh9ZVLFARWhPbHABCU6rOYCAhsCfr2DyBGUn0v2fx0uPCLyLKK4gWUF8aOr9Ab+k9+hD7TNFE2A81Bi9Ad6B6NtMRURHsEX3dCRy0aib5wgXahOuSGWHMuPdMVBo4+NzLcmpBMp3dQJWrI9PVXgfaE06woAqHoZFvYZ1BDzb64EL5+HWrzTBAAchKQpmCIl5MC0PS/LJjSTRaEXnZDC8RCWhA+PxYsMMPgSzPYwJZlOi0za6oFVUM4W4WeGuf8n5HhpllHC0J7Jy56NAwdzkIHvhGrCSBqvv+4enbWUK9hiZZlHUjbEp0cC4QngQlAeBwMBQAumrUvgNALb8CQV4QQLIwBwgZTYWaK8jnvB1lnqLuGNXEgiG41IYQfpqjpr8s8s+4Hec5UrGsabgn3SX0CqAl3CUobmv7qTP1nfpAjQ6VD3baDIk4/BEyYurcN25lDwzNHo/1iiWl4M+SijSNbkNhkni25lCgw2T6z2XyPYo12pnFNtbFGbYb2RTG4NCIm+2A57ycBI4Gw+fJ7RApMhS+C5EUcGCmEzZeCArnCVBgKMzFRYMJA2HyZdullY/RxajLMdSkDaLKrwmSbimDbIY7Eo93ENj0rsRnmbz9cSmOabC4liCgwnC8nLuViTbaYIkRYGM6XXmZeiJdxi1KNskVxaWjeGoZM7XJXNL8/Fk6nUwrL0tCs2nyi+X2FyYHt/M1rZWkbP6kHq+8XDlaCo+7eRBx1M5V8iJkOUjAbukORJR3USjwdlKkEXWZSpplKYmfms8KkfugZ16c3j84212khj+/T26R9DP1/Pk9n6sKA5qXZSfEKRyfVKxyX/VKNE/e+lu+a031oVXrNCXZMh6LXSVxzclK4eHYDxa1xXzz7JcAA2eNXdJTLzjAAAAAASUVORK5CYII="},6948:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAQAAABIkb+zAAAA30lEQVR4Ae3RO04EMRgE4Q45hlkuxWMPCwdBLNxjZQJPNBkq4U7qm9x/lyb6A0mSJEmSJEmS9NB/iXjKV57DJdd8ZmSzS34yc+cJueaemVvG/vnzSODz596ES77XUZxwzN+b8HjM5wlva/7uhI91DCes+efvPf9u5AYSTvMbfwAm9OfzhNf2fJbQn48S+vNRQn8+SujPRwn9+SjhpT+fJPTno4T+fJTQnw8T+PxyAp/fT+Dz+wl8fj+Bz28n8PnVBD6/msDnVxP4/GoCn99MYPP7xmm+JEmSJEmSJEmSfgG9E96X0mx7vAAAAABJRU5ErkJggg=="},6306:e=>{"use strict";e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI2cHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDYgMTIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Q29tYmluZWQgU2hhcGU8L3RpdGxlPiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4gICAgPGRlZnM+PC9kZWZzPiAgICA8ZyBpZD0iRkluYWxzLSoqSmFuLTkqKiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+ICAgICAgICA8ZyBpZD0iU2lkZWJhci1jbG9zZWQtQ29weSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIC0xNC4wMDAwMDApIiBmaWxsPSIjQUFBQUFBIj4gICAgICAgICAgICA8ZyBpZD0iU2lkZWJhciIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEwLjAwMDAwMCwgMC4wMDAwMDApIj4gICAgICAgICAgICAgICAgPGcgaWQ9IkJveC1pbmZvLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwLjAwMDAwMCwgMC4wMDAwMDApIj4gICAgICAgICAgICAgICAgICAgIDxnIGlkPSJHcmlwcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAxNC41MDAwMDApIj4gICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMC42NjY2NjY2NjcsNS40MTY2NjY2NyBDMC42NjY2NjY2NjcsNC44NjQzODE5MiAxLjExMDUzMTQ5LDQuNDE2NjY2NjcgMS42NjY2NjY2Nyw0LjQxNjY2NjY3IEMyLjIxODk1MTQyLDQuNDE2NjY2NjcgMi42NjY2NjY2Nyw0Ljg2MDUzMTQ5IDIuNjY2NjY2NjcsNS40MTY2NjY2NyBDMi42NjY2NjY2Nyw1Ljk2ODk1MTQyIDIuMjIyODAxODQsNi40MTY2NjY2NyAxLjY2NjY2NjY3LDYuNDE2NjY2NjcgQzEuMTE0MzgxOTIsNi40MTY2NjY2NyAwLjY2NjY2NjY2Nyw1Ljk3MjgwMTg0IDAuNjY2NjY2NjY3LDUuNDE2NjY2NjcgWiBNMC42NjY2NjY2NjcsMS4yNSBDMC42NjY2NjY2NjcsMC42OTc3MTUyNSAxLjExMDUzMTQ5LDAuMjUgMS42NjY2NjY2NywwLjI1IEMyLjIxODk1MTQyLDAuMjUgMi42NjY2NjY2NywwLjY5Mzg2NDgyMiAyLjY2NjY2NjY3LDEuMjUgQzIuNjY2NjY2NjcsMS44MDIyODQ3NSAyLjIyMjgwMTg0LDIuMjUgMS42NjY2NjY2NywyLjI1IEMxLjExNDM4MTkyLDIuMjUgMC42NjY2NjY2NjcsMS44MDYxMzUxOCAwLjY2NjY2NjY2NywxLjI1IFogTTAuNjY2NjY2NjY3LDkuNTgzMzMzMzMgQzAuNjY2NjY2NjY3LDkuMDMxMDQ4NTggMS4xMTA1MzE0OSw4LjU4MzMzMzMzIDEuNjY2NjY2NjcsOC41ODMzMzMzMyBDMi4yMTg5NTE0Miw4LjU4MzMzMzMzIDIuNjY2NjY2NjcsOS4wMjcxOTgxNiAyLjY2NjY2NjY3LDkuNTgzMzMzMzMgQzIuNjY2NjY2NjcsMTAuMTM1NjE4MSAyLjIyMjgwMTg0LDEwLjU4MzMzMzMgMS42NjY2NjY2NywxMC41ODMzMzMzIEMxLjExNDM4MTkyLDEwLjU4MzMzMzMgMC42NjY2NjY2NjcsMTAuMTM5NDY4NSAwLjY2NjY2NjY2Nyw5LjU4MzMzMzMzIFogTTMuMzAwMDAwMTksMS4yNSBDMy4zMDAwMDAxOSwwLjY5NzcxNTI1IDMuNzQzODY1MDEsMC4yNSA0LjMwMDAwMDE5LDAuMjUgQzQuODUyMjg0OTQsMC4yNSA1LjMwMDAwMDE5LDAuNjkzODY0ODIyIDUuMzAwMDAwMTksMS4yNSBDNS4zMDAwMDAxOSwxLjgwMjI4NDc1IDQuODU2MTM1MzcsMi4yNSA0LjMwMDAwMDE5LDIuMjUgQzMuNzQ3NzE1NDQsMi4yNSAzLjMwMDAwMDE5LDEuODA2MTM1MTggMy4zMDAwMDAxOSwxLjI1IFogTTMuMzAwMDAwMTksNS40MTY2NjY2NyBDMy4zMDAwMDAxOSw0Ljg2NDM4MTkyIDMuNzQzODY1MDEsNC40MTY2NjY2NyA0LjMwMDAwMDE5LDQuNDE2NjY2NjcgQzQuODUyMjg0OTQsNC40MTY2NjY2NyA1LjMwMDAwMDE5LDQuODYwNTMxNDkgNS4zMDAwMDAxOSw1LjQxNjY2NjY3IEM1LjMwMDAwMDE5LDUuOTY4OTUxNDIgNC44NTYxMzUzNyw2LjQxNjY2NjY3IDQuMzAwMDAwMTksNi40MTY2NjY2NyBDMy43NDc3MTU0NCw2LjQxNjY2NjY3IDMuMzAwMDAwMTksNS45NzI4MDE4NCAzLjMwMDAwMDE5LDUuNDE2NjY2NjcgWiBNMy4zMDAwMDAxOSw5LjU4MzMzMzMzIEMzLjMwMDAwMDE5LDkuMDMxMDQ4NTggMy43NDM4NjUwMSw4LjU4MzMzMzMzIDQuMzAwMDAwMTksOC41ODMzMzMzMyBDNC44NTIyODQ5NCw4LjU4MzMzMzMzIDUuMzAwMDAwMTksOS4wMjcxOTgxNiA1LjMwMDAwMDE5LDkuNTgzMzMzMzMgQzUuMzAwMDAwMTksMTAuMTM1NjE4MSA0Ljg1NjEzNTM3LDEwLjU4MzMzMzMgNC4zMDAwMDAxOSwxMC41ODMzMzMzIEMzLjc0NzcxNTQ0LDEwLjU4MzMzMzMgMy4zMDAwMDAxOSwxMC4xMzk0Njg1IDMuMzAwMDAwMTksOS41ODMzMzMzMyBaIiBpZD0iQ29tYmluZWQtU2hhcGUiPjwvcGF0aD4gICAgICAgICAgICAgICAgICAgIDwvZz4gICAgICAgICAgICAgICAgPC9nPiAgICAgICAgICAgIDwvZz4gICAgICAgIDwvZz4gICAgPC9nPjwvc3ZnPg=="},8915:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},3783:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},7111:e=>{e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},9131:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},8463:(e,t,n)=>{var r=n(4676);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},5985:(e,t,n)=>{var r=n(4676);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},4718:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},2132:e=>{function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},5075:(e,t,n)=>{var r=n(5344);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},1654:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},9485:(e,t,n)=>{var r=n(2990).default;function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var o={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=s?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o},e.exports.__esModule=!0,e.exports.default=e.exports},4067:e=>{e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},9340:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2595:(e,t,n)=>{var r=n(5985);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&i.push.apply(i,Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),i.forEach(function(t){r(e,t,n[t])})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},1059:(e,t,n)=>{var r=n(5537);e.exports=function(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o},e.exports.__esModule=!0,e.exports.default=e.exports},5537:e=>{e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},5432:(e,t,n)=>{var r=n(2990).default,i=n(7111);e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},5344:e=>{function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6583:(e,t,n)=>{var r=n(3783),i=n(4067),o=n(6030),s=n(9340);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||s()},e.exports.__esModule=!0,e.exports.default=e.exports},8705:(e,t,n)=>{var r=n(2990).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4676:(e,t,n)=>{var r=n(2990).default,i=n(8705);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},2990:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6030:(e,t,n)=>{var r=n(8915);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.b=document.baseURI||self.location.href,n.nc=void 0;var r={};return(()=>{"use strict";n.d(r,{default:()=>d});var e={};n.r(e),n.d(e,{LOADER_VERSION:()=>l,load:()=>c,loadScript:()=>u});var t=n(8921),i=n.n(t);class o{static loadScript=()=>{throw new Error("Unexpected error: This function must be overridden")};static async load(e,t){if(!globalThis.__InboxSDKImpLoader&&(await this.loadScript(),!globalThis.__InboxSDKImpLoader))throw new Error("Implementation file did not load correctly");return globalThis.__InboxSDKImpLoader.load("0.1",e,t)}static async preload(){this.loadScript()}}o.loadScript=i()(()=>new Promise((e,t)=>{setTimeout(()=>{try{Promise.resolve().then(n.bind(n,130)).then(()=>e()).catch(t)}catch(e){t(e)}},500)}));var s=n(4782);let a=()=>{throw new Error("This function is not usable in Chrome MV3 extensions")};const l=s.Q;function u(e,t){return a(e,t)}function c(e,t,n){return n=Object.assign({globalErrorLogging:!0},n,{VERSION:l,REQUESTED_API_VERSION:e}),o.load(t,n)}"https://mail.google.com"===document.location.origin&&o.preload();const d=e})(),r.default})(),e.exports=t()},907:(e,t,n)=>{"use strict";function r(e){var t=arguments.length,n=void 0,r=void 0;for(n=1;n<t;n++)for(r in arguments[n])e[r]=arguments[n][r];return e}function i(e,t){var n,i,o=arguments.length,s=void 0;for(e.prototype=(n=t.prototype,(i=function(){}).prototype=n,new i),e.prototype.constructor=e,s=2;s<o;s++)r(e.prototype,arguments[s]);return e}n.d(t,{Ay:()=>Nn}),e=n.hmd(e);var o=["<nothing>"],s="end",a="value",l="error",u="any";function c(e,t){var n=void 0,r=void 0,i=void 0,o=void 0;if(0===e.length)return t;if(0===t.length)return e;for(o=0,n=new Array(e.length+t.length),r=e.length,i=0;i<r;i++,o++)n[o]=e[i];for(r=t.length,i=0;i<r;i++,o++)n[o]=t[i];return n}function d(e,t){var n=e.length,r=void 0;for(r=0;r<n;r++)if(e[r]===t)return r;return-1}function h(e,t){var n=e.length,r=void 0;for(r=0;r<n;r++)if(t(e[r]))return r;return-1}function p(e){var t=e.length,n=new Array(t),r=void 0;for(r=0;r<t;r++)n[r]=e[r];return n}function f(e,t){var n=e.length,r=void 0,i=void 0,o=void 0;if(t>=0&&t<n){if(1===n)return[];for(r=new Array(n-1),i=0,o=0;i<n;i++)i!==t&&(r[o]=e[i],o++);return r}return e}function m(e,t){var n=e.length,r=new Array(n),i=void 0;for(i=0;i<n;i++)r[i]=t(e[i]);return r}function _(e,t){return-1!==d(e,t)}function g(e,t,n){e===u?t(n):e===n.type&&(e===a||e===l?t(n.value):t())}function b(){this._items=[],this._spies=[],this._inLoop=0,this._removedItems=null}function v(){this._dispatcher=new b,this._active=!1,this._alive=!0,this._activating=!1,this._logHandlers=null,this._spyHandlers=null}function A(){v.call(this)}function y(){v.call(this),this._currentEvent=null}r(b.prototype,{add:function(e,t){return this._items=c(this._items,[{type:e,fn:t}]),this._items.length},remove:function(e,t){var n=h(this._items,function(n){return n.type===e&&n.fn===t});return 0!==this._inLoop&&-1!==n&&(null===this._removedItems&&(this._removedItems=[]),this._removedItems.push(this._items[n])),this._items=f(this._items,n),this._items.length},addSpy:function(e){return this._spies=c(this._spies,[e]),this._spies.length},removeSpy:function(e){return this._spies=f(this._spies,this._spies.indexOf(e)),this._spies.length},dispatch:function(e){this._inLoop++;for(var t=0,n=this._spies;null!==this._spies&&t<n.length;t++)n[t](e);for(var r=0,i=this._items;r<i.length&&null!==this._items;r++)null!==this._removedItems&&_(this._removedItems,i[r])||g(i[r].type,i[r].fn,e);this._inLoop--,0===this._inLoop&&(this._removedItems=null)},cleanup:function(){this._items=null,this._spies=null}}),r(v.prototype,{_name:"observable",_onActivation:function(){},_onDeactivation:function(){},_setActive:function(e){this._active!==e&&(this._active=e,e?(this._activating=!0,this._onActivation(),this._activating=!1):this._onDeactivation())},_clear:function(){this._setActive(!1),this._dispatcher.cleanup(),this._dispatcher=null,this._logHandlers=null},_emit:function(e,t){switch(e){case a:return this._emitValue(t);case l:return this._emitError(t);case s:return this._emitEnd()}},_emitValue:function(e){this._alive&&this._dispatcher.dispatch({type:a,value:e})},_emitError:function(e){this._alive&&this._dispatcher.dispatch({type:l,value:e})},_emitEnd:function(){this._alive&&(this._alive=!1,this._dispatcher.dispatch({type:s}),this._clear())},_on:function(e,t){return this._alive?(this._dispatcher.add(e,t),this._setActive(!0)):g(e,t,{type:s}),this},_off:function(e,t){return this._alive&&0===this._dispatcher.remove(e,t)&&this._setActive(!1),this},onValue:function(e){return this._on(a,e)},onError:function(e){return this._on(l,e)},onEnd:function(e){return this._on(s,e)},onAny:function(e){return this._on(u,e)},offValue:function(e){return this._off(a,e)},offError:function(e){return this._off(l,e)},offEnd:function(e){return this._off(s,e)},offAny:function(e){return this._off(u,e)},observe:function(e,t,n){var r=this,i=!1,o=e&&"function"!=typeof e?e:{value:e,error:t,end:n},u=function(e){e.type===s&&(i=!0),e.type===a&&o.value?o.value(e.value):e.type===l&&o.error?o.error(e.value):e.type===s&&o.end&&o.end(e.value)};return this.onAny(u),{unsubscribe:function(){i||(r.offAny(u),i=!0)},get closed(){return i}}},_ofSameType:function(e,t){return e.prototype.getType()===this.getType()?e:t},setName:function(e,t){return this._name=t?e._name+"."+t:e,this},log:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.toString(),t=void 0,n=function(n){var r="<"+n.type+(t?":current":"")+">";n.type===s?console.log(e,r):console.log(e,r,n.value)};return this._alive&&(this._logHandlers||(this._logHandlers=[]),this._logHandlers.push({name:e,handler:n})),t=!0,this.onAny(n),t=!1,this},offLog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.toString();if(this._logHandlers){var t=h(this._logHandlers,function(t){return t.name===e});-1!==t&&(this.offAny(this._logHandlers[t].handler),this._logHandlers.splice(t,1))}return this},spy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.toString(),t=function(t){var n="<"+t.type+">";t.type===s?console.log(e,n):console.log(e,n,t.value)};return this._alive&&(this._spyHandlers||(this._spyHandlers=[]),this._spyHandlers.push({name:e,handler:t}),this._dispatcher.addSpy(t)),this},offSpy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.toString();if(this._spyHandlers){var t=h(this._spyHandlers,function(t){return t.name===e});-1!==t&&(this._dispatcher.removeSpy(this._spyHandlers[t].handler),this._spyHandlers.splice(t,1))}return this}}),v.prototype.toString=function(){return"["+this._name+"]"},i(A,v,{_name:"stream",getType:function(){return"stream"}}),i(y,v,{_name:"property",_emitValue:function(e){this._alive&&(this._currentEvent={type:a,value:e},this._activating||this._dispatcher.dispatch({type:a,value:e}))},_emitError:function(e){this._alive&&(this._currentEvent={type:l,value:e},this._activating||this._dispatcher.dispatch({type:l,value:e}))},_emitEnd:function(){this._alive&&(this._alive=!1,this._activating||this._dispatcher.dispatch({type:s}),this._clear())},_on:function(e,t){return this._alive&&(this._dispatcher.add(e,t),this._setActive(!0)),null!==this._currentEvent&&g(e,t,this._currentEvent),this._alive||g(e,t,{type:s}),this},getType:function(){return"property"}});var w=new A;function C(){return w}function x(e){function t(e,t){var n=this;A.call(this),this._wait=e,this._intervalId=null,this._$onTick=function(){return n._onTick()},this._init(t)}return i(t,A,{_init:function(){},_free:function(){},_onTick:function(){},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait)},_onDeactivation:function(){null!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null)},_clear:function(){A.prototype._clear.call(this),this._$onTick=null,this._free()}},e),t}w._emitEnd(),w._name="never";var E=x({_name:"later",_init:function(e){var t=e.x;this._x=t},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x),this._emitEnd()}}),k=x({_name:"interval",_init:function(e){var t=e.x;this._x=t},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x)}}),S=x({_name:"sequentially",_init:function(e){var t=e.xs;this._xs=p(t)},_free:function(){this._xs=null},_onTick:function(){1===this._xs.length?(this._emitValue(this._xs[0]),this._emitEnd()):this._emitValue(this._xs.shift())}}),I=x({_name:"fromPoll",_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_onTick:function(){var e=this._fn;this._emitValue(e())}});function T(e){function t(t){return e._emitValue(t),e._active}function n(t){return e._emit(t.type,t.value),e._active}return{value:t,error:function(t){return e._emitError(t),e._active},end:function(){return e._emitEnd(),e._active},event:n,emit:t,emitEvent:n}}var D=x({_name:"withInterval",_init:function(e){var t=e.fn;this._fn=t,this._emitter=T(this)},_free:function(){this._fn=null,this._emitter=null},_onTick:function(){(0,this._fn)(this._emitter)}});function B(e){A.call(this),this._fn=e,this._unsubscribe=null}function M(e){return new B(e)}function N(e,t){switch(t){case 0:return function(){return e()};case 1:return function(t){return e(t[0])};case 2:return function(t){return e(t[0],t[1])};case 3:return function(t){return e(t[0],t[1],t[2])};case 4:return function(t){return e(t[0],t[1],t[2],t[3])};default:return function(t){return e.apply(null,t)}}}i(B,A,{_name:"stream",_onActivation:function(){var e=(0,this._fn)(T(this));this._unsubscribe="function"==typeof e?e:null,this._active||this._callUnsubscribe()},_callUnsubscribe:function(){null!==this._unsubscribe&&(this._unsubscribe(),this._unsubscribe=null)},_onDeactivation:function(){this._callUnsubscribe()},_clear:function(){A.prototype._clear.call(this),this._fn=null}});var L=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"]];function V(e){this._currentEvent={type:"value",value:e,current:!0}}function R(e){return new V(e)}function O(e){this._currentEvent={type:"error",value:e,current:!0}}function P(e,t){return function(n,r){var i=this;e.call(this),this._source=n,this._name=n._name+"."+t,this._init(r),this._$handleAny=function(e){return i._handleAny(e)}}}function j(e){return{_init:function(){},_free:function(){},_handleValue:function(e){this._emitValue(e)},_handleError:function(e){this._emitError(e)},_handleEnd:function(){this._emitEnd()},_handleAny:function(e){switch(e.type){case a:return this._handleValue(e.value);case l:return this._handleError(e.value);case s:return this._handleEnd()}},_onActivation:function(){this._source.onAny(this._$handleAny)},_onDeactivation:function(){this._source.offAny(this._$handleAny)},_clear:function(){e.prototype._clear.call(this),this._source=null,this._$handleAny=null,this._free()}}}function F(e,t){var n=P(A,e);return i(n,A,j(A),t),n}function U(e,t){var n=P(y,e);return i(n,y,j(y),t),n}i(V,y,{_name:"constant",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null}),i(O,y,{_name:"constantError",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null});var H=U("toProperty",{_init:function(e){var t=e.fn;this._getInitialCurrent=t},_onActivation:function(){if(null!==this._getInitialCurrent){var e=this._getInitialCurrent;this._emitValue(e())}this._source.onAny(this._$handleAny)}});function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!==t&&"function"!=typeof t)throw new Error("You should call toProperty() with a function or no arguments.");return new H(e,{fn:t})}var q=F("changes",{_handleValue:function(e){this._activating||this._emitValue(e)},_handleError:function(e){this._activating||this._emitError(e)}});function W(){if("function"==typeof Promise)return Promise;throw new Error("There isn't default Promise, use shim or parameter")}var Y=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:e),G=Y.default?Y.default:Y;function Q(e){this._observable=e.takeErrors(1)}function $(){return new Q(this)}function K(e,t,n){for(var r in e)e.hasOwnProperty(r)&&(t.push(r),n.push(e[r]))}function J(e,t,n){var r=this;A.call(this),this._activeCount=e.length,this._sources=c(e,t),this._combinator=n,this._aliveCount=0,this._latestValues=new Array(this._sources.length),this._latestErrors=new Array(this._sources.length),function(e,t){var n=e.length,r=void 0;for(r=0;r<n;r++)e[r]=t}(this._latestValues,o),this._emitAfterActivation=!1,this._endAfterActivation=!1,this._latestErrorIndex=0,this._$handlers=[];for(var i=function(e){r._$handlers.push(function(t){return r._handleAny(e,t)})},s=0;s<this._sources.length;s++)i(s)}function Z(e,t,n){return"function"==typeof t&&(n=t,t=void 0),Array.isArray(e)?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2];if(!Array.isArray(t))throw new Error("Combine can only combine active and passive collections of the same type.");return n=n?N(n,e.length+t.length):function(e){return e},0===e.length?C():new J(e,t,n)}(e,t,n):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];if("object"!=typeof t||Array.isArray(t))throw new Error("Combine can only combine active and passive collections of the same type.");var r=[],i=[],o=[];return K(e,r,i),K(t,r,o),0===i.length?C():new J(i,o,function(e){for(var t={},i=e.length-1;0<=i;i--)t[r[i]]=e[i];return n?n(t):t})}(e,t,n)}r(Q.prototype,{subscribe:function(e,t,n){var r=this,i="function"==typeof e?{next:e,error:t,complete:n}:e,o=function(e){e.type===s&&(u=!0),e.type===a&&i.next?i.next(e.value):e.type===l&&i.error?i.error(e.value):e.type===s&&i.complete&&i.complete(e.value)};this._observable.onAny(o);var u=!1;return{unsubscribe:function(){u=!0,r._observable.offAny(o)},get closed(){return u}}}}),Q.prototype[G]=function(){return this},i(J,A,{_name:"combine",_onActivation:function(){this._aliveCount=this._activeCount;for(var e=this._activeCount;e<this._sources.length;e++)this._sources[e].onAny(this._$handlers[e]);for(var t=0;t<this._activeCount;t++)this._sources[t].onAny(this._$handlers[t]);this._emitAfterActivation&&(this._emitAfterActivation=!1,this._emitIfFull()),this._endAfterActivation&&this._emitEnd()},_onDeactivation:function(){var e=this._sources.length,t=void 0;for(t=0;t<e;t++)this._sources[t].offAny(this._$handlers[t])},_emitIfFull:function(){for(var e=!0,t=!1,n=this._latestValues.length,r=new Array(n),i=new Array(n),s=0;s<n;s++)r[s]=this._latestValues[s],i[s]=this._latestErrors[s],r[s]===o&&(e=!1),void 0!==i[s]&&(t=!0);if(e){var a=this._combinator;this._emitValue(a(r))}t&&this._emitError(function(e){for(var t=void 0,n=0;n<e.length;n++)void 0!==e[n]&&(void 0===t||t.index<e[n].index)&&(t=e[n]);return t.error}(i))},_handleAny:function(e,t){t.type===a||t.type===l?(t.type===a&&(this._latestValues[e]=t.value,this._latestErrors[e]=void 0),t.type===l&&(this._latestValues[e]=o,this._latestErrors[e]={index:this._latestErrorIndex++,error:t.value}),e<this._activeCount&&(this._activating?this._emitAfterActivation=!0:this._emitIfFull())):e<this._activeCount&&(this._aliveCount--,0===this._aliveCount&&(this._activating?this._endAfterActivation=!0:this._emitEnd()))},_clear:function(){A.prototype._clear.call(this),this._sources=null,this._latestValues=null,this._latestErrors=null,this._combinator=null,this._$handlers=null}});var X={empty:function(){return C()},concat:function(e,t){return e.merge(t)},of:function(e){return R(e)},map:function(e,t){return t.map(e)},bimap:function(e,t,n){return n.mapErrors(e).map(t)},ap:function(e,t){return Z([e,t],function(e,t){return e(t)})},chain:function(e,t){return t.flatMap(e)}},ee=Object.freeze({Observable:X}),te={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){var t=this._fn;this._emitValue(t(e))}},ne=F("map",te),re=U("map",te),ie=function(e){return e};function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ie;return new(e._ofSameType(ne,re))(e,{fn:t})}var se={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){(0,this._fn)(e)&&this._emitValue(e)}},ae=F("filter",se),le=U("filter",se),ue=function(e){return e},ce={_init:function(e){var t=e.n;this._n=t,t<=0&&this._emitEnd()},_handleValue:function(e){0!==this._n&&(this._n--,this._emitValue(e),0===this._n&&this._emitEnd())}},de=F("take",ce),he=U("take",ce),pe={_init:function(e){var t=e.n;this._n=t,t<=0&&this._emitEnd()},_handleError:function(e){0!==this._n&&(this._n--,this._emitError(e),0===this._n&&this._emitEnd())}},fe=F("takeErrors",pe),me=U("takeErrors",pe),_e={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){(0,this._fn)(e)?this._emitValue(e):this._emitEnd()}},ge=F("takeWhile",_e),be=U("takeWhile",_e),ve=function(e){return e},Ae={_init:function(){this._lastValue=o},_free:function(){this._lastValue=null},_handleValue:function(e){this._lastValue=e},_handleEnd:function(){this._lastValue!==o&&this._emitValue(this._lastValue),this._emitEnd()}},ye=F("last",Ae),we=U("last",Ae),Ce={_init:function(e){var t=e.n;this._n=Math.max(0,t)},_handleValue:function(e){0===this._n?this._emitValue(e):this._n--}},xe=F("skip",Ce),Ee=U("skip",Ce),ke={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){var t=this._fn;null===this._fn||t(e)||(this._fn=null),null===this._fn&&this._emitValue(e)}},Se=F("skipWhile",ke),Ie=U("skipWhile",ke),Te=function(e){return e},De={_init:function(e){var t=e.fn;this._fn=t,this._prev=o},_free:function(){this._fn=null,this._prev=null},_handleValue:function(e){var t=this._fn;this._prev!==o&&t(this._prev,e)||(this._prev=e,this._emitValue(e))}},Be=F("skipDuplicates",De),Me=U("skipDuplicates",De),Ne=function(e,t){return e===t};function Le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ne;return new(e._ofSameType(Be,Me))(e,{fn:t})}var Ve={_init:function(e){var t=e.fn,n=e.seed;this._fn=t,this._prev=n},_free:function(){this._prev=null,this._fn=null},_handleValue:function(e){if(this._prev!==o){var t=this._fn;this._emitValue(t(this._prev,e))}this._prev=e}},Re=F("diff",Ve),Oe=U("diff",Ve);function Pe(e,t){return[e,t]}var je=U("scan",{_init:function(e){var t=e.fn,n=e.seed;this._fn=t,this._seed=n,n!==o&&this._emitValue(n)},_free:function(){this._fn=null,this._seed=null},_handleValue:function(e){var t=this._fn;null===this._currentEvent||this._currentEvent.type===l?this._emitValue(this._seed===o?e:t(this._seed,e)):this._emitValue(t(this._currentEvent.value,e))}}),Fe=F("flatten",{_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){for(var t=(0,this._fn)(e),n=0;n<t.length;n++)this._emitValue(t[n])}}),Ue=function(e){return e},He={},ze={_init:function(e){var t=this,n=e.wait;this._wait=Math.max(0,n),this._buff=[],this._$shiftBuff=function(){var e=t._buff.shift();e===He?t._emitEnd():t._emitValue(e)}},_free:function(){this._buff=null,this._$shiftBuff=null},_handleValue:function(e){this._activating?this._emitValue(e):(this._buff.push(e),setTimeout(this._$shiftBuff,this._wait))},_handleEnd:function(){this._activating?this._emitEnd():(this._buff.push(He),setTimeout(this._$shiftBuff,this._wait))}},qe=F("delay",ze),We=U("delay",ze),Ye=Date.now?function(){return Date.now()}:function(){return(new Date).getTime()},Ge={_init:function(e){var t=this,n=e.wait,r=e.leading,i=e.trailing;this._wait=Math.max(0,n),this._leading=r,this._trailing=i,this._trailingValue=null,this._timeoutId=null,this._endLater=!1,this._lastCallTime=0,this._$trailingCall=function(){return t._trailingCall()}},_free:function(){this._trailingValue=null,this._$trailingCall=null},_handleValue:function(e){if(this._activating)this._emitValue(e);else{var t=Ye();0!==this._lastCallTime||this._leading||(this._lastCallTime=t);var n=this._wait-(t-this._lastCallTime);n<=0?(this._cancelTrailing(),this._lastCallTime=t,this._emitValue(e)):this._trailing&&(this._cancelTrailing(),this._trailingValue=e,this._timeoutId=setTimeout(this._$trailingCall,n))}},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId?this._endLater=!0:this._emitEnd()},_cancelTrailing:function(){null!==this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null)},_trailingCall:function(){this._emitValue(this._trailingValue),this._timeoutId=null,this._trailingValue=null,this._lastCallTime=this._leading?Ye():0,this._endLater&&this._emitEnd()}},Qe=F("throttle",Ge),$e=U("throttle",Ge),Ke={_init:function(e){var t=this,n=e.wait,r=e.immediate;this._wait=Math.max(0,n),this._immediate=r,this._lastAttempt=0,this._timeoutId=null,this._laterValue=null,this._endLater=!1,this._$later=function(){return t._later()}},_free:function(){this._laterValue=null,this._$later=null},_handleValue:function(e){this._activating?this._emitValue(e):(this._lastAttempt=Ye(),this._immediate&&!this._timeoutId&&this._emitValue(e),this._timeoutId||(this._timeoutId=setTimeout(this._$later,this._wait)),this._immediate||(this._laterValue=e))},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId&&!this._immediate?this._endLater=!0:this._emitEnd()},_later:function(){var e=Ye()-this._lastAttempt;if(e<this._wait&&e>=0)this._timeoutId=setTimeout(this._$later,this._wait-e);else{if(this._timeoutId=null,!this._immediate){var t=this._laterValue;this._laterValue=null,this._emitValue(t)}this._endLater&&this._emitEnd()}}},Je=F("debounce",Ke),Ze=U("debounce",Ke),Xe={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleError:function(e){var t=this._fn;this._emitError(t(e))}},et=F("mapErrors",Xe),tt=U("mapErrors",Xe),nt=function(e){return e},rt={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleError:function(e){(0,this._fn)(e)&&this._emitError(e)}},it=F("filterErrors",rt),ot=U("filterErrors",rt),st=function(e){return e},at={_handleValue:function(){}},lt=F("ignoreValues",at),ut=U("ignoreValues",at),ct={_handleError:function(){}},dt=F("ignoreErrors",ct),ht=U("ignoreErrors",ct),pt={_handleEnd:function(){}},ft=F("ignoreEnd",pt),mt=U("ignoreEnd",pt),_t={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleEnd:function(){var e=this._fn;this._emitValue(e()),this._emitEnd()}},gt=F("beforeEnd",_t),bt=U("beforeEnd",_t),vt={_init:function(e){var t=e.min,n=e.max;this._max=n,this._min=t,this._buff=[]},_free:function(){this._buff=null},_handleValue:function(e){this._buff=function(e,t,n){var r=Math.min(n,e.length+1),i=e.length-r+1,o=new Array(r),s=void 0;for(s=i;s<r;s++)o[s-i]=e[s];return o[r-1]=t,o}(this._buff,e,this._max),this._buff.length>=this._min&&this._emitValue(this._buff)}},At=F("slidingWindow",vt),yt=U("slidingWindow",vt),wt={_init:function(e){var t=e.fn,n=e.flushOnEnd;this._fn=t,this._flushOnEnd=n,this._buff=[]},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&0!==this._buff.length&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(e){this._buff.push(e),(0,this._fn)(e)||this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},Ct=F("bufferWhile",wt),xt=U("bufferWhile",wt),Et=function(e){return e},kt={_init:function(e){var t=e.count,n=e.flushOnEnd;this._count=t,this._flushOnEnd=n,this._buff=[]},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&0!==this._buff.length&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(e){this._buff.push(e),this._buff.length>=this._count&&this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},St=F("bufferWithCount",kt),It=U("bufferWithCount",kt),Tt={_init:function(e){var t=this,n=e.wait,r=e.count,i=e.flushOnEnd;this._wait=n,this._count=r,this._flushOnEnd=i,this._intervalId=null,this._$onTick=function(){return t._flush()},this._buff=[]},_free:function(){this._$onTick=null,this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(e){this._buff.push(e),this._buff.length>=this._count&&(clearInterval(this._intervalId),this._flush(),this._intervalId=setInterval(this._$onTick,this._wait))},_handleEnd:function(){this._flushOnEnd&&0!==this._buff.length&&this._flush(),this._emitEnd()},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait),this._source.onAny(this._$handleAny)},_onDeactivation:function(){null!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null),this._source.offAny(this._$handleAny)}},Dt=F("bufferWithTimeOrCount",Tt),Bt=U("bufferWithTimeOrCount",Tt),Mt={_init:function(e){var t,n=e.transducer;this._xform=n((t=this,{"@@transducer/step":function(e,n){return t._emitValue(n),null},"@@transducer/result":function(){return t._emitEnd(),null}}))},_free:function(){this._xform=null},_handleValue:function(e){null!==this._xform["@@transducer/step"](null,e)&&this._xform["@@transducer/result"](null)},_handleEnd:function(){this._xform["@@transducer/result"](null)}},Nt=F("transduce",Mt),Lt=U("transduce",Mt),Vt={_init:function(e){var t=e.fn;this._handler=t,this._emitter=T(this)},_free:function(){this._handler=null,this._emitter=null},_handleAny:function(e){this._handler(this._emitter,e)}},Rt=F("withHandler",Vt),Ot=U("withHandler",Vt),Pt=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function jt(e,t){var n=this;A.call(this),this._buffers=m(e,function(e){return Pt(e)?p(e):[]}),this._sources=m(e,function(e){return Pt(e)?C():e}),this._combinator=t?N(t,this._sources.length):function(e){return e},this._aliveCount=0,this._$handlers=[];for(var r=function(e){n._$handlers.push(function(t){return n._handleAny(e,t)})},i=0;i<this._sources.length;i++)r(i)}function Ft(e,t){return 0===e.length?C():new jt(e,t)}i(jt,A,{_name:"zip",_onActivation:function(){for(;this._isFull();)this._emit();var e=this._sources.length;this._aliveCount=e;for(var t=0;t<e&&this._active;t++)this._sources[t].onAny(this._$handlers[t])},_onDeactivation:function(){for(var e=0;e<this._sources.length;e++)this._sources[e].offAny(this._$handlers[e])},_emit:function(){for(var e=new Array(this._buffers.length),t=0;t<this._buffers.length;t++)e[t]=this._buffers[t].shift();var n=this._combinator;this._emitValue(n(e))},_isFull:function(){for(var e=0;e<this._buffers.length;e++)if(0===this._buffers[e].length)return!1;return!0},_handleAny:function(e,t){t.type===a&&(this._buffers[e].push(t.value),this._isFull()&&this._emit()),t.type===l&&this._emitError(t.value),t.type===s&&(this._aliveCount--,0===this._aliveCount&&this._emitEnd())},_clear:function(){A.prototype._clear.call(this),this._sources=null,this._buffers=null,this._combinator=null,this._$handlers=null}});var Ut=function(e){return e};function Ht(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.queueLim,r=void 0===n?0:n,i=t.concurLim,o=void 0===i?-1:i,s=t.drop,a=void 0===s?"new":s;A.call(this),this._queueLim=r<0?-1:r,this._concurLim=o<0?-1:o,this._drop=a,this._queue=[],this._curSources=[],this._$handleSubAny=function(t){return e._handleSubAny(t)},this._$endHandlers=[],this._currentlyAdding=null,0===this._concurLim&&this._emitEnd()}function zt(e){Ht.call(this),this._addAll(e),this._initialised=!0}function qt(e){return 0===e.length?C():new zt(e)}function Wt(e){var t=this;A.call(this),this._generator=e,this._source=null,this._inLoop=!1,this._iteration=0,this._$handleAny=function(e){return t._handleAny(e)}}i(Ht,A,{_name:"abstractPool",_add:function(e,t){t=t||Ut,-1===this._concurLim||this._curSources.length<this._concurLim?this._addToCur(t(e)):-1===this._queueLim||this._queue.length<this._queueLim?this._addToQueue(t(e)):"old"===this._drop&&(this._removeOldest(),this._add(e,t))},_addAll:function(e){var t=this;!function(e,t){var n=e.length,r=void 0;for(r=0;r<n;r++)t(e[r])}(e,function(e){return t._add(e)})},_remove:function(e){-1===this._removeCur(e)&&this._removeQueue(e)},_addToQueue:function(e){this._queue=c(this._queue,[e])},_addToCur:function(e){if(this._active){if(!e._alive)return e._currentEvent&&this._emit(e._currentEvent.type,e._currentEvent.value),void(this._active&&(0!==this._queue.length?this._pullQueue():0===this._curSources.length&&this._onEmpty()));this._currentlyAdding=e,e.onAny(this._$handleSubAny),this._currentlyAdding=null,e._alive?(this._curSources=c(this._curSources,[e]),this._active&&this._subToEnd(e)):0!==this._queue.length?this._pullQueue():0===this._curSources.length&&this._onEmpty()}else this._curSources=c(this._curSources,[e])},_subToEnd:function(e){var t=this,n=function(){return t._removeCur(e)};this._$endHandlers.push({obs:e,handler:n}),e.onEnd(n)},_subscribe:function(e){e.onAny(this._$handleSubAny),this._active&&this._subToEnd(e)},_unsubscribe:function(e){e.offAny(this._$handleSubAny);var t=h(this._$endHandlers,function(t){return t.obs===e});-1!==t&&(e.offEnd(this._$endHandlers[t].handler),this._$endHandlers.splice(t,1))},_handleSubAny:function(e){e.type===a?this._emitValue(e.value):e.type===l&&this._emitError(e.value)},_removeQueue:function(e){var t=d(this._queue,e);return this._queue=f(this._queue,t),t},_removeCur:function(e){this._active&&this._unsubscribe(e);var t=d(this._curSources,e);return this._curSources=f(this._curSources,t),-1!==t&&(0!==this._queue.length?this._pullQueue():0===this._curSources.length&&this._onEmpty()),t},_removeOldest:function(){this._removeCur(this._curSources[0])},_pullQueue:function(){0!==this._queue.length&&(this._queue=p(this._queue),this._addToCur(this._queue.shift()))},_onActivation:function(){for(var e=0,t=this._curSources;e<t.length&&this._active;e++)this._subscribe(t[e])},_onDeactivation:function(){for(var e=0,t=this._curSources;e<t.length;e++)this._unsubscribe(t[e]);null!==this._currentlyAdding&&this._unsubscribe(this._currentlyAdding)},_isEmpty:function(){return 0===this._curSources.length},_onEmpty:function(){},_clear:function(){A.prototype._clear.call(this),this._queue=null,this._curSources=null,this._$handleSubAny=null,this._$endHandlers=null}}),i(zt,Ht,{_name:"merge",_onEmpty:function(){this._initialised&&this._emitEnd()}}),i(Wt,A,{_name:"repeat",_handleAny:function(e){e.type===s?(this._source=null,this._getSource()):this._emit(e.type,e.value)},_getSource:function(){if(!this._inLoop){this._inLoop=!0;for(var e=this._generator;null===this._source&&this._alive&&this._active;)this._source=e(this._iteration++),this._source?this._source.onAny(this._$handleAny):this._emitEnd();this._inLoop=!1}},_onActivation:function(){this._source?this._source.onAny(this._$handleAny):this._getSource()},_onDeactivation:function(){this._source&&this._source.offAny(this._$handleAny)},_clear:function(){A.prototype._clear.call(this),this._generator=null,this._source=null,this._$handleAny=null}});var Yt=function(e){return new Wt(e)};function Gt(e){return Yt(function(t){return e.length>t&&e[t]}).setName("concat")}function Qt(){Ht.call(this)}function $t(e,t,n){var r=this;Ht.call(this,n),this._source=e,this._fn=t,this._mainEnded=!1,this._lastCurrent=null,this._$handleMain=function(e){return r._handleMain(e)}}function Kt(e,t){$t.call(this,e,t)}function Jt(e,t){return function(n,r,i){var s=this;e.call(this),this._primary=n,this._secondary=r,this._name=n._name+"."+t,this._lastSecondary=o,this._$handleSecondaryAny=function(e){return s._handleSecondaryAny(e)},this._$handlePrimaryAny=function(e){return s._handlePrimaryAny(e)},this._init(i)}}function Zt(e){return{_init:function(){},_free:function(){},_handlePrimaryValue:function(e){this._emitValue(e)},_handlePrimaryError:function(e){this._emitError(e)},_handlePrimaryEnd:function(){this._emitEnd()},_handleSecondaryValue:function(e){this._lastSecondary=e},_handleSecondaryError:function(e){this._emitError(e)},_handleSecondaryEnd:function(){},_handlePrimaryAny:function(e){switch(e.type){case a:return this._handlePrimaryValue(e.value);case l:return this._handlePrimaryError(e.value);case s:return this._handlePrimaryEnd(e.value)}},_handleSecondaryAny:function(e){switch(e.type){case a:return this._handleSecondaryValue(e.value);case l:return this._handleSecondaryError(e.value);case s:this._handleSecondaryEnd(e.value),this._removeSecondary()}},_removeSecondary:function(){null!==this._secondary&&(this._secondary.offAny(this._$handleSecondaryAny),this._$handleSecondaryAny=null,this._secondary=null)},_onActivation:function(){null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny),this._active&&this._primary.onAny(this._$handlePrimaryAny)},_onDeactivation:function(){null!==this._secondary&&this._secondary.offAny(this._$handleSecondaryAny),this._primary.offAny(this._$handlePrimaryAny)},_clear:function(){e.prototype._clear.call(this),this._primary=null,this._secondary=null,this._lastSecondary=null,this._$handleSecondaryAny=null,this._$handlePrimaryAny=null,this._free()}}}function Xt(e,t){var n=Jt(A,e);return i(n,A,Zt(A),t),n}function en(e,t){var n=Jt(y,e);return i(n,y,Zt(y),t),n}i(Qt,Ht,{_name:"pool",plug:function(e){return this._add(e),this},unplug:function(e){return this._remove(e),this}}),i($t,Ht,{_onActivation:function(){Ht.prototype._onActivation.call(this),this._active&&this._source.onAny(this._$handleMain)},_onDeactivation:function(){Ht.prototype._onDeactivation.call(this),this._source.offAny(this._$handleMain),this._hadNoEvSinceDeact=!0},_handleMain:function(e){e.type===a&&(this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===e.value||this._add(e.value,this._fn),this._lastCurrent=e.value,this._hadNoEvSinceDeact=!1),e.type===l&&this._emitError(e.value),e.type===s&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)},_onEmpty:function(){this._mainEnded&&this._emitEnd()},_clear:function(){Ht.prototype._clear.call(this),this._source=null,this._lastCurrent=null,this._$handleMain=null}}),i(Kt,$t,{_handleMain:function(e){e.type===l&&(this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===e.value||this._add(e.value,this._fn),this._lastCurrent=e.value,this._hadNoEvSinceDeact=!1),e.type===a&&this._emitValue(e.value),e.type===s&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)}});var tn={_handlePrimaryValue:function(e){this._lastSecondary!==o&&this._lastSecondary&&this._emitValue(e)},_handleSecondaryEnd:function(){this._lastSecondary!==o&&this._lastSecondary||this._emitEnd()}},nn=Xt("filterBy",tn),rn=en("filterBy",tn),on=function(e,t){return t},sn={_handlePrimaryValue:function(e){this._lastSecondary!==o&&this._emitValue(e)},_handleSecondaryEnd:function(){this._lastSecondary===o&&this._emitEnd()}},an=Xt("skipUntilBy",sn),ln=en("skipUntilBy",sn),un={_handleSecondaryValue:function(){this._emitEnd()}},cn=Xt("takeUntilBy",un),dn=en("takeUntilBy",un),hn={_init:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).flushOnEnd,t=void 0===e||e;this._buff=[],this._flushOnEnd=t},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_onActivation:function(){this._primary.onAny(this._$handlePrimaryAny),this._alive&&null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny)},_handlePrimaryValue:function(e){this._buff.push(e)},_handleSecondaryValue:function(){this._flush()},_handleSecondaryEnd:function(){this._flushOnEnd||this._emitEnd()}},pn=Xt("bufferBy",hn),fn=en("bufferBy",hn),mn={_init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.flushOnEnd,n=void 0===t||t,r=e.flushOnChange,i=void 0!==r&&r;this._buff=[],this._flushOnEnd=n,this._flushOnChange=i},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_handlePrimaryValue:function(e){this._buff.push(e),this._lastSecondary===o||this._lastSecondary||this._flush()},_handleSecondaryEnd:function(){this._flushOnEnd||this._lastSecondary!==o&&!this._lastSecondary||this._emitEnd()},_handleSecondaryValue:function(e){this._flushOnChange&&!e&&this._flush(),this._lastSecondary=e}},_n=Xt("bufferWhileBy",mn),gn=en("bufferWhileBy",mn),bn=function(){return!1},vn=function(){return!0},An={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){var t=(0,this._fn)(e);t.convert?this._emitError(t.error):this._emitValue(e)}},yn=F("valuesToErrors",An),wn=U("valuesToErrors",An),Cn=function(e){return{convert:!0,error:e}},xn={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleError:function(e){var t=(0,this._fn)(e);t.convert?this._emitValue(t.value):this._emitError(e)}},En=F("errorsToValues",xn),kn=U("errorsToValues",xn),Sn=function(e){return{convert:!0,value:e}},In={_handleError:function(e){this._emitError(e),this._emitEnd()}},Tn=F("endOnError",In),Dn=U("endOnError",In);v.prototype.toProperty=function(e){return z(this,e)},v.prototype.changes=function(){return new q(this)},v.prototype.toPromise=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:W(),n=null;return new t(function(t,r){e.onAny(function(e){e.type===s&&null!==n?((n.type===a?t:r)(n.value),n=null):n=e})})}(this,e)},v.prototype.toESObservable=$,v.prototype[G]=$,v.prototype.map=function(e){return oe(this,e)},v.prototype.filter=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue;return new(e._ofSameType(ae,le))(e,{fn:t})}(this,e)},v.prototype.take=function(e){return function(e,t){return new(e._ofSameType(de,he))(e,{n:t})}(this,e)},v.prototype.takeErrors=function(e){return function(e,t){return new(e._ofSameType(fe,me))(e,{n:t})}(this,e)},v.prototype.takeWhile=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ve;return new(e._ofSameType(ge,be))(e,{fn:t})}(this,e)},v.prototype.last=function(){return new((e=this)._ofSameType(ye,we))(e);var e},v.prototype.skip=function(e){return function(e,t){return new(e._ofSameType(xe,Ee))(e,{n:t})}(this,e)},v.prototype.skipWhile=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Te;return new(e._ofSameType(Se,Ie))(e,{fn:t})}(this,e)},v.prototype.skipDuplicates=function(e){return Le(this,e)},v.prototype.diff=function(e,t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;return new(e._ofSameType(Re,Oe))(e,{fn:t||Pe,seed:n})}(this,e,t)},v.prototype.scan=function(e,t){return function(e,t){return new je(e,{fn:t,seed:arguments.length>2&&void 0!==arguments[2]?arguments[2]:o})}(this,e,t)},v.prototype.flatten=function(e){return function(e){return new Fe(e,{fn:arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ue})}(this,e)},v.prototype.delay=function(e){return function(e,t){return new(e._ofSameType(qe,We))(e,{wait:t})}(this,e)},v.prototype.throttle=function(e,t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.leading,i=void 0===r||r,o=n.trailing,s=void 0===o||o;return new(e._ofSameType(Qe,$e))(e,{wait:t,leading:i,trailing:s})}(this,e,t)},v.prototype.debounce=function(e,t){return function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).immediate,r=void 0!==n&&n;return new(e._ofSameType(Je,Ze))(e,{wait:t,immediate:r})}(this,e,t)},v.prototype.mapErrors=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt;return new(e._ofSameType(et,tt))(e,{fn:t})}(this,e)},v.prototype.filterErrors=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:st;return new(e._ofSameType(it,ot))(e,{fn:t})}(this,e)},v.prototype.ignoreValues=function(){return new((e=this)._ofSameType(lt,ut))(e);var e},v.prototype.ignoreErrors=function(){return new((e=this)._ofSameType(dt,ht))(e);var e},v.prototype.ignoreEnd=function(){return new((e=this)._ofSameType(ft,mt))(e);var e},v.prototype.beforeEnd=function(e){return function(e,t){return new(e._ofSameType(gt,bt))(e,{fn:t})}(this,e)},v.prototype.slidingWindow=function(e,t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new(e._ofSameType(At,yt))(e,{min:n,max:t})}(this,e,t)},v.prototype.bufferWhile=function(e,t){return function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).flushOnEnd,r=void 0===n||n;return new(e._ofSameType(Ct,xt))(e,{fn:t||Et,flushOnEnd:r})}(this,e,t)},v.prototype.bufferWithCount=function(e,t){return function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).flushOnEnd,r=void 0===n||n;return new(e._ofSameType(St,It))(e,{count:t,flushOnEnd:r})}(this,e,t)},v.prototype.bufferWithTimeOrCount=function(e,t,n){return function(e,t,n){var r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).flushOnEnd,i=void 0===r||r;return new(e._ofSameType(Dt,Bt))(e,{wait:t,count:n,flushOnEnd:i})}(this,e,t,n)},v.prototype.transduce=function(e){return function(e,t){return new(e._ofSameType(Nt,Lt))(e,{transducer:t})}(this,e)},v.prototype.withHandler=function(e){return function(e,t){return new(e._ofSameType(Rt,Ot))(e,{fn:t})}(this,e)},v.prototype.thru=function(e){return e(this)},v.prototype.combine=function(e,t){return Z([this,e],t)},v.prototype.zip=function(e,t){return Ft([this,e],t)},v.prototype.merge=function(e){return qt([this,e])},v.prototype.concat=function(e){return Gt([this,e])},v.prototype.flatMap=function(e){return new $t(this,e).setName(this,"flatMap")},v.prototype.flatMapLatest=function(e){return new $t(this,e,{concurLim:1,drop:"old"}).setName(this,"flatMapLatest")},v.prototype.flatMapFirst=function(e){return new $t(this,e,{concurLim:1}).setName(this,"flatMapFirst")},v.prototype.flatMapConcat=function(e){return new $t(this,e,{queueLim:-1,concurLim:1}).setName(this,"flatMapConcat")},v.prototype.flatMapConcurLimit=function(e,t){return new $t(this,e,{queueLim:-1,concurLim:t}).setName(this,"flatMapConcurLimit")},v.prototype.flatMapErrors=function(e){return new Kt(this,e).setName(this,"flatMapErrors")},v.prototype.filterBy=function(e){return n=e,new((t=this)._ofSameType(nn,rn))(t,n);var t,n},v.prototype.sampledBy=function(e,t){return function(e,t,n){return Z([t],[e],n?function(e,t){return n(t,e)}:on).setName(e,"sampledBy")}(this,e,t)},v.prototype.skipUntilBy=function(e){return n=e,new((t=this)._ofSameType(an,ln))(t,n);var t,n},v.prototype.takeUntilBy=function(e){return n=e,new((t=this)._ofSameType(cn,dn))(t,n);var t,n},v.prototype.bufferBy=function(e,t){return function(e,t,n){return new(e._ofSameType(pn,fn))(e,t,n)}(this,e,t)},v.prototype.bufferWhileBy=function(e,t){return function(e,t,n){return new(e._ofSameType(_n,gn))(e,t,n)}(this,e,t)};function Bn(e){console&&"function"==typeof console.warn&&console.warn(e,"\nHere is an Error object for you containing the call stack:",new Error)}v.prototype.awaiting=function(e){return Bn("You are using deprecated .awaiting() method, see https://github.com/kefirjs/kefir/issues/145"),function(e,t){var n=qt([oe(e,vn),oe(t,bn)]);return(n=z(n=Le(n),bn)).setName(e,"awaiting")}(this,e)},v.prototype.valuesToErrors=function(e){return Bn("You are using deprecated .valuesToErrors() method, see https://github.com/kefirjs/kefir/issues/149"),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cn;return new(e._ofSameType(yn,wn))(e,{fn:t})}(this,e)},v.prototype.errorsToValues=function(e){return Bn("You are using deprecated .errorsToValues() method, see https://github.com/kefirjs/kefir/issues/149"),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sn;return new(e._ofSameType(En,kn))(e,{fn:t})}(this,e)},v.prototype.endOnError=function(){return Bn("You are using deprecated .endOnError() method, see https://github.com/kefirjs/kefir/issues/150"),new((e=this)._ofSameType(Tn,Dn))(e);var e};var Mn={Observable:v,Stream:A,Property:y,never:C,later:function(e,t){return new E(e,{x:t})},interval:function(e,t){return new k(e,{x:t})},sequentially:function(e,t){return 0===t.length?C():new S(e,{xs:t})},fromPoll:function(e,t){return new I(e,{fn:t})},withInterval:function(e,t){return new D(e,{fn:t})},fromCallback:function(e){var t=!1;return M(function(n){t||(e(function(e){n.emit(e),n.end()}),t=!0)}).setName("fromCallback")},fromNodeCallback:function(e){var t=!1;return M(function(n){t||(e(function(e,t){e?n.error(e):n.emit(t),n.end()}),t=!0)}).setName("fromNodeCallback")},fromEvents:function(e,t,n){for(var r=void 0,i=void 0,o=0;o<L.length;o++)if("function"==typeof e[L[o][0]]&&"function"==typeof e[L[o][1]]){r=L[o][0],i=L[o][1];break}if(void 0===r)throw new Error("target don't support any of addEventListener/removeEventListener, addListener/removeListener, on/off method pair");return function(e,t,n){return M(function(r){var i=n?function(){r.emit(function(e,t,n){var r=n?n.length:0;if(null!=t)return 0===r?e.call(t):e.apply(t,n);switch(r){case 0:return e();case 1:return e(n[0]);case 2:return e(n[0],n[1]);case 3:return e(n[0],n[1],n[2]);case 4:return e(n[0],n[1],n[2],n[3]);default:return e.apply(null,n)}}(n,this,arguments))}:function(e){r.emit(e)};return e(i),function(){return t(i)}}).setName("fromSubUnsub")}(function(n){return e[r](t,n)},function(n){return e[i](t,n)},n).setName("fromEvents")},stream:M,constant:R,constantError:function(e){return new O(e)},fromPromise:function(e){var t=!1,n=M(function(n){if(!t){var r=e.then(function(e){n.emit(e),n.end()},function(e){n.error(e),n.end()});r&&"function"==typeof r.done&&r.done(),t=!0}});return z(n,null).setName("fromPromise")},fromESObservable:function(e){var t=e[G]?e[G]():e;return M(function(e){var n=t.subscribe({error:function(t){e.error(t),e.end()},next:function(t){e.emit(t)},complete:function(){e.end()}});return n.unsubscribe?function(){n.unsubscribe()}:n}).setName("fromESObservable")},combine:Z,zip:Ft,merge:qt,concat:Gt,Pool:Qt,pool:function(){return new Qt},repeat:Yt,staticLand:ee};Mn.Kefir=Mn;const Nn=Mn}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r](o,o.exports,n),o.loaded=!0,o.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(135),t=n(907);const{entries:r,setPrototypeOf:i,isFrozen:o,getPrototypeOf:s,getOwnPropertyDescriptor:a}=Object;let{freeze:l,seal:u,create:c}=Object,{apply:d,construct:h}="undefined"!=typeof Reflect&&Reflect;l||(l=function(e){return e}),u||(u=function(e){return e}),d||(d=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return e.apply(t,r)}),h||(h=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new e(...n)});const p=I(Array.prototype.forEach),f=I(Array.prototype.lastIndexOf),m=I(Array.prototype.pop),_=I(Array.prototype.push),g=I(Array.prototype.splice),b=I(String.prototype.toLowerCase),v=I(String.prototype.toString),A=I(String.prototype.match),y=I(String.prototype.replace),w=I(String.prototype.indexOf),C=I(String.prototype.trim),x=I(Object.prototype.hasOwnProperty),E=I(RegExp.prototype.test),k=(S=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h(S,t)});var S;function I(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return d(e,t,r)}}function T(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b;i&&i(e,null);let r=t.length;for(;r--;){let i=t[r];if("string"==typeof i){const e=n(i);e!==i&&(o(t)||(t[r]=e),i=e)}e[i]=!0}return e}function D(e){for(let t=0;t<e.length;t++)x(e,t)||(e[t]=null);return e}function B(e){const t=c(null);for(const[n,i]of r(e))x(e,n)&&(Array.isArray(i)?t[n]=D(i):i&&"object"==typeof i&&i.constructor===Object?t[n]=B(i):t[n]=i);return t}function M(e,t){for(;null!==e;){const n=a(e,t);if(n){if(n.get)return I(n.get);if("function"==typeof n.value)return I(n.value)}e=s(e)}return function(){return null}}const N=l(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),L=l(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),V=l(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),R=l(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),O=l(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),P=l(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),j=l(["#text"]),F=l(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),U=l(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),H=l(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),z=l(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),q=u(/\{\{[\w\W]*|[\w\W]*\}\}/gm),W=u(/<%[\w\W]*|[\w\W]*%>/gm),Y=u(/\$\{[\w\W]*/gm),G=u(/^data-[\-\w.\u00B7-\uFFFF]+$/),Q=u(/^aria-[\-\w]+$/),$=u(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),K=u(/^(?:\w+script|data):/i),J=u(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Z=u(/^html$/i),X=u(/^[a-z][.\w]*(-[.\w]+)+$/i);var ee=Object.freeze({__proto__:null,ARIA_ATTR:Q,ATTR_WHITESPACE:J,CUSTOM_ELEMENT:X,DATA_ATTR:G,DOCTYPE_NAME:Z,ERB_EXPR:W,IS_ALLOWED_URI:$,IS_SCRIPT_OR_DATA:K,MUSTACHE_EXPR:q,TMPLIT_EXPR:Y});const te=function(){return"undefined"==typeof window?null:window};var ne=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te();const n=t=>e(t);if(n.version="3.3.1",n.removed=[],!t||!t.document||9!==t.document.nodeType||!t.Element)return n.isSupported=!1,n;let{document:i}=t;const o=i,s=o.currentScript,{DocumentFragment:a,HTMLTemplateElement:u,Node:d,Element:h,NodeFilter:S,NamedNodeMap:I=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:D,DOMParser:q,trustedTypes:W}=t,Y=h.prototype,G=M(Y,"cloneNode"),Q=M(Y,"remove"),K=M(Y,"nextSibling"),J=M(Y,"childNodes"),X=M(Y,"parentNode");if("function"==typeof u){const e=i.createElement("template");e.content&&e.content.ownerDocument&&(i=e.content.ownerDocument)}let ne,re="";const{implementation:ie,createNodeIterator:oe,createDocumentFragment:se,getElementsByTagName:ae}=i,{importNode:le}=o;let ue={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof r&&"function"==typeof X&&ie&&void 0!==ie.createHTMLDocument;const{MUSTACHE_EXPR:ce,ERB_EXPR:de,TMPLIT_EXPR:he,DATA_ATTR:pe,ARIA_ATTR:fe,IS_SCRIPT_OR_DATA:me,ATTR_WHITESPACE:_e,CUSTOM_ELEMENT:ge}=ee;let{IS_ALLOWED_URI:be}=ee,ve=null;const Ae=T({},[...N,...L,...V,...O,...j]);let ye=null;const we=T({},[...F,...U,...H,...z]);let Ce=Object.seal(c(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),xe=null,Ee=null;const ke=Object.seal(c(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Se=!0,Ie=!0,Te=!1,De=!0,Be=!1,Me=!0,Ne=!1,Le=!1,Ve=!1,Re=!1,Oe=!1,Pe=!1,je=!0,Fe=!1,Ue=!0,He=!1,ze={},qe=null;const We=T({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ye=null;const Ge=T({},["audio","video","img","source","image","track"]);let Qe=null;const $e=T({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ke="http://www.w3.org/1998/Math/MathML",Je="http://www.w3.org/2000/svg",Ze="http://www.w3.org/1999/xhtml";let Xe=Ze,et=!1,tt=null;const nt=T({},[Ke,Je,Ze],v);let rt=T({},["mi","mo","mn","ms","mtext"]),it=T({},["annotation-xml"]);const ot=T({},["title","style","font","a","script"]);let st=null;const at=["application/xhtml+xml","text/html"];let lt=null,ut=null;const ct=i.createElement("form"),dt=function(e){return e instanceof RegExp||e instanceof Function},ht=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ut||ut!==e){if(e&&"object"==typeof e||(e={}),e=B(e),st=-1===at.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,lt="application/xhtml+xml"===st?v:b,ve=x(e,"ALLOWED_TAGS")?T({},e.ALLOWED_TAGS,lt):Ae,ye=x(e,"ALLOWED_ATTR")?T({},e.ALLOWED_ATTR,lt):we,tt=x(e,"ALLOWED_NAMESPACES")?T({},e.ALLOWED_NAMESPACES,v):nt,Qe=x(e,"ADD_URI_SAFE_ATTR")?T(B($e),e.ADD_URI_SAFE_ATTR,lt):$e,Ye=x(e,"ADD_DATA_URI_TAGS")?T(B(Ge),e.ADD_DATA_URI_TAGS,lt):Ge,qe=x(e,"FORBID_CONTENTS")?T({},e.FORBID_CONTENTS,lt):We,xe=x(e,"FORBID_TAGS")?T({},e.FORBID_TAGS,lt):B({}),Ee=x(e,"FORBID_ATTR")?T({},e.FORBID_ATTR,lt):B({}),ze=!!x(e,"USE_PROFILES")&&e.USE_PROFILES,Se=!1!==e.ALLOW_ARIA_ATTR,Ie=!1!==e.ALLOW_DATA_ATTR,Te=e.ALLOW_UNKNOWN_PROTOCOLS||!1,De=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Be=e.SAFE_FOR_TEMPLATES||!1,Me=!1!==e.SAFE_FOR_XML,Ne=e.WHOLE_DOCUMENT||!1,Re=e.RETURN_DOM||!1,Oe=e.RETURN_DOM_FRAGMENT||!1,Pe=e.RETURN_TRUSTED_TYPE||!1,Ve=e.FORCE_BODY||!1,je=!1!==e.SANITIZE_DOM,Fe=e.SANITIZE_NAMED_PROPS||!1,Ue=!1!==e.KEEP_CONTENT,He=e.IN_PLACE||!1,be=e.ALLOWED_URI_REGEXP||$,Xe=e.NAMESPACE||Ze,rt=e.MATHML_TEXT_INTEGRATION_POINTS||rt,it=e.HTML_INTEGRATION_POINTS||it,Ce=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&dt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ce.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&dt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ce.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ce.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Be&&(Ie=!1),Oe&&(Re=!0),ze&&(ve=T({},j),ye=[],!0===ze.html&&(T(ve,N),T(ye,F)),!0===ze.svg&&(T(ve,L),T(ye,U),T(ye,z)),!0===ze.svgFilters&&(T(ve,V),T(ye,U),T(ye,z)),!0===ze.mathMl&&(T(ve,O),T(ye,H),T(ye,z))),e.ADD_TAGS&&("function"==typeof e.ADD_TAGS?ke.tagCheck=e.ADD_TAGS:(ve===Ae&&(ve=B(ve)),T(ve,e.ADD_TAGS,lt))),e.ADD_ATTR&&("function"==typeof e.ADD_ATTR?ke.attributeCheck=e.ADD_ATTR:(ye===we&&(ye=B(ye)),T(ye,e.ADD_ATTR,lt))),e.ADD_URI_SAFE_ATTR&&T(Qe,e.ADD_URI_SAFE_ATTR,lt),e.FORBID_CONTENTS&&(qe===We&&(qe=B(qe)),T(qe,e.FORBID_CONTENTS,lt)),e.ADD_FORBID_CONTENTS&&(qe===We&&(qe=B(qe)),T(qe,e.ADD_FORBID_CONTENTS,lt)),Ue&&(ve["#text"]=!0),Ne&&T(ve,["html","head","body"]),ve.table&&(T(ve,["tbody"]),delete xe.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw k('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw k('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ne=e.TRUSTED_TYPES_POLICY,re=ne.createHTML("")}else void 0===ne&&(ne=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}}(W,s)),null!==ne&&"string"==typeof re&&(re=ne.createHTML(""));l&&l(e),ut=e}},pt=T({},[...L,...V,...R]),ft=T({},[...O,...P]),mt=function(e){_(n.removed,{element:e});try{X(e).removeChild(e)}catch(t){Q(e)}},_t=function(e,t){try{_(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){_(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(Re||Oe)try{mt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},gt=function(e){let t=null,n=null;if(Ve)e="<remove></remove>"+e;else{const t=A(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===st&&Xe===Ze&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const r=ne?ne.createHTML(e):e;if(Xe===Ze)try{t=(new q).parseFromString(r,st)}catch(e){}if(!t||!t.documentElement){t=ie.createDocument(Xe,"template",null);try{t.documentElement.innerHTML=et?re:r}catch(e){}}const o=t.body||t.documentElement;return e&&n&&o.insertBefore(i.createTextNode(n),o.childNodes[0]||null),Xe===Ze?ae.call(t,Ne?"html":"body")[0]:Ne?t.documentElement:o},bt=function(e){return oe.call(e.ownerDocument||e,e,S.SHOW_ELEMENT|S.SHOW_COMMENT|S.SHOW_TEXT|S.SHOW_PROCESSING_INSTRUCTION|S.SHOW_CDATA_SECTION,null)},vt=function(e){return e instanceof D&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof I)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},At=function(e){return"function"==typeof d&&e instanceof d};function yt(e,t,r){p(e,e=>{e.call(n,t,r,ut)})}const wt=function(e){let t=null;if(yt(ue.beforeSanitizeElements,e,null),vt(e))return mt(e),!0;const r=lt(e.nodeName);if(yt(ue.uponSanitizeElement,e,{tagName:r,allowedTags:ve}),Me&&e.hasChildNodes()&&!At(e.firstElementChild)&&E(/<[/\w!]/g,e.innerHTML)&&E(/<[/\w!]/g,e.textContent))return mt(e),!0;if(7===e.nodeType)return mt(e),!0;if(Me&&8===e.nodeType&&E(/<[/\w]/g,e.data))return mt(e),!0;if(!(ke.tagCheck instanceof Function&&ke.tagCheck(r))&&(!ve[r]||xe[r])){if(!xe[r]&&xt(r)){if(Ce.tagNameCheck instanceof RegExp&&E(Ce.tagNameCheck,r))return!1;if(Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(r))return!1}if(Ue&&!qe[r]){const t=X(e)||e.parentNode,n=J(e)||e.childNodes;if(n&&t)for(let r=n.length-1;r>=0;--r){const i=G(n[r],!0);i.__removalCount=(e.__removalCount||0)+1,t.insertBefore(i,K(e))}}return mt(e),!0}return e instanceof h&&!function(e){let t=X(e);t&&t.tagName||(t={namespaceURI:Xe,tagName:"template"});const n=b(e.tagName),r=b(t.tagName);return!!tt[e.namespaceURI]&&(e.namespaceURI===Je?t.namespaceURI===Ze?"svg"===n:t.namespaceURI===Ke?"svg"===n&&("annotation-xml"===r||rt[r]):Boolean(pt[n]):e.namespaceURI===Ke?t.namespaceURI===Ze?"math"===n:t.namespaceURI===Je?"math"===n&&it[r]:Boolean(ft[n]):e.namespaceURI===Ze?!(t.namespaceURI===Je&&!it[r])&&!(t.namespaceURI===Ke&&!rt[r])&&!ft[n]&&(ot[n]||!pt[n]):!("application/xhtml+xml"!==st||!tt[e.namespaceURI]))}(e)?(mt(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!E(/<\/no(script|embed|frames)/i,e.innerHTML)?(Be&&3===e.nodeType&&(t=e.textContent,p([ce,de,he],e=>{t=y(t,e," ")}),e.textContent!==t&&(_(n.removed,{element:e.cloneNode()}),e.textContent=t)),yt(ue.afterSanitizeElements,e,null),!1):(mt(e),!0)},Ct=function(e,t,n){if(je&&("id"===t||"name"===t)&&(n in i||n in ct))return!1;if(Ie&&!Ee[t]&&E(pe,t));else if(Se&&E(fe,t));else if(ke.attributeCheck instanceof Function&&ke.attributeCheck(t,e));else if(!ye[t]||Ee[t]){if(!(xt(e)&&(Ce.tagNameCheck instanceof RegExp&&E(Ce.tagNameCheck,e)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(e))&&(Ce.attributeNameCheck instanceof RegExp&&E(Ce.attributeNameCheck,t)||Ce.attributeNameCheck instanceof Function&&Ce.attributeNameCheck(t,e))||"is"===t&&Ce.allowCustomizedBuiltInElements&&(Ce.tagNameCheck instanceof RegExp&&E(Ce.tagNameCheck,n)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(n))))return!1}else if(Qe[t]);else if(E(be,y(n,_e,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==w(n,"data:")||!Ye[e])if(Te&&!E(me,y(n,_e,"")));else if(n)return!1;return!0},xt=function(e){return"annotation-xml"!==e&&A(e,ge)},Et=function(e){yt(ue.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||vt(e))return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ye,forceKeepAttr:void 0};let i=t.length;for(;i--;){const o=t[i],{name:s,namespaceURI:a,value:l}=o,u=lt(s),c=l;let d="value"===s?c:C(c);if(r.attrName=u,r.attrValue=d,r.keepAttr=!0,r.forceKeepAttr=void 0,yt(ue.uponSanitizeAttribute,e,r),d=r.attrValue,!Fe||"id"!==u&&"name"!==u||(_t(s,e),d="user-content-"+d),Me&&E(/((--!?|])>)|<\/(style|title|textarea)/i,d)){_t(s,e);continue}if("attributename"===u&&A(d,"href")){_t(s,e);continue}if(r.forceKeepAttr)continue;if(!r.keepAttr){_t(s,e);continue}if(!De&&E(/\/>/i,d)){_t(s,e);continue}Be&&p([ce,de,he],e=>{d=y(d,e," ")});const h=lt(e.nodeName);if(Ct(h,u,d)){if(ne&&"object"==typeof W&&"function"==typeof W.getAttributeType)if(a);else switch(W.getAttributeType(h,u)){case"TrustedHTML":d=ne.createHTML(d);break;case"TrustedScriptURL":d=ne.createScriptURL(d)}if(d!==c)try{a?e.setAttributeNS(a,s,d):e.setAttribute(s,d),vt(e)?mt(e):m(n.removed)}catch(t){_t(s,e)}}else _t(s,e)}yt(ue.afterSanitizeAttributes,e,null)},kt=function e(t){let n=null;const r=bt(t);for(yt(ue.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)yt(ue.uponSanitizeShadowNode,n,null),wt(n),Et(n),n.content instanceof a&&e(n.content);yt(ue.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,i=null,s=null,l=null;if(et=!e,et&&(e="\x3c!--\x3e"),"string"!=typeof e&&!At(e)){if("function"!=typeof e.toString)throw k("toString is not a function");if("string"!=typeof(e=e.toString()))throw k("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Le||ht(t),n.removed=[],"string"==typeof e&&(He=!1),He){if(e.nodeName){const t=lt(e.nodeName);if(!ve[t]||xe[t])throw k("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof d)r=gt("\x3c!----\x3e"),i=r.ownerDocument.importNode(e,!0),1===i.nodeType&&"BODY"===i.nodeName||"HTML"===i.nodeName?r=i:r.appendChild(i);else{if(!Re&&!Be&&!Ne&&-1===e.indexOf("<"))return ne&&Pe?ne.createHTML(e):e;if(r=gt(e),!r)return Re?null:Pe?re:""}r&&Ve&&mt(r.firstChild);const u=bt(He?e:r);for(;s=u.nextNode();)wt(s),Et(s),s.content instanceof a&&kt(s.content);if(He)return e;if(Re){if(Oe)for(l=se.call(r.ownerDocument);r.firstChild;)l.appendChild(r.firstChild);else l=r;return(ye.shadowroot||ye.shadowrootmode)&&(l=le.call(o,l,!0)),l}let c=Ne?r.outerHTML:r.innerHTML;return Ne&&ve["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&E(Z,r.ownerDocument.doctype.name)&&(c="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+c),Be&&p([ce,de,he],e=>{c=y(c,e," ")}),ne&&Pe?ne.createHTML(c):c},n.setConfig=function(){ht(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Le=!0},n.clearConfig=function(){ut=null,Le=!1},n.isValidAttribute=function(e,t,n){ut||ht({});const r=lt(e),i=lt(t);return Ct(r,i,n)},n.addHook=function(e,t){"function"==typeof t&&_(ue[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=f(ue[e],t);return-1===n?void 0:g(ue[e],n,1)[0]}return m(ue[e])},n.removeHooks=function(e){ue[e]=[]},n.removeAllHooks=function(){ue={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();window.__SHOPQ_INITIALIZED__?console.log("ShopQ: Already initialized, skipping duplicate"):(window.__SHOPQ_INITIALIZED__=!0,function(){function n(e){return e?ne.sanitize(e,{ALLOWED_TAGS:["p","br","strong","em","b","i","u","a","ul","ol","li","div","span","h1","h2","h3","h4","h5","h6","table","tr","td","th","thead","tbody"],ALLOWED_ATTR:["href","target","rel","style","class"],ALLOW_DATA_ATTR:!1}):""}console.log("ShopQ: Content script loaded (bundled)"),document.getElementById("shopq-digest-iframe")?.remove(),document.getElementById("shopq-nav-button")?.remove(),document.getElementById("shopq-refresh-banner")?.remove(),document.getElementById("shopq-layout-styles")?.remove(),document.getElementById("shopq-sidebar-panel")?.remove(),document.documentElement.classList.remove("shopq-drawer-open"),console.log("ShopQ: Cleaned up stale elements");const r=new Map;let i=null,o=0;function s(){const e=t.Ay.pool();return{observable:e,update:n=>e.plug(t.Ay.constant(n)),clear:()=>e.plug(t.Ay.constant(null))}}const a="sdk_mailqapp_8eb273b616",l="shopq_label_cache",u={Event:"Event",Notification:"Notif",Newsletter:"Newsletter",Promotion:"Promo",Receipt:"Receipt",Message:"Message",Otp:"OTP"},c={receipts:"Receipt",messages:"Message","action-required":null};let d,h={};const p=new Promise(e=>{d=e});function f(e){return{Event:{foreground:"#7b1fa2",background:"#f3e5f5"},Newsletter:{foreground:"#2e7d32",background:"#e8f5e9"},Receipt:{foreground:"#ef6c00",background:"#fff3e0"},Notification:{foreground:"#00838f",background:"#e0f7fa"},Promotion:{foreground:"#c2185b",background:"#fce4ec"},Message:{foreground:"#1565c0",background:"#e3f2fd"},Otp:{foreground:"#d84315",background:"#fbe9e7"}}[e]||{foreground:"#5f6368",background:"#f1f3f4"}}function m(e,t){const n=r.get(e);if(!n)return;const i=t?.type||c[t?.clientLabel];if(i){const t={title:u[o=i]||o,foregroundColor:f(o).foreground,backgroundColor:f(o).background};console.log(`ShopQ: Updating type badge for ${e}:`,t.title),n.typeStream.update(t)}else n.typeStream.clear();var o;if("critical"===t?.importance){n.criticalStream.update({title:"CRITICAL",foregroundColor:"#c62828",backgroundColor:"#ffebee"});const e=n.threadRowView.getElement();e&&e.classList.add("shopq-critical-row")}else{n.criticalStream.clear();const e=n.threadRowView.getElement();e&&e.classList.remove("shopq-critical-row")}}let _=0;const g=[];async function b(e){try{await p,_++;const t=await e.getThreadIDAsync();if(_<=5){const e=Object.keys(h).slice(0,3);console.log(`ShopQ: Handler #${_} - threadId: ${t}, cache sample: ${e.join(", ")}`)}if(!t)return;if(g.length<50&&!g.includes(t)&&g.push(t),r.has(t))return void m(t,h[t]);const n=s(),i=s();e.addLabel(n.observable),e.addLabel(i.observable),r.set(t,{typeStream:n,criticalStream:i,threadRowView:e});const o=h[t];o&&m(t,o),e.on("destroy",()=>{r.delete(t)})}catch(e){console.debug("ShopQ: Error handling thread row:",e)}}function v(){try{return!!chrome.runtime?.id}catch(e){return!1}}function A(){const e=document.getElementById("shopq-refresh-banner");e&&e.remove();const t=document.createElement("div");t.id="shopq-refresh-banner",t.innerHTML='\n    <div style="\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      background: #1a73e8;\n      color: white;\n      padding: 8px 16px;\n      text-align: center;\n      font-family: \'Google Sans\', Roboto, sans-serif;\n      font-size: 14px;\n      z-index: 99999;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      gap: 12px;\n    ">\n      <span>ShopQ was updated. Please refresh this page to continue.</span>\n      <button onclick="location.reload()" style="\n        background: white;\n        color: #1a73e8;\n        border: none;\n        padding: 6px 16px;\n        border-radius: 4px;\n        font-weight: 500;\n        cursor: pointer;\n      ">Refresh</button>\n      <button onclick="this.parentElement.remove()" style="\n        background: transparent;\n        color: white;\n        border: 1px solid rgba(255,255,255,0.5);\n        padding: 6px 12px;\n        border-radius: 4px;\n        cursor: pointer;\n      ">Dismiss</button>\n    </div>\n  ',document.body.appendChild(t)}async function y(){if(!v())return console.warn("ShopQ: Extension context invalidated - showing refresh banner"),void A();h=await async function(){try{return(await chrome.storage.local.get(l))[l]||{}}catch(e){return console.error("ShopQ: Failed to preload cache:",e),{}}}(),console.log(`ShopQ: Preloaded ${Object.keys(h).length} cached threads`),d(),chrome.storage.onChanged.addListener((e,t)=>{if("local"===t){if(e[l]){const t=e[l].newValue||{},n=h;h=t,console.log(`ShopQ: Cache updated, ${Object.keys(h).length} threads, ${r.size} rows registered`);for(const[e,i]of r){const r=n[e],i=t[e];JSON.stringify(r)!==JSON.stringify(i)&&(console.log(`ShopQ: Updating badges for thread ${e}`),m(e,i))}}e.shopq_digest_needs_refresh&&i&&(console.log("ShopQ: Digest refresh signal received from auto-organize"),i(),chrome.storage.local.remove("shopq_digest_needs_refresh"))}}),console.log("ShopQ: Attempting InboxSDK.load with app ID:",a);try{const t=await e.load(2,a);console.log("ShopQ: InboxSDK loaded successfully"),t.Lists.registerThreadRowViewHandler(b),console.log("ShopQ: Thread row handler registered"),await async function(e){console.log("ShopQ: Setting up Reclaim sidebar with IFRAME ISOLATION...");const t=chrome.runtime.getURL("").slice(0,-1),n=document.createElement("div");n.id="shopq-returns-panel",n.style.cssText="\n    width: 100%;\n    height: 100%;\n    display: flex;\n    min-width: 0;\n    overflow: hidden;\n    contain: layout paint style;\n  ";const r=document.createElement("iframe");r.src=chrome.runtime.getURL("returns-sidebar.html"),r.id="shopq-returns-iframe",r.style.cssText="\n    width: 100%;\n    height: 100%;\n    border: none;\n    display: block;\n    background: #fff;\n  ",n.appendChild(r);let s=!1;async function a(){try{const e=(await chrome.runtime.sendMessage({type:"GET_VISIBLE_ORDERS"})).orders||[];s&&r.contentWindow&&r.contentWindow.postMessage({type:"SHOPQ_ORDERS_DATA",orders:e},t),u(e)}catch(e){console.error("ShopQ: Failed to fetch visible orders:",e)}}async function l(e,n){try{await chrome.runtime.sendMessage({type:"UPDATE_ORDER_STATUS",order_key:e,status:n}),s&&r.contentWindow&&r.contentWindow.postMessage({type:"SHOPQ_STATUS_UPDATED",order_key:e,status:n},t),await a()}catch(e){console.error("ShopQ: Failed to update order status:",e)}}function u(e){const t=document.querySelector('[data-tooltip="Reclaim"]');if(!t)return void console.log("ShopQ: Could not find sidebar icon for expiring indicator");const n=new Date,r=new Date(n.getTime()+6048e5),i=e.filter(e=>{const t=e.order_status||e.status,i=e.return_by_date||e.return_deadline;if("active"!==t||!i)return!1;const o=new Date(i);return o>=n&&o<=r}).length;console.log("ShopQ: Expiring returns count:",i);const o=t.querySelector(".shopq-expiring-dot");if(i>0)if(t.classList.add("shopq-has-expiring"),t.style.position="relative",o)o.title=`${i} return${i>1?"s":""} expiring soon`;else{const e=document.createElement("div");e.className="shopq-expiring-dot",e.title=`${i} return${i>1?"s":""} expiring soon`,t.appendChild(e),console.log("ShopQ: Added expiring returns indicator")}else t.classList.remove("shopq-has-expiring"),o&&(o.remove(),console.log("ShopQ: Removed expiring returns indicator"))}window.addEventListener("message",async e=>{if(e.origin===t){if("SHOPQ_RETURNS_SIDEBAR_READY"===e.data?.type&&(console.log("ShopQ: Returns sidebar iframe ready"),s=!0,await a()),"SHOPQ_GET_ORDERS"===e.data?.type&&(console.log("ShopQ: Fetching visible orders..."),await a()),"SHOPQ_UPDATE_ORDER_STATUS"===e.data?.type&&(console.log("ShopQ: Updating order status:",e.data.order_key,e.data.status),await l(e.data.order_key,e.data.status)),"SHOPQ_ENRICH_ORDER"===e.data?.type){console.log("ShopQ: Enriching order:",e.data.order_key);try{const n=await chrome.runtime.sendMessage({type:"ENRICH_ORDER",order_key:e.data.order_key});s&&r.contentWindow&&r.contentWindow.postMessage({type:"SHOPQ_ENRICH_RESULT",...n},t)}catch(e){console.error("ShopQ: Enrichment failed:",e),s&&r.contentWindow&&r.contentWindow.postMessage({type:"SHOPQ_ENRICH_RESULT",state:"error",error:e.message},t)}}if("SHOPQ_SET_MERCHANT_RULE"===e.data?.type){console.log("ShopQ: Setting merchant rule:",e.data.merchant_domain,e.data.window_days);try{await chrome.runtime.sendMessage({type:"SET_MERCHANT_RULE",merchant_domain:e.data.merchant_domain,window_days:e.data.window_days}),await chrome.runtime.sendMessage({type:"RECOMPUTE_MERCHANT_DEADLINES",merchant_domain:e.data.merchant_domain}),s&&r.contentWindow&&r.contentWindow.postMessage({type:"SHOPQ_MERCHANT_RULE_SET",merchant_domain:e.data.merchant_domain},t),await a()}catch(e){console.error("ShopQ: Set merchant rule failed:",e)}}if("SHOPQ_GET_ORDER"===e.data?.type){console.log("ShopQ: Getting order:",e.data.order_key);try{const n=await chrome.runtime.sendMessage({type:"GET_ORDER",order_key:e.data.order_key});s&&r.contentWindow&&r.contentWindow.postMessage({type:"SHOPQ_ORDER_DATA",order:n.order},t)}catch(e){console.error("ShopQ: Get order failed:",e)}}if("SHOPQ_CLOSE_SIDEBAR"===e.data?.type){console.log("ShopQ: Closing sidebar");const e=document.querySelector('[data-tooltip="Reclaim"]');e&&e.click()}"SHOPQ_RESCAN_EMAILS"===e.data?.type&&(console.log("ShopQ: Manual rescan requested..."),chrome.runtime.sendMessage({type:"SCAN_FOR_PURCHASES"}).then(e=>{console.log("ShopQ: Rescan complete:",e),s&&r.contentWindow&&r.contentWindow.postMessage({type:"SHOPQ_SCAN_COMPLETE",result:e},t),a()}).catch(e=>{console.error("ShopQ: Rescan failed:",e),s&&r.contentWindow&&r.contentWindow.postMessage({type:"SHOPQ_SCAN_COMPLETE",error:e.message},t)})),"SHOPQ_GET_USER_ADDRESS"===e.data?.type&&chrome.runtime.sendMessage({type:"GET_USER_ADDRESS"}).then(e=>{s&&r.contentWindow&&r.contentWindow.postMessage({type:"SHOPQ_USER_ADDRESS",address:e?.address||null},t)}).catch(e=>{console.error("ShopQ: Failed to get user address:",e),s&&r.contentWindow&&r.contentWindow.postMessage({type:"SHOPQ_USER_ADDRESS",address:null},t)}),"SHOPQ_SET_USER_ADDRESS"===e.data?.type&&chrome.runtime.sendMessage({type:"SET_USER_ADDRESS",address:e.data.address}).catch(e=>console.error("ShopQ: Failed to save address:",e)),"SHOPQ_GET_DELIVERY_LOCATIONS"===e.data?.type&&chrome.runtime.sendMessage({type:"GET_DELIVERY_LOCATIONS",address:e.data.address}).then(e=>{s&&r.contentWindow&&r.contentWindow.postMessage({type:"SHOPQ_DELIVERY_LOCATIONS",locations:e?.locations||[]},t)}).catch(e=>{console.error("ShopQ: Failed to get delivery locations:",e),s&&r.contentWindow&&r.contentWindow.postMessage({type:"SHOPQ_DELIVERY_LOCATIONS",locations:[],error:e.message},t)}),"SHOPQ_GET_DELIVERY_QUOTE"===e.data?.type&&chrome.runtime.sendMessage({type:"GET_DELIVERY_QUOTE",order_key:e.data.order_key,pickup_address:e.data.pickup_address,dropoff_location_id:e.data.dropoff_location_id}).then(e=>{s&&r.contentWindow&&r.contentWindow.postMessage({type:"SHOPQ_DELIVERY_QUOTE",quote:e?.quote||e,error:e?.error},t)}).catch(e=>{console.error("ShopQ: Failed to get delivery quote:",e),s&&r.contentWindow&&r.contentWindow.postMessage({type:"SHOPQ_DELIVERY_QUOTE",error:e.message},t)}),"SHOPQ_CONFIRM_DELIVERY"===e.data?.type&&chrome.runtime.sendMessage({type:"CONFIRM_DELIVERY",delivery_id:e.data.delivery_id}).then(e=>{s&&r.contentWindow&&r.contentWindow.postMessage({type:"SHOPQ_DELIVERY_CONFIRMED",delivery:e?.delivery||e,error:e?.error},t)}).catch(e=>{console.error("ShopQ: Failed to confirm delivery:",e),s&&r.contentWindow&&r.contentWindow.postMessage({type:"SHOPQ_DELIVERY_CONFIRMED",error:e.message},t)}),"SHOPQ_CANCEL_DELIVERY"===e.data?.type&&chrome.runtime.sendMessage({type:"CANCEL_DELIVERY",delivery_id:e.data.delivery_id}).then(e=>{s&&r.contentWindow&&r.contentWindow.postMessage({type:"SHOPQ_DELIVERY_CANCELED",error:e?.error},t)}).catch(e=>{console.error("ShopQ: Failed to cancel delivery:",e),s&&r.contentWindow&&r.contentWindow.postMessage({type:"SHOPQ_DELIVERY_CANCELED",error:e.message},t)}),"SHOPQ_GET_ACTIVE_DELIVERIES"===e.data?.type&&chrome.runtime.sendMessage({type:"GET_ACTIVE_DELIVERIES"}).then(e=>{s&&r.contentWindow&&r.contentWindow.postMessage({type:"SHOPQ_ACTIVE_DELIVERIES",deliveries:e?.deliveries||[]},t)}).catch(e=>{console.error("ShopQ: Failed to get active deliveries:",e),s&&r.contentWindow&&r.contentWindow.postMessage({type:"SHOPQ_ACTIVE_DELIVERIES",deliveries:[]},t)})}});try{console.log("ShopQ: Calling sdk.Global.addSidebarContentPanel...");const t="data:image/svg+xml,"+encodeURIComponent('\n      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="#5f6368" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n        <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>\n        <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>\n        <line x1="12" y1="22.08" x2="12" y2="12"></line>\n      </svg>\n    '),r=await e.Global.addSidebarContentPanel({el:n,title:"Reclaim",iconUrl:t});console.log("ShopQ: Reclaim sidebar registered successfully:",r);let s=!0,l=!1;r.on("activate",()=>{console.log("ShopQ: Reclaim panel activated"),a()}),r.on("deactivate",()=>{console.log("ShopQ: Reclaim panel deactivated, isNavigating:",l),l||(s=!1,console.log("ShopQ: User closed sidebar"))}),e.Router.handleAllRoutes(e=>{console.log("ShopQ: Route changed to:",e.getRouteID()),l=!0,setTimeout(()=>{if(l=!1,s)try{r.open(),console.log("ShopQ: Re-opened sidebar after navigation")}catch(e){console.log("ShopQ: Could not re-open sidebar:",e.message)}},150)}),i=()=>{const e=Date.now();e-o<5e3?console.log("ShopQ: Returns refresh debounced (too soon)"):(o=e,console.log("ShopQ: External returns refresh triggered"),a())},r.open(),console.log("ShopQ: Reclaim sidebar opened on initial load")}catch(e){console.error("ShopQ: Failed to add Reclaim sidebar panel:",e),console.log("ShopQ: Falling back to manual button injection..."),w(),new MutationObserver(()=>{document.getElementById("shopq-nav-button")||w()}).observe(document.body,{childList:!0,subtree:!0})}}(t)}catch(e){console.error("ShopQ: Failed to load InboxSDK:",e.message),v()&&!e.message?.includes("Extension context invalidated")||A()}}function w(){if(document.getElementById("shopq-nav-button"))return;const e=document.querySelector("[data-ogsr-up]")?.closest("div")?.parentElement||document.querySelector("header")?.querySelector('[role="navigation"]')||document.querySelector('[aria-label="Support"]')?.closest("div")?.parentElement;if(!e)return console.log("ShopQ: Header area not found, retrying..."),void setTimeout(w,1e3);const t=document.createElement("div");t.id="shopq-nav-button",t.innerHTML=`\n    <style>\n      #shopq-nav-button {\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        width: 40px;\n        height: 40px;\n        border-radius: 50%;\n        cursor: pointer;\n        margin: 0 4px;\n        transition: background 0.2s;\n      }\n      #shopq-nav-button:hover { background: rgba(255,255,255,0.1); }\n      #shopq-nav-button img { width: 24px; height: 24px; }\n      #shopq-nav-button.active { background: rgba(138, 180, 248, 0.2); }\n    </style>\n    <img src="${chrome.runtime.getURL("icons/icon48.png")}" alt="ShopQ Digest" title="ShopQ Digest">\n  `,t.addEventListener("click",()=>{t.classList.toggle("active"),function(){const e=document.getElementById("shopq-digest-iframe");if(e)return void e.remove();const t=document.createElement("iframe");t.id="shopq-digest-iframe",t.style.cssText="\n    position: fixed !important;\n    top: 0 !important;\n    right: 0 !important;\n    width: 360px !important;\n    height: 100vh !important;\n    height: 100dvh !important;\n    border: none !important;\n    z-index: 2147483647 !important;\n    background: white !important;\n    box-shadow: -2px 0 8px rgba(0,0,0,0.15) !important;\n  ",document.body.appendChild(t);const r=t.contentDocument;r.open(),r.write('\n    <!DOCTYPE html>\n    <html><head>\n      <meta charset="UTF-8">\n      <style>\n        * { margin: 0; padding: 0; box-sizing: border-box; }\n        html, body { height: 100%; font-family: \'Google Sans\', Roboto, sans-serif; }\n        .drawer { display: flex; flex-direction: column; height: 100%; }\n        .header {\n          padding: 16px 20px;\n          border-bottom: 1px solid #e0e0e0;\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n        }\n        .header h2 { font-size: 18px; font-weight: 500; color: #202124; }\n        .close-btn {\n          background: none;\n          border: none;\n          font-size: 24px;\n          cursor: pointer;\n          color: #5f6368;\n          padding: 4px 8px;\n          border-radius: 4px;\n        }\n        .close-btn:hover { background: #f1f3f4; }\n        .content { flex: 1; overflow-y: auto; padding: 16px 20px; }\n        .loading {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          height: 200px;\n          color: #5f6368;\n        }\n        .spinner {\n          width: 32px;\n          height: 32px;\n          border: 3px solid #e0e0e0;\n          border-top-color: #1a73e8;\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n          margin-bottom: 12px;\n        }\n        @keyframes spin { to { transform: rotate(360deg); } }\n        a { color: #1a73e8; text-decoration: none; }\n        a:hover { text-decoration: underline; }\n      </style>\n    </head>\n    <body>\n      <div class="drawer">\n        <div class="header">\n          <h2>ShopQ Digest</h2>\n          <button class="close-btn" id="close-btn">&times;</button>\n        </div>\n        <div class="content" id="content">\n          <div class="loading">\n            <div class="spinner"></div>\n            <span>Loading digest...</span>\n          </div>\n        </div>\n      </div>\n    </body></html>\n  '),r.close(),r.getElementById("close-btn").addEventListener("click",()=>{t.remove(),document.getElementById("shopq-nav-button")?.classList.remove("active")}),async function(){try{const e=await chrome.storage.local.get([l,"userName","userCity","userRegion"]),t=e[l]||{},n=Object.entries(t);if(0===n.length)return{empty:!0,message:"No classified emails yet. Click the ShopQ icon to organize your inbox first."};const r=n.slice(0,50).map(([e,t])=>({id:e,messageId:t.messageId||e,threadId:e,subject:t.subject||"(no subject)",snippet:t.snippet||"",from:t.from||"",type:t.type?.toLowerCase()||"message",importance:t.importance||"routine",client_label:t.clientLabel||"everything-else",date:t.date||t.updatedAt||(new Date).toISOString()})),i={current_data:r,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,client_now:(new Date).toISOString(),user_name:e.userName||void 0,city:e.userCity||void 0,region:e.userRegion||void 0};console.log("ShopQ: Digest request payload:",{emailCount:r.length,sampleEmail:r[0],timezone:i.timezone,user_name:i.user_name,city:i.city});const o=await fetch("https://shopq-api-488078904670.us-central1.run.app/api/context-digest",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!o.ok){let e="";try{const t=await o.json();e=t.detail||JSON.stringify(t)}catch{e=await o.text()}throw console.error("ShopQ: Digest API error:",o.status,e),new Error(`API error ${o.status}: ${e}`)}const s=await o.json();return console.log("ShopQ: Digest API response:",s),{success:!0,data:s}}catch(e){return console.error("ShopQ: Failed to fetch digest:",e),e.message?.includes("Extension context invalidated")||e.message?.includes("context invalidated")?{error:!0,message:"Extension was updated. Please refresh Gmail (Cmd+R or F5).",needsRefresh:!0}:{error:!0,message:e.message}}}().then(e=>{const t=r.getElementById("content");t&&(e.empty?t.innerHTML=`\n        <div style="text-align: center; padding: 40px 20px; color: #5f6368;">\n          <div style="font-size: 48px; margin-bottom: 16px;"></div>\n          <p>${n(e.message)}</p>\n        </div>\n      `:e.error?t.innerHTML=`\n        <div style="text-align: center; padding: 40px 20px;">\n          <p style="color: #c5221f;">${n(e.message)}</p>\n        </div>\n      `:e.data?.html?t.innerHTML=`<div style="line-height: 1.6;">${n(e.data.html)}</div>`:e.data?.narrative?t.innerHTML=`<div style="line-height: 1.6;">${n(e.data.narrative)}</div>`:t.innerHTML='<p style="text-align: center; color: #5f6368;">No digest available.</p>')})}()});const r=e.querySelector("img[aria-label]")?.closest("a, div")||e.lastElementChild;r?(r.parentElement.insertBefore(t,r),console.log("ShopQ: Nav button injected successfully")):(e.appendChild(t),console.log("ShopQ: Nav button appended to header"))}window.addEventListener("message",async e=>{if(e.source===window){if("SHOPQ_TEST_ORGANIZE"===e.data?.type){console.log("ShopQ: Test hook - triggering organize...");try{const e=await chrome.runtime.sendMessage({type:"ORGANIZE_NOW"});window.postMessage({type:"SHOPQ_TEST_ORGANIZE_RESPONSE",response:e},"*")}catch(e){window.postMessage({type:"SHOPQ_TEST_ORGANIZE_RESPONSE",error:e.message},"*")}}if("SHOPQ_TEST_CHECK_AUTH"===e.data?.type){console.log("ShopQ: Test hook - checking auth...");try{const e=await chrome.runtime.sendMessage({type:"CHECK_AUTH"});window.postMessage({type:"SHOPQ_TEST_CHECK_AUTH_RESPONSE",response:e},"*")}catch(e){window.postMessage({type:"SHOPQ_TEST_CHECK_AUTH_RESPONSE",error:e.message},"*")}}if("SHOPQ_TEST_CLEAR_CACHE"===e.data?.type){console.log("ShopQ: Test hook - clearing cache...");try{await chrome.storage.local.remove("shopq_label_cache"),window.postMessage({type:"SHOPQ_TEST_CLEAR_CACHE_RESPONSE",success:!0},"*")}catch(e){window.postMessage({type:"SHOPQ_TEST_CLEAR_CACHE_RESPONSE",error:e.message},"*")}}if("SHOPQ_TEST_SET_CACHE"===e.data?.type){console.log("ShopQ: Test hook - setting cache with",Object.keys(e.data.cacheData||{}).length,"entries...");try{await chrome.storage.local.set({[l]:e.data.cacheData}),h=e.data.cacheData,window.postMessage({type:"SHOPQ_TEST_SET_CACHE_RESPONSE",success:!0},"*")}catch(e){window.postMessage({type:"SHOPQ_TEST_SET_CACHE_RESPONSE",error:e.message},"*")}}if("SHOPQ_TEST_GET_THREAD_IDS"===e.data?.type&&(console.log("ShopQ: Test hook - returning",g.length,"thread IDs"),window.postMessage({type:"SHOPQ_TEST_GET_THREAD_IDS_RESPONSE",threadIds:[...g]},"*")),"SHOPQ_TEST_GET_CACHE_STATUS"===e.data?.type){console.log("ShopQ: Test hook - getting cache status...");try{const e=(await chrome.storage.local.get(l))[l]||{},t=Object.entries(e);window.postMessage({type:"SHOPQ_TEST_GET_CACHE_STATUS_RESPONSE",count:t.length,sample:t.slice(0,5).map(([e,t])=>({threadId:e.slice(0,12),...t}))},"*")}catch(e){window.postMessage({type:"SHOPQ_TEST_GET_CACHE_STATUS_RESPONSE",error:e.message},"*")}}}}),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",y):y()}())})()})();