version: 1
guardrails:
  never_surface:
    - name: calendar_responses
      description: Calendar auto-responses and read receipts never surface
      subject_any:
        - "accepted your invitation"
        - "declined your invitation"
        - "tentative response"
        - "read receipt"
    - name: generic_negations
      description: Generic meeting negations are usually noise
      subject_any:
        - "not meeting"
        - "no meeting"
        - "no class"
    - name: automated_receipts
      description: Automated read receipts or delivery notifications
      subject_any:
        - "read:"
        - "delivered:"
  force_critical:
    - name: canceled_events
      description: Canceled events are urgent - they change your schedule
      subject_any:
        - "canceled event"
        - "cancelled event"
        - "event canceled"
        - "event cancelled"
        - "is canceled"
        - "is cancelled"
        - "meeting canceled"
        - "meeting cancelled"
        - "class canceled"
        - "class cancelled"
        - "session canceled"
        - "practice canceled"
        - "postponed"
        - "rescheduled"
    - name: otp_codes
      description: OTP/verification codes are time-sensitive and critical
      subject_any:
        - "verification code"
        - "login code"
        - "one-time password"
        - "2fa code"
        - "sudo"
        - "authentication code"
        - "verify your email"
        - "confirm your email"
    - name: security_alert
      description: Security alerts for unauthorized access
      subject_any:
        - "security alert"
        - "unusual activity"
        - "suspicious sign-in"
        - "new sign-in"
      snippet_none:
        - "you allowed"
        - "you authorized"
        - "you granted access"
        - "successfully signed in"
    - name: data_breach
      description: Security incidents always escalate
      subject_any:
        - "data breach"
        - "account compromised"
        - "password reset required"
    - name: fraud_alert
      description: Financial fraud alerts are critical
      subject_any:
        - "fraud alert"
        - "suspicious activity"
        - "unauthorized charge"
        - "lock your card"
    - name: urgent_payment_due
      description: Explicit bill/payment due warnings
      subject_any:
        - "payment due today"
        - "bill due today"
        - "final notice"
  force_non_critical:
    - name: autopay_notifications
      description: Autopay confirmations are routine FYIs
      subject_any:
        - "autopay scheduled"
        - "autopay processed"
        - "auto-pay confirmation"
    - name: oauth_confirmations
      description: OAuth authorization confirmations are routine (not security incidents)
      subject_any:
        - "account activity"
      snippet_any:
        - "you allowed"
        - "you authorized"
        - "you granted access"
        - "successfully signed in"
